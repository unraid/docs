"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[8452],{4137:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"API/cli","title":"R\xe9f\xe9rence CLI","description":"R\xe9f\xe9rence compl\xe8te pour toutes les commandes CLI de l\'API Unraid","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/API/cli.mdx","sourceDirName":"API","slug":"/API/cli","permalink":"/docs/pr-preview/pr-355/fr/API/cli","draft":false,"unlisted":false,"editUrl":"https://translate.unraid.net/unraid-docs/fr","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"R\xe9f\xe9rence CLI","description":"R\xe9f\xe9rence compl\xe8te pour toutes les commandes CLI de l\'API Unraid","sidebar_position":4},"sidebar":"unraidSidebar","previous":{"title":"Configuration du fournisseur OIDC","permalink":"/docs/pr-preview/pr-355/fr/API/oidc-provider-setup"},"next":{"title":"Gestion Programmatique des Cl\xe9s API","permalink":"/docs/pr-preview/pr-355/fr/API/programmatic-api-key-management"}}');var i=r(4848),l=r(8453);const a={title:"R\xe9f\xe9rence CLI",description:"R\xe9f\xe9rence compl\xe8te pour toutes les commandes CLI de l'API Unraid",sidebar_position:4},d="Commandes CLI",o={},t=[{value:"\ud83d\ude80 Gestion des services",id:"-gestion-des-services",level:2},{value:"D\xe9marrer",id:"d\xe9marrer",level:3},{value:"Arr\xeater",id:"arr\xeater",level:3},{value:"Red\xe9marrer",id:"red\xe9marrer",level:3},{value:"Journaux",id:"journaux",level:3},{value:"\u2699\ufe0f Commandes de configuration",id:"\ufe0f-commandes-de-configuration",level:2},{value:"Configuration",id:"configuration",level:3},{value:"Changer d&#39;environnement",id:"changer-denvironnement",level:3},{value:"Mode d\xe9veloppeur",id:"mode-d\xe9veloppeur",level:3},{value:"Gestion des cl\xe9s API",id:"gestion-des-cl\xe9s-api",level:2},{value:"Commandes des cl\xe9s API",id:"commandes-des-cl\xe9s-api",level:3},{value:"Gestion du SSO (Single Sign-On)",id:"gestion-du-sso-single-sign-on",level:2},{value:"Commande de base SSO",id:"commande-de-base-sso",level:3},{value:"Ajouter un utilisateur SSO",id:"ajouter-un-utilisateur-sso",level:4},{value:"Supprimer un utilisateur SSO",id:"supprimer-un-utilisateur-sso",level:4},{value:"Lister les utilisateurs SSO",id:"lister-les-utilisateurs-sso",level:4},{value:"Valider le jeton SSO",id:"valider-le-jeton-sso",level:4},{value:"G\xe9n\xe9ration de rapport",id:"g\xe9n\xe9ration-de-rapport",level:2},{value:"G\xe9n\xe9rer un rapport",id:"g\xe9n\xe9rer-un-rapport",level:3},{value:"Notes",id:"notes",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"commandes-cli",children:"Commandes CLI"})}),"\n",(0,i.jsx)(n.admonition,{title:"Command Structure",type:"info",children:(0,i.jsxs)(n.p,{children:["Toutes les commandes suivent le mod\xe8le : ",(0,i.jsx)(n.code,{children:"unraid-api <command> [options]"})]})}),"\n",(0,i.jsx)(n.h2,{id:"-gestion-des-services",children:"\ud83d\ude80 Gestion des services"}),"\n",(0,i.jsx)(n.h3,{id:"d\xe9marrer",children:"D\xe9marrer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api start [--log-level <level>]\n"})}),"\n",(0,i.jsx)(n.p,{children:"D\xe9marre le service API Unraid."}),"\n",(0,i.jsx)(n.p,{children:"Options\xa0:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--log-level"})," : D\xe9finir le niveau de journalisation (trace|debug|info|warn|error|fatal)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Alternative\xa0: vous pouvez \xe9galement d\xe9finir le niveau du journal \xe0 l'aide de la variable d'environnement ",(0,i.jsx)(n.code,{children:"LOG_LEVEL"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"LOG_LEVEL=trace unraid-api start\n"})}),"\n",(0,i.jsx)(n.h3,{id:"arr\xeater",children:"Arr\xeater"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api stop [--delete]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Arr\xeate le service API Unraid."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--delete"}),": Optionnel. Supprimer le r\xe9pertoire de base PM2"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"red\xe9marrer",children:"Red\xe9marrer"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api restart [--log-level <level>]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Red\xe9marre le service API Unraid."}),"\n",(0,i.jsx)(n.p,{children:"Options\xa0:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--log-level"})," : D\xe9finir le niveau de journalisation (trace|debug|info|warn|error|fatal)"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Alternative\xa0: vous pouvez \xe9galement d\xe9finir le niveau du journal \xe0 l'aide de la variable d'environnement ",(0,i.jsx)(n.code,{children:"LOG_LEVEL"})," :"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"LOG_LEVEL=trace unraid-api restart\n"})}),"\n",(0,i.jsx)(n.h3,{id:"journaux",children:"Journaux"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api logs [-l <lines>]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Afficher les journaux de l'API."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-l, --lines"}),": Optionnel. Nombre de lignes \xe0 afficher (d\xe9faut : 100)"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-commandes-de-configuration",children:"\u2699\ufe0f Commandes de configuration"}),"\n",(0,i.jsx)(n.h3,{id:"configuration",children:"Configuration"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api config\n"})}),"\n",(0,i.jsx)(n.p,{children:"Affiche les valeurs de configuration actuelles."}),"\n",(0,i.jsx)(n.h3,{id:"changer-denvironnement",children:"Changer d'environnement"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api switch-env [-e <environment>]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Bascule entre les environnements de production et de staging."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-e, --environment"}),": Optionnel. Environnement cible (production|staging)"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"mode-d\xe9veloppeur",children:"Mode d\xe9veloppeur"}),"\n",(0,i.jsx)(n.admonition,{title:"Web Gestion de l'IU",type:"tip",children:(0,i.jsxs)(n.p,{children:["Vous pouvez \xe9galement g\xe9rer les options de d\xe9veloppeur via l'interface Web \xe0 ",(0,i.jsx)(n.strong,{children:"Param\xe8tres"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Acc\xe8s \xe0 la gestion"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Options du d\xe9veloppeur"})]})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api developer                       # Interactive prompt for tools\nunraid-api developer --sandbox true        # Enable GraphQL sandbox\nunraid-api developer --sandbox false       # Disable GraphQL sandbox\nunraid-api developer --enable-modal        # Enable modal testing tool\nunraid-api developer --disable-modal       # Disable modal testing tool\n"})}),"\n",(0,i.jsx)(n.p,{children:"Configurer les fonctionnalit\xe9s d\xe9veloppeur pour l'API\xa0:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bac \xe0 sable GraphQL"}),"\xa0: Activer/d\xe9sactiver le bac \xe0 sable Apollo GraphQL sur ",(0,i.jsx)(n.code,{children:"/graphql"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Outil de test modal"}),"\xa0: Activer/d\xe9sactiver le test modal de l'UI dans le menu Unraid"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"gestion-des-cl\xe9s-api",children:"Gestion des cl\xe9s API"}),"\n",(0,i.jsx)(n.admonition,{title:"Web Gestion de l'IU",type:"tip",children:(0,i.jsxs)(n.p,{children:["Vous pouvez \xe9galement g\xe9rer les cl\xe9s API via l'interface Web \xe0 ",(0,i.jsx)(n.strong,{children:"Param\xe8tres"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Acc\xe8s \xe0 la gestion"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Cl\xe9s API"})]})}),"\n",(0,i.jsx)(n.h3,{id:"commandes-des-cl\xe9s-api",children:"Commandes des cl\xe9s API"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api apikey [options]\n"})}),"\n",(0,i.jsx)(n.p,{children:"Cr\xe9er et g\xe9rer les cl\xe9s API via CLI."}),"\n",(0,i.jsx)(n.p,{children:"Options\xa0:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--name <name>"}),"\xa0: Nom de la cl\xe9"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"--create"}),"\xa0: Cr\xe9er une nouvelle cl\xe9"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-r, --roles <roles>"}),"\xa0: Liste des r\xf4les s\xe9par\xe9s par des virgules"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-p, --permissions <permissions>"}),"\xa0: Liste des permissions s\xe9par\xe9es par des virgules"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-d, --description <description>"}),"\xa0: Description de la cl\xe9"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"gestion-du-sso-single-sign-on",children:"Gestion du SSO (Single Sign-On)"}),"\n",(0,i.jsx)(n.admonition,{title:"OIDC Configuration",type:"info",children:(0,i.jsxs)(n.p,{children:["Pour la configuration du fournisseur OIDC/SSO, voir l'interface Web \xe0 ",(0,i.jsx)(n.strong,{children:"Param\xe8tres"})," \u2192 ",(0,i.jsx)(n.strong,{children:"Acc\xe8s \xe0 la gestion"})," \u2192 ",(0,i.jsx)(n.strong,{children:"API"})," \u2192 ",(0,i.jsx)(n.strong,{children:"OIDC"})," ou se r\xe9f\xe9rer au guide ",(0,i.jsx)(n.a,{href:"/docs/pr-preview/pr-355/fr/API/oidc-provider-setup",children:"Installation du fournisseur OIDC"}),"."]})}),"\n",(0,i.jsx)(n.h3,{id:"commande-de-base-sso",children:"Commande de base SSO"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api sso\n"})}),"\n",(0,i.jsx)(n.h4,{id:"ajouter-un-utilisateur-sso",children:"Ajouter un utilisateur SSO"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api sso add-user\n# or\nunraid-api sso add\n# or\nunraid-api sso a\n"})}),"\n",(0,i.jsx)(n.p,{children:"Ajouter un nouvel utilisateur pour l'authentification SSO."}),"\n",(0,i.jsx)(n.h4,{id:"supprimer-un-utilisateur-sso",children:"Supprimer un utilisateur SSO"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api sso remove-user\n# or\nunraid-api sso remove\n# or\nunraid-api sso r\n"})}),"\n",(0,i.jsx)(n.p,{children:"Supprimez un utilisateur (ou tous les utilisateurs) du SSO."}),"\n",(0,i.jsx)(n.h4,{id:"lister-les-utilisateurs-sso",children:"Lister les utilisateurs SSO"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api sso list-users\n# or\nunraid-api sso list\n# or\nunraid-api sso l\n"})}),"\n",(0,i.jsx)(n.p,{children:"Lister tous les utilisateurs SSO configur\xe9s."}),"\n",(0,i.jsx)(n.h4,{id:"valider-le-jeton-sso",children:"Valider le jeton SSO"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api sso validate-token <token>\n# or\nunraid-api sso validate\n# or\nunraid-api sso v\n"})}),"\n",(0,i.jsx)(n.p,{children:"Validez un jeton SSO et renvoyez son statut."}),"\n",(0,i.jsx)(n.h2,{id:"g\xe9n\xe9ration-de-rapport",children:"G\xe9n\xe9ration de rapport"}),"\n",(0,i.jsx)(n.h3,{id:"g\xe9n\xe9rer-un-rapport",children:"G\xe9n\xe9rer un rapport"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"unraid-api report [-r] [-j]\n"})}),"\n",(0,i.jsx)(n.p,{children:"G\xe9n\xe9rer un rapport syst\xe8me."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-r, --raw"}),"\xa0: Afficher la sortie de commande brute"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-j, --json"}),"\xa0: Afficher la sortie au format JSON"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"notes",children:"Notes"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"La plupart des commandes n\xe9cessitent des autorisations appropri\xe9es pour modifier l'\xe9tat du syst\xe8me"}),"\n",(0,i.jsx)(n.li,{children:"Certaines commandes n\xe9cessitent que l'API soit en cours d'ex\xe9cution ou arr\xeat\xe9e"}),"\n",(0,i.jsx)(n.li,{children:"Les cl\xe9s API doivent \xeatre stock\xe9es en toute s\xe9curit\xe9 car elles permettent l'acc\xe8s au syst\xe8me"}),"\n",(0,i.jsx)(n.li,{children:"Les modifications de configuration SSO peuvent n\xe9cessiter un red\xe9marrage du service"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>d});var s=r(6540);const i={},l=s.createContext(i);function a(e){const n=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(l.Provider,{value:n},e.children)}}}]);