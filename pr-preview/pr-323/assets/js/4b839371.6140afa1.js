"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[774],{6051:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>n,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"unraid-os/troubleshooting/common-issues/boot-and-startup-failures","title":"Boot & startup failures","description":"When your Unraid server fails to start correctly, it can be challenging to identify the cause without a clear understanding of the boot process. Following this guide lets you quickly diagnose and resolve most startup problems, ensuring that your %%array|array%%, %%WebGUI|web-gui%%, and services are operational with minimal downtime.","source":"@site/docs/unraid-os/troubleshooting/common-issues/boot-and-startup-failures.mdx","sourceDirName":"unraid-os/troubleshooting/common-issues","slug":"/unraid-os/troubleshooting/common-issues/boot-and-startup-failures","permalink":"/docs/pr-preview/pr-323/unraid-os/troubleshooting/common-issues/boot-and-startup-failures","draft":false,"unlisted":false,"editUrl":"https://github.com/unraid/docs/edit/7-2-0-beta-3/docs/unraid-os/troubleshooting/common-issues/boot-and-startup-failures.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"sidebar_label":"Boot & startup failures"},"sidebar":"unraidSidebar","previous":{"title":"Common issues","permalink":"/docs/pr-preview/pr-323/category/common-issues"},"next":{"title":"Unclean shutdowns","permalink":"/docs/pr-preview/pr-323/unraid-os/troubleshooting/common-issues/unclean-shutdowns"}}');var r=i(4848),s=i(8453),o=i(2503);i(9489),i(7227);const n={sidebar_position:1,sidebar_label:"Boot & startup failures"},l="Boot & startup failures",d={},c=[{value:"Preparing the flash device",id:"preparing-the-flash-device",level:2},{value:"Enabling UEFI boot",id:"enabling-uefi-boot",level:2},{value:"Understanding the boot sequence",id:"understanding-the-boot-sequence",level:2},{value:"Boot failure",id:"boot-failure",level:2},{value:"Recovering from a lost boot drive and unknown parity drives",id:"recovering-from-a-lost-boot-drive-and-unknown-parity-drives",level:2},{value:"Recovery procedure",id:"recovery-procedure",level:3},{value:"Identifying the parity drives",id:"identifying-the-parity-drives",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:i}=t;return i||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"boot--startup-failures",children:"Boot & startup failures"})}),"\n",(0,r.jsxs)(t.p,{children:["When your Unraid server fails to start correctly, it can be challenging to identify the cause without a clear understanding of the boot process. Following this guide lets you quickly diagnose and resolve most startup problems, ensuring that your ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_246_1758049778456","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,r.jsx)(o.m_,{id:"array_0_246_1758049778456",place:"top",effect:"solid",clickable:!0}),", ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"web-gui_3_2_1758049778456","data-tooltip-html":'The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid.<br>See <a href="https://en.wikipedia.org/wiki/WebGUI">WebGUI - Wikipedia</a>',"data-tooltip-place":"top",children:"WebGUI"}),(0,r.jsx)(o.m_,{id:"web-gui_3_2_1758049778456",place:"top",effect:"solid",clickable:!0}),", and services are operational with minimal downtime."]}),"\n",(0,r.jsx)(t.h2,{id:"preparing-the-flash-device",children:"Preparing the flash device"}),"\n",(0,r.jsxs)(t.p,{children:["This topic is covered in detail under the ",(0,r.jsx)(t.a,{href:"/docs/pr-preview/pr-323/unraid-os/getting-started/set-up-unraid/create-your-bootable-media#prepare-your-usb-device",children:"Prepare your USB device"})," section."]}),"\n",(0,r.jsx)(t.admonition,{type:"caution",children:(0,r.jsxs)(t.p,{children:["Always ",(0,r.jsx)(t.a,{href:"/docs/pr-preview/pr-323/unraid-os/system-administration/maintain-and-update/changing-the-flash-device#backing-up-your-flash-device",children:"back up your flash drive"})," before making changes. All user-specific settings, including your license key, are stored in the ",(0,r.jsx)(t.code,{children:"config"})," folder. Restoring this folder after re-prepping your flash device will help preserve your current configuration."]})}),"\n",(0,r.jsx)(t.h2,{id:"enabling-uefi-boot",children:"Enabling UEFI boot"}),"\n",(0,r.jsxs)(t.p,{children:["Modern systems typically require ",(0,r.jsx)(t.strong,{children:"UEFI boot mode"})," for enhanced security and faster startup times."]}),"\n",(0,r.jsxs)(t.p,{children:["To configure ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_0_13_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_0_13_1758049778456",place:"top",effect:"solid",clickable:!0})," boot in your system BIOS/",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_3_26_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_3_26_1758049778456",place:"top",effect:"solid",clickable:!0})," settings:"]}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Enter your motherboard's BIOS/",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_0_30_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_0_30_1758049778456",place:"top",effect:"solid",clickable:!0})," setup during startup (usually by pressing F2, DEL, or ESC)"]}),"\n",(0,r.jsx)(t.li,{children:"Locate the boot options or boot mode settings"}),"\n",(0,r.jsxs)(t.li,{children:["Set the boot mode to ",(0,r.jsx)(t.strong,{children:"UEFI"})," or ",(0,r.jsx)(t.strong,{children:"UEFI with CSM disabled"})]}),"\n",(0,r.jsx)(t.li,{children:"Ensure the Unraid flash device is selected as the UEFI boot device"}),"\n",(0,r.jsx)(t.li,{children:"Save your changes and exit"}),"\n"]}),"\n",(0,r.jsx)(t.h2,{id:"understanding-the-boot-sequence",children:"Understanding the boot sequence"}),"\n",(0,r.jsx)(t.p,{children:"The Unraid boot sequence has a number of stages:"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"1. BIOS boot"})," - Click to expand/collapse"]}),(0,r.jsx)(t.p,{children:"The BIOS/UEFI firmware initializes hardware and locates the bootable device. This is the foundation of the entire boot process."}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"The motherboard BIOS recognizes the Unraid bootable flash device."}),"\n",(0,r.jsx)(t.li,{children:"Setting the flash device as the default boot device varies based on your BIOS; check your motherboard manual for guidance."}),"\n",(0,r.jsxs)(t.li,{children:["The flash device supports both ",(0,r.jsx)(t.strong,{children:"legacy (CSM)"})," and ",(0,r.jsxs)(t.strong,{children:[(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_0_0_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_0_0_1758049778456",place:"top",effect:"solid",clickable:!0})]})," boot modes."]}),"\n",(0,r.jsxs)(t.li,{children:["For ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_0_4_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_0_4_1758049778456",place:"top",effect:"solid",clickable:!0})," boot, ensure the ",(0,r.jsx)(t.code,{children:"EFI"})," folder on the flash device does not have a trailing hyphen (",(0,r.jsx)(t.code,{children:"-"}),")."]}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"2. Syslinux loader"})," - Click to expand/collapse"]}),(0,r.jsx)(t.p,{children:"The bootloader presents startup options and loads the Linux kernel into memory. This stage determines which operating system or diagnostic tool will run."}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["Boot menu entries are defined in the ",(0,r.jsx)(t.code,{children:"syslinux/syslinux.cfg"})," file on the flash device."]}),"\n",(0,r.jsxs)(t.li,{children:["You can edit this file through the ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"web-gui_0_35_1758049778456","data-tooltip-html":'The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid.<br>See <a href="https://en.wikipedia.org/wiki/WebGUI">WebGUI - Wikipedia</a>',"data-tooltip-place":"top",children:"WebGUI"}),(0,r.jsx)(o.m_,{id:"web-gui_0_35_1758049778456",place:"top",effect:"solid",clickable:!0})," under ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"Main \u2192 Syslinux configuration"})}),"."]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Memtest86+"}),", which ships with current builds of Unraid, works in both legacy and ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_1_70_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_1_70_1758049778456",place:"top",effect:"solid",clickable:!0})," modes. For older Unraid versions, obtain a compatible version from ",(0,r.jsx)(t.a,{href:"https://www.memtest86.com/",children:"the official Memtest site"})," for ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_6_5_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_6_5_1758049778456",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,r.jsx)(t.li,{children:"If no option is selected, the default boots after a timeout, which is useful for headless operation."}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"3. Linux core"})," - Click to expand/collapse"]}),(0,r.jsx)(t.p,{children:"The Linux kernel initializes and begins hardware detection. This is where the operating system takes control from the bootloader."}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Syslinux"})," loads the Linux core from the flash device into RAM."]}),"\n",(0,r.jsx)(t.li,{children:"You\u2019ll see console messages showing bz* files loading."}),"\n",(0,r.jsx)(t.li,{children:"Errors at this stage often indicate issues with the flash device."}),"\n",(0,r.jsx)(t.li,{children:"Linux detects hardware during startup."}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"4. Flash dependent services"})," - Click to expand/collapse"]}),(0,r.jsx)(t.p,{children:"The flash device becomes accessible and essential services begin loading. This stage is critical for configuration and network access."}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["The flash device mounts at ",(0,r.jsx)(t.code,{children:"/boot"}),"."]}),"\n",(0,r.jsx)(t.li,{children:"If it fails to mount, you may still see a login prompt, but this indicates an incomplete boot."}),"\n",(0,r.jsxs)(t.li,{children:["Use the ",(0,r.jsx)(t.code,{children:"df"})," command to check if ",(0,r.jsx)(t.code,{children:"/boot"})," is mounted."]}),"\n",(0,r.jsxs)(t.li,{children:["The flash device must be labeled ",(0,r.jsx)(t.strong,{children:"UNRAID"})," (all caps) for proper mounting."]}),"\n",(0,r.jsx)(t.li,{children:"Additional drivers and firmware will become available at this stage."}),"\n",(0,r.jsx)(t.li,{children:"Configuration is loaded into RAM."}),"\n",(0,r.jsxs)(t.li,{children:["Standard Linux services, including networking and ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"wireguard_0_50_1758049778456","data-tooltip-html":'A modern, secure VPN protocol integrated into Unraid that provides encrypted access to your server from the internet. Known for being faster and more straightforward than OpenVPN.<br>See <a href="https://www.wireguard.com">WireGuard - Official Documentation</a>',"data-tooltip-place":"top",children:"WireGuard"}),(0,r.jsx)(o.m_,{id:"wireguard_0_50_1758049778456",place:"top",effect:"solid",clickable:!0})," VPN (if enabled), start here."]}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"5. Plugins"})," - Click to expand/collapse"]}),(0,r.jsx)(t.p,{children:"Third-party extensions and customizations are loaded to enhance system functionality. Plugin issues can prevent successful startup."}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Installed plugins are loaded during this step."}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Safe boot"})," options can suppress plugin loading if needed."]}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"6. WebGUI"})," - Click to expand/collapse"]}),(0,r.jsx)(t.p,{children:"The web-based management interface becomes available, allowing remote administration and configuration of your server."}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"web-gui_0_4_1758049778456","data-tooltip-html":'The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid.<br>See <a href="https://en.wikipedia.org/wiki/WebGUI">WebGUI - Wikipedia</a>',"data-tooltip-place":"top",children:"WebGUI"}),(0,r.jsx)(o.m_,{id:"web-gui_0_4_1758049778456",place:"top",effect:"solid",clickable:!0})," starts at this point."]}),"\n",(0,r.jsxs)(t.li,{children:["The ",(0,r.jsx)(t.code,{children:"config/go"})," file on the flash device can run user commands before or after the ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"web-gui_2_68_1758049778456","data-tooltip-html":'The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid.<br>See <a href="https://en.wikipedia.org/wiki/WebGUI">WebGUI - Wikipedia</a>',"data-tooltip-place":"top",children:"WebGUI"}),(0,r.jsx)(o.m_,{id:"web-gui_2_68_1758049778456",place:"top",effect:"solid",clickable:!0})," starts."]}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"7. Array"})," - Click to expand/collapse"]}),(0,r.jsx)(t.p,{children:"Storage devices are mounted and made available, completing the boot process. This is where your data becomes accessible."}),(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["If auto-start is enabled, the ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_30_1758049778456","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,r.jsx)(o.m_,{id:"array_0_30_1758049778456",place:"top",effect:"solid",clickable:!0})," starts here; otherwise, a manual start will be required."]}),"\n",(0,r.jsxs)(t.li,{children:["Drives will be mounted as ",(0,r.jsx)(t.code,{children:"/dev/diskX"})," and ",(0,r.jsx)(t.code,{children:"/mnt/cache"})," (if present)."]}),"\n",(0,r.jsxs)(t.li,{children:["Shares become available on the network as ",(0,r.jsx)(t.code,{children:"/mnt/user/sharename"}),"."]}),"\n",(0,r.jsx)(t.li,{children:"Docker containers will start in the order specified on the Docker tab, with customizable delays."}),"\n",(0,r.jsxs)(t.li,{children:["Auto-start virtual machines (",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_29_1758049778456","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,r.jsx)(o.m_,{id:"vm_0_29_1758049778456",place:"top",effect:"solid",clickable:!0}),") will also launch."]}),"\n"]})]}),"\n",(0,r.jsx)(t.p,{children:"At this point, the Unraid server is fully operational."}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"boot-failure",children:"Boot failure"}),"\n",(0,r.jsx)(t.p,{children:"When your server won't start, systematic troubleshooting helps identify and resolve the root cause quickly. Follow these steps in order to avoid missing critical issues or making unnecessary changes. Each step builds on the previous one, so don't skip ahead even if a step seems unrelated to your specific problem."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Use a USB 2.0 port for the flash device if possible. It's generally more reliable and less prone to issues than USB 3.0."}),"\n",(0,r.jsxs)(t.li,{children:["Check your BIOS/",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"uefi_0_16_1758049778456","data-tooltip-html":'\u201cUnified Extensible Firmware Interface,\u201d a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.<br>See <a href="https://en.wikipedia.org/wiki/UEFI">UEFI - Wikipedia</a>',"data-tooltip-place":"top",children:"UEFI"}),(0,r.jsx)(o.m_,{id:"uefi_0_16_1758049778456",place:"top",effect:"solid",clickable:!0})," settings to ensure that the flash device is set as the primary boot device."]}),"\n",(0,r.jsx)(t.li,{children:"Inspect the flash device for any physical or logical errors on a Windows or macOS computer."}),"\n",(0,r.jsx)(t.li,{children:"Re-extract the Unraid release bz* files onto the flash device to prevent any potential corruption."}),"\n",(0,r.jsxs)(t.li,{children:["Rebuild the flash device by starting with a clean Unraid copy, then restore your ",(0,r.jsx)(t.code,{children:"config"})," folder."]}),"\n",(0,r.jsxs)(t.li,{children:["Try booting in ",(0,r.jsx)(t.a,{href:"/docs/pr-preview/pr-323/unraid-os/using-unraid-to/customize-your-experience/plugins#troubleshooting-with-safe-mode",children:"Safe Mode"})," to check for any plugin-related problems."]}),"\n",(0,r.jsx)(t.li,{children:"Test with a new flash device and perform a clean Unraid installation. This helps determine if there are issues with the server hardware."}),"\n",(0,r.jsx)(t.li,{children:"If necessary, transfer your license to a new flash device."}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h2,{id:"recovering-from-a-lost-boot-drive-and-unknown-parity-drives",children:"Recovering from a lost boot drive and unknown parity drives"}),"\n",(0,r.jsxs)(t.admonition,{type:"important",children:[(0,r.jsx)(t.p,{children:"This recovery process involves risk of data loss if drives are incorrectly assigned. Before proceeding:"}),(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Do not start the array"})," until you're confident about drive assignments"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Document"})," which drives were previously parity vs. data drives"]}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.strong,{children:"Consider seeking help"})," on the ",(0,r.jsx)(t.a,{href:"https://forums.unraid.net/",children:"Unraid forums"})," if you're unsure"]}),"\n"]}),(0,r.jsx)(t.p,{children:"If you have any recent backups or documentation of your array configuration, review those first."})]}),"\n",(0,r.jsxs)(t.p,{children:["If your Unraid boot drive fails and you don\u2019t have a recent backup or knowledge of which drives are parity, you can recover your system by using Unraid\u2019s ability to recognize data drives by their file systems. ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-drives_0_210_1758049778456","data-tooltip-html":"Redundant drives in the array that maintain parity information to recover data during disk failures.","data-tooltip-place":"top",children:"Parity drives"}),(0,r.jsx)(o.m_,{id:"parity-drives_0_210_1758049778456",place:"top",effect:"solid",clickable:!0})," do not have a valid file system, which helps differentiate them."]}),"\n",(0,r.jsxs)(t.p,{children:["Unraid identifies data drives by detecting existing valid file systems. ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-drives_0_72_1758049778456","data-tooltip-html":"Redundant drives in the array that maintain parity information to recover data during disk failures.","data-tooltip-place":"top",children:"Parity drives"}),(0,r.jsx)(o.m_,{id:"parity-drives_0_72_1758049778456",place:"top",effect:"solid",clickable:!0}),", which lack a file system, appear unmountable. This characteristic allows you to distinguish ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-drives_3_94_1758049778456","data-tooltip-html":"Redundant drives in the array that maintain parity information to recover data during disk failures.","data-tooltip-place":"top",children:"parity drives"}),(0,r.jsx)(o.m_,{id:"parity-drives_3_94_1758049778456",place:"top",effect:"solid",clickable:!0})," from data drives after booting with a new flash device."]}),"\n",(0,r.jsx)(t.h3,{id:"recovery-procedure",children:"Recovery procedure"}),"\n",(0,r.jsx)(t.p,{children:"This procedure helps you restore your array configuration when you've lost your boot drive and can't remember which drives were parity vs. data. Follow each step carefully to avoid data loss."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Create a new Unraid boot drive."}),"\n",(0,r.jsx)(t.li,{children:"Boot the server from this new drive (do not assign any drives yet)."}),"\n",(0,r.jsx)(t.li,{children:"Activate a license, using either a trial or transferring an existing one."}),"\n",(0,r.jsxs)(t.li,{children:["Identify ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-drives_0_9_1758049778456","data-tooltip-html":"Redundant drives in the array that maintain parity information to recover data during disk failures.","data-tooltip-place":"top",children:"parity drives"}),(0,r.jsx)(o.m_,{id:"parity-drives_0_9_1758049778456",place:"top",effect:"solid",clickable:!0})," using one of the methods outlined below."]}),"\n",(0,r.jsxs)(t.li,{children:["Use ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"Tools \u2192 New Config"})})," to reset the ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_2_14_1758049778456","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,r.jsx)(o.m_,{id:"array_2_14_1758049778456",place:"top",effect:"solid",clickable:!0})," while retaining previous assignments if possible."]}),"\n",(0,r.jsxs)(t.li,{children:["Correct drive assignments on the ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"Main"})})," tab, making sure to distinguish between ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity_2_41_1758049778456","data-tooltip-html":'A redundancy mechanism that protects data against disk failures by storing a checksum across the array.<br>See <a href="https://en.wikipedia.org/wiki/Parity_bit#RAID_array">Parity data in RAID arrays | Wikipedia</a>',"data-tooltip-place":"top",children:"parity"}),(0,r.jsx)(o.m_,{id:"parity_2_41_1758049778456",place:"top",effect:"solid",clickable:!0})," and data drives."]}),"\n",(0,r.jsxs)(t.li,{children:["Start the ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_10_1758049778456","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,r.jsx)(o.m_,{id:"array_0_10_1758049778456",place:"top",effect:"solid",clickable:!0})," to commit the drive assignments."]}),"\n",(0,r.jsxs)(t.li,{children:["If the ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity_0_7_1758049778456","data-tooltip-html":'A redundancy mechanism that protects data against disk failures by storing a checksum across the array.<br>See <a href="https://en.wikipedia.org/wiki/Parity_bit#RAID_array">Parity data in RAID arrays | Wikipedia</a>',"data-tooltip-place":"top",children:"parity"}),(0,r.jsx)(o.m_,{id:"parity_0_7_1758049778456",place:"top",effect:"solid",clickable:!0})," is valid, check the box for ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"Parity is Already Valid"})}),". If not, allow the ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity_5_20_1758049778456","data-tooltip-html":'A redundancy mechanism that protects data against disk failures by storing a checksum across the array.<br>See <a href="https://en.wikipedia.org/wiki/Parity_bit#RAID_array">Parity data in RAID arrays | Wikipedia</a>',"data-tooltip-place":"top",children:"parity"}),(0,r.jsx)(o.m_,{id:"parity_5_20_1758049778456",place:"top",effect:"solid",clickable:!0})," to rebuild."]}),"\n"]}),"\n",(0,r.jsx)(t.admonition,{title:"Multiple parity drives",type:"warning",children:(0,r.jsxs)(t.p,{children:["If you have multiple ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-drives_0_21_1758049778456","data-tooltip-html":"Redundant drives in the array that maintain parity information to recover data during disk failures.","data-tooltip-place":"top",children:"parity drives"}),(0,r.jsx)(o.m_,{id:"parity-drives_0_21_1758049778456",place:"top",effect:"solid",clickable:!0})," and had to identify them based on which drives were unmountable, ",(0,r.jsx)(t.strong,{children:"do not"})," use the ",(0,r.jsx)(t.strong,{children:"Parity is Already Valid"})," option. There's a 50:50 chance of getting the assignments wrong, and if you do, your ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_7_86_1758049778456","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,r.jsx)(o.m_,{id:"array_7_86_1758049778456",place:"top",effect:"solid",clickable:!0})," may appear protected but actually isn't. Always allow parity to rebuild in this scenario to ensure proper protection."]})}),"\n",(0,r.jsxs)(t.ol,{start:"9",children:["\n",(0,r.jsx)(t.li,{children:"Review and adjust any user share includes/excludes based on the new assignments."}),"\n",(0,r.jsxs)(t.li,{children:["Run a ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-check_0_6_1758049778456","data-tooltip-html":"A background process that verifies data integrity across the array, ensuring parity is up-to-date.","data-tooltip-place":"top",children:"parity check"}),(0,r.jsx)(o.m_,{id:"parity-check_0_6_1758049778456",place:"top",effect:"solid",clickable:!0})," to verify integrity, especially if ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity_3_36_1758049778456","data-tooltip-html":'A redundancy mechanism that protects data against disk failures by storing a checksum across the array.<br>See <a href="https://en.wikipedia.org/wiki/Parity_bit#RAID_array">Parity data in RAID arrays | Wikipedia</a>',"data-tooltip-place":"top",children:"parity"}),(0,r.jsx)(o.m_,{id:"parity_3_36_1758049778456",place:"top",effect:"solid",clickable:!0})," wasn\u2019t rebuilt."]}),"\n"]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(t.h3,{id:"identifying-the-parity-drives",children:"Identifying the parity drives"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"Using Unraid\u2019s built-in capability (preferred method)"})," - Click to expand/collapse"]}),(0,r.jsxs)(t.p,{children:["This method does not require plugins, but it will invalidate ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity_0_61_1758049778456","data-tooltip-html":'A redundancy mechanism that protects data against disk failures by storing a checksum across the array.<br>See <a href="https://en.wikipedia.org/wiki/Parity_bit#RAID_array">Parity data in RAID arrays | Wikipedia</a>',"data-tooltip-place":"top",children:"parity"}),(0,r.jsx)(o.m_,{id:"parity_0_61_1758049778456",place:"top",effect:"solid",clickable:!0}),", necessitating a rebuild."]}),(0,r.jsx)(t.p,{children:"To use this method:"}),(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Assign all drives as data drives and start it."}),"\n",(0,r.jsxs)(t.li,{children:[(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-drives_0_0_1758049778456","data-tooltip-html":"Redundant drives in the array that maintain parity information to recover data during disk failures.","data-tooltip-place":"top",children:"Parity drives"}),(0,r.jsx)(o.m_,{id:"parity-drives_0_0_1758049778456",place:"top",effect:"solid",clickable:!0})," will show as unmountable since they lack a valid file system."]}),"\n",(0,r.jsxs)(t.li,{children:["Confirm that the number of unmountable drives matches your ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity_0_59_1758049778456","data-tooltip-html":'A redundancy mechanism that protects data against disk failures by storing a checksum across the array.<br>See <a href="https://en.wikipedia.org/wiki/Parity_bit#RAID_array">Parity data in RAID arrays | Wikipedia</a>',"data-tooltip-place":"top",children:"parity"}),(0,r.jsx)(o.m_,{id:"parity_0_59_1758049778456",place:"top",effect:"solid",clickable:!0})," count."]}),"\n",(0,r.jsx)(t.li,{children:"Take note of the serial numbers of these drives."}),"\n",(0,r.jsx)(t.li,{children:"If relevant, you can check mounted data drives to confirm their order."}),"\n"]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsxs)("summary",{children:[(0,r.jsx)("strong",{children:"Using the Unassigned Devices plugin"})," - Click to expand/collapse"]}),(0,r.jsxs)(t.p,{children:["This plugin-based method preserves the validity of ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity_0_51_1758049778456","data-tooltip-html":'A redundancy mechanism that protects data against disk failures by storing a checksum across the array.<br>See <a href="https://en.wikipedia.org/wiki/Parity_bit#RAID_array">Parity data in RAID arrays | Wikipedia</a>',"data-tooltip-place":"top",children:"parity"}),(0,r.jsx)(o.m_,{id:"parity_0_51_1758049778456",place:"top",effect:"solid",clickable:!0})," by mounting drives in read-only mode."]}),(0,r.jsx)(t.p,{children:"To use this method:"}),(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Install the ",(0,r.jsxs)(t.a,{href:"https://unraid.net/community/apps?q=unassigned+devices#r:~:text=don%27t%20be%20carefull!!!-,Unassigned%20Devices,-dlandon",children:[(0,r.jsx)(t.strong,{children:"Unassigned Devices"})," plugin"]})," from the ",(0,r.jsx)(t.em,{children:(0,r.jsx)(t.strong,{children:"Apps"})})," tab."]}),"\n",(0,r.jsx)(t.li,{children:"Mount each disk read-only, one at a time."}),"\n",(0,r.jsxs)(t.li,{children:["Drives that fail to mount are likely ",(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-drives_0_37_1758049778457","data-tooltip-html":"Redundant drives in the array that maintain parity information to recover data during disk failures.","data-tooltip-place":"top",children:"parity drives"}),(0,r.jsx)(o.m_,{id:"parity-drives_0_37_1758049778457",place:"top",effect:"solid",clickable:!0})," (you cannot differentiate between parity1 and parity2)."]}),"\n",(0,r.jsx)(t.li,{children:"Inspect mounted data drives to identify their order, if necessary."}),"\n"]})]}),"\n",(0,r.jsxs)(t.p,{children:["For more information, see the ",(0,r.jsx)(t.a,{href:"https://forums.unraid.net/topic/55481-unassigned-devices-managing-unassigned-devices-without-rebooting/",children:"Unassigned Devices plugin thread"})," in the Unraid forums."]}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsxs)(t.p,{children:["* ",(0,r.jsxs)(t.em,{children:['"',(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"wireguard_0_1_1758049778457","data-tooltip-html":'A modern, secure VPN protocol integrated into Unraid that provides encrypted access to your server from the internet. Known for being faster and more straightforward than OpenVPN.<br>See <a href="https://www.wireguard.com">WireGuard - Official Documentation</a>',"data-tooltip-place":"top",children:"WireGuard"}),(0,r.jsx)(o.m_,{id:"wireguard_0_1_1758049778457",place:"top",effect:"solid",clickable:!0}),'" and the "',(0,r.jsx)(t.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"wireguard_3_11_1758049778457","data-tooltip-html":'A modern, secure VPN protocol integrated into Unraid that provides encrypted access to your server from the internet. Known for being faster and more straightforward than OpenVPN.<br>See <a href="https://www.wireguard.com">WireGuard - Official Documentation</a>',"data-tooltip-place":"top",children:"WireGuard"}),(0,r.jsx)(o.m_,{id:"wireguard_3_11_1758049778457",place:"top",effect:"solid",clickable:!0}),'" logo are registered trademarks of Jason A. Donenfeld.']})]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},7227:(e,t,i)=>{i.d(t,{A:()=>o});i(6540);var a=i(4164);const r={tabItem:"tabItem_Ymn6"};var s=i(4848);function o({children:e,hidden:t,className:i}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,a.A)(r.tabItem,i),hidden:t,children:e})}},9489:(e,t,i)=>{i.d(t,{A:()=>_});var a=i(6540),r=i(4164),s=i(4245),o=i(6347),n=i(6494),l=i(2814),d=i(5167),c=i(9900);function h(e){return a.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:t,children:i}=e;return(0,a.useMemo)((()=>{const e=t??function(e){return h(e).map((({props:{value:e,label:t,attributes:i,default:a}})=>({value:e,label:t,attributes:i,default:a})))}(i);return function(e){const t=(0,d.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,i])}function u({value:e,tabValues:t}){return t.some((t=>t.value===e))}function m({queryString:e=!1,groupId:t}){const i=(0,o.W6)(),r=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,l.aZ)(r),(0,a.useCallback)((e=>{if(!r)return;const t=new URLSearchParams(i.location.search);t.set(r,e),i.replace({...i.location,search:t.toString()})}),[r,i])]}function f(e){const{defaultValue:t,queryString:i=!1,groupId:r}=e,s=p(e),[o,l]=(0,a.useState)((()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!u({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:t,tabValues:s}))),[d,h]=m({queryString:i,groupId:r}),[f,g]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[i,r]=(0,c.Dv)(t);return[i,(0,a.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:r}),y=(()=>{const e=d??f;return u({value:e,tabValues:s})?e:null})();(0,n.A)((()=>{y&&l(y)}),[y]);return{selectedValue:o,selectValue:(0,a.useCallback)((e=>{if(!u({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),g(e)}),[h,g,s]),tabValues:s}}var g=i(1062);const y={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var b=i(4848);function x({className:e,block:t,selectedValue:i,selectValue:a,tabValues:o}){const n=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),d=e=>{const t=e.currentTarget,r=n.indexOf(t),s=o[r].value;s!==i&&(l(t),a(s))},c=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const i=n.indexOf(e.currentTarget)+1;t=n[i]??n[0];break}case"ArrowLeft":{const i=n.indexOf(e.currentTarget)-1;t=n[i]??n[n.length-1];break}}t?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},e),children:o.map((({value:e,label:t,attributes:a})=>(0,b.jsx)("li",{role:"tab",tabIndex:i===e?0:-1,"aria-selected":i===e,ref:e=>{n.push(e)},onKeyDown:c,onClick:d,...a,className:(0,r.A)("tabs__item",y.tabItem,a?.className,{"tabs__item--active":i===e}),children:t??e},e)))})}function v({lazy:e,children:t,selectedValue:i}){const s=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=s.find((e=>e.props.value===i));return e?(0,a.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:s.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function j(e){const t=f(e);return(0,b.jsxs)("div",{className:(0,r.A)("tabs-container",y.tabList),children:[(0,b.jsx)(x,{...t,...e}),(0,b.jsx)(v,{...t,...e})]})}function _(e){const t=(0,g.A)();return(0,b.jsx)(j,{...e,children:h(e.children)},String(t))}}}]);