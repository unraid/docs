<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">VM 转换与迁移 | Unraid Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.unraid.net/docs/pr-preview/pr-354/zh/img/meta-unraid.png"><meta data-rh="true" name="twitter:image" content="https://docs.unraid.net/docs/pr-preview/pr-354/zh/img/meta-unraid.png"><meta data-rh="true" property="og:url" content="https://docs.unraid.net/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="theme-color" content="#242526" media="(prefers-color-scheme: dark)"><meta data-rh="true" name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta data-rh="true" name="color-scheme" content="dark light"><meta data-rh="true" name="keywords" content="Unraid, server, storage, NAS, Docker, virtualization, array, parity, data protection, file sharing, plugins, management, GUI, disk management, caching, SSD, disk encryption, security, RAID, network configuration, backups, media server, transcoding, monitoring, VMs, GPU passthrough, hardware compatibility"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="VM 转换与迁移 | Unraid Docs"><meta data-rh="true" name="description" content="When consolidating hardware, preserving legacy systems, or testing upgrades in a virtual environment, you may need to convert a physical disk or migrate an existing system into a %%virtual machine|vm%% on Unraid. This process applies to both Linux and Windows systems, enabling you to run your installation as a %%VM|vm%% within your Unraid server."><meta data-rh="true" property="og:description" content="When consolidating hardware, preserving legacy systems, or testing upgrades in a virtual environment, you may need to convert a physical disk or migrate an existing system into a %%virtual machine|vm%% on Unraid. This process applies to both Linux and Windows systems, enabling you to run your installation as a %%VM|vm%% within your Unraid server."><link data-rh="true" rel="icon" href="/docs/pr-preview/pr-354/zh/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.unraid.net/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-354/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-354/es/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" hreflang="es"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-354/fr/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-354/de/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" hreflang="de"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-354/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JUYLFQHE7W-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unraid 操作系统","item":"https://docs.unraid.net/docs/pr-preview/pr-354/zh/category/unraid-os"},{"@type":"ListItem","position":2,"name":"使用 Unraid","item":"https://docs.unraid.net/docs/pr-preview/pr-354/zh/category/using-unraid-to"},{"@type":"ListItem","position":3,"name":"创建虚拟机","item":"https://docs.unraid.net/docs/pr-preview/pr-354/zh/category/create-virtual-machines"},{"@type":"ListItem","position":4,"name":"VM 转换与迁移","item":"https://docs.unraid.net/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CZENQ1ZPEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CZENQ1ZPEH",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Unraid Docs" href="/docs/pr-preview/pr-354/zh/opensearch.xml">



<script src="/js/redirects.js"></script><link rel="stylesheet" href="/docs/pr-preview/pr-354/zh/assets/css/styles.f000b811.css">
<script src="/docs/pr-preview/pr-354/zh/assets/js/runtime~main.aead5798.js" defer="defer"></script>
<script src="/docs/pr-preview/pr-354/zh/assets/js/main.c4a66341.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pr-preview/pr-354/zh/"><div class="navbar__logo"><img src="/docs/pr-preview/pr-354/zh/img/un-mark-gradient.svg" alt="我的网站标志" class="themedComponent_mlkZ themedComponent--light_NVdE" style="width:30px"><img src="/docs/pr-preview/pr-354/zh/img/un-mark-gradient.svg" alt="我的网站标志" class="themedComponent_mlkZ themedComponent--dark_xIcU" style="width:30px"></div><b class="navbar__title text--truncate">Unraid 文档</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">更多</a><ul class="dropdown__menu"><li><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Unraid 首页<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">论坛<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">文档 Github<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docs/pr-preview/pr-354/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/pr-preview/pr-354/es/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/pr-preview/pr-354/fr/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/pr-preview/pr-354/de/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="系统模式" aria-label="切换深色和浅色模式（当前为系统模式）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-354/zh/">Unraid 文档</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/pr-preview/pr-354/zh/category/unraid-os/">Unraid 操作系统</a><button aria-label="折叠侧栏类别 &#x27;Unraid 操作系统&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/getting-started-with-unraid/">开始使用 Unraid</a><button aria-label="展开侧栏类别 &#x27;开始使用 Unraid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/using-unraid-to/">使用 Unraid</a><button aria-label="折叠侧栏类别 &#x27;使用 Unraid&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/manage-storage/">管理存储</a><button aria-label="展开侧栏 类别 &#x27;管理存储&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/run-docker-containers/">运行 Docker 容器</a><button aria-label="展开侧栏类别 &#x27;运行 Docker 容器&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/create-virtual-machines/">创建虚拟机</a><button aria-label="折叠侧栏类别 &#x27;创建虚拟机&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/overview-and-system-prep/">概述和系统准备</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-setup/">VM 设置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/windows-on-a-vm/">VM中的Windows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/unraid-as-a-vm/">作为虚拟机运行 Unraid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-conversion-and-migration/">VM 转换与迁移</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/customize-your-experience/">自定义您的体验</a><button aria-label="展开侧栏类别 &#x27;自定义您的体验&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/system-administration/">系统管理</a><button aria-label="展开侧栏类别 &#x27;系统管理&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/advanced-configurations/">高级配置</a><button aria-label="展开侧栏类别 &#x27;高级配置&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/unraid-os/troubleshooting/">故障  排除</a><button aria-label="展开侧栏类别 &#x27;故障排除&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-354/zh/category/release-notes/">发行说明</a><button aria-label="展开侧栏类别 &#x27;发行说明&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-354/zh/unraid-os/download_list/">版本历史</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-354/zh/category/unraid-connect/">Unraid Connect</a><button aria-label="展开侧栏类别 &#x27;Unraid Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-354/zh/API/">Unraid API</a><button aria-label="展开侧栏类别 &#x27;Unraid API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-354/zh/category/contribute/">贡献</a><button aria-label="展开侧栏类别 &#x27;贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-354/zh/glossary/">词汇表</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="面包屑导航"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页" class="breadcrumbs__link" href="/docs/pr-preview/pr-354/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-354/zh/category/unraid-os/"><span>Unraid 操作系统</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-354/zh/category/using-unraid-to/"><span>使用 Unraid</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-354/zh/category/create-virtual-machines/"><span>创建虚拟机</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">VM 转换与迁移</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页内容</button></div><div class="theme-doc-markdown markdown"><header><h1>VM 转换与迁移</h1></header>
<p>When consolidating hardware, preserving legacy systems, or testing upgrades in a virtual environment, you may need to convert a physical disk or migrate an existing system into a <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_179_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">virtual machine</a> on Unraid. This process applies to both Linux and Windows systems, enabling you to run your installation as a <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_111_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> within your Unraid server.</p>
<p>:::note[Prerequisites]</p>
<ul>
<li>您的 Unraid 服务器应满足<a href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/overview-and-system-prep/#requirements">虚拟化的最低硬件要求</a>（见下表）。</li>
<li>源磁盘必须通过 SATA、USB 或作为未分配设备连接到您的 Unraid 服务器。</li>
<li>确保您的 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_0_1760366962245" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a></strong> 或 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_0_0_1760366962245" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a></strong> 有足够的可用空间来容纳新的虚拟磁盘映像。</li>
<li>在开始转换或迁移过程之前，备份任何重要数据。</li>
</ul>
<p>:::</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="硬件要求">硬件要求<a href="#硬件要求" class="hash-link" aria-label="直接链接到 硬件要求" title="直接链接到 硬件要求">​</a></h2>
<table><thead><tr><th>组件</th><th>最低要求</th><th>建议以获得最佳性能</th></tr></thead><tbody><tr><td><strong>CPU</strong></td><td>启用硬件虚拟化的64位（<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="intel-vt-x_0_12_1760366962245" data-tooltip-html="“Intel Virtualization Technology for Directed I/O,” Intel’s hardware virtualization capability enabling VMs to run operating systems directly on the CPU. Essential for VM performance in Unraid on Intel platforms. (AMD equivalent - AMD-V)&lt;br&gt;See &lt;a href=&quot;https://www.intel.com/content/www/us/en/support/articles/000005486/processors.html&quot;&gt;Intel® Virtualization Technology&lt;/a&gt;" data-tooltip-place="top">Intel VT-X</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="amd-v_3_1_1760366962245" data-tooltip-html="A feature in AMD processors that enables virtualization support. This feature must be enabled in your computer&#x27;s BIOS settings before you can create virtual machines in Unraid.&lt;br&gt;See &lt;a href=&quot;https://www.wikiwand.com/en/articles/X86_virtualization&quot;&gt;X86 virtualization | Wikiwand&lt;/a&gt;" data-tooltip-place="top">AMD-V</a>）</td><td>具有 VT-d/AMD-Vi 直通功能的多核 CPU</td></tr><tr><td><strong>内存</strong></td><td>8 GB</td><td>16 GB 或更多</td></tr><tr><td><strong>存储</strong></td><td>SSD 或 NVMe <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_0_11_1760366962245" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a> 需要足够的空间</td><td>用于 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_3_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 存储的专用 NVMe <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_3_12_1760366962245" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a></td></tr><tr><td><strong>主板/BIOS</strong></td><td>启用虚拟化的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="uefi_0_6_1760366962245" data-tooltip-html="“Unified Extensible Firmware Interface,” a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/UEFI&quot;&gt;UEFI - Wikipedia&lt;/a&gt;" data-tooltip-place="top">UEFI</a></td><td>启用<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="iommu_0_2_1760366962245" data-tooltip-html="“Input/Output Memory Management Unit,” a security feature that isolates virtual machines (VMs) from direct hardware access, preventing unauthorized data access. Ensures VMs only interact with assigned hardware.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Input%E2%80%93output_memory_management_unit&quot;&gt;IOMMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">IOMMU</a>/VT-d/AMD-Vi的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="uefi_3_13_1760366962245" data-tooltip-html="“Unified Extensible Firmware Interface,” a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/UEFI&quot;&gt;UEFI - Wikipedia&lt;/a&gt;" data-tooltip-place="top">UEFI</a></td></tr></tbody></table>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="将物理磁盘转换为-vm">将物理磁盘转换为 VM<a href="#将物理磁盘转换为-vm" class="hash-link" aria-label="直接链接到 将物理磁盘转换为 VM" title="直接链接到 将物理磁盘转换为 VM">​</a></h2>
<p>将现有的 Linux 或 Windows 系统迁移到 Unraid 服务器中的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_40_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">虚拟机</a>，可以节省硬件空间，保持旧系统运行或安全地测试新升级。</p>
<p>将物理磁盘转换为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_9_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>：</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Linux</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Windows</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><h4>步骤 1: 准备物理磁盘</h4><ol>
<li>通过 SATA 或 USB 将源磁盘连接到您的 Unraid 服务器。</li>
<li>登录 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_0_3_1760366962245" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> (<code>http://tower</code> 或 <code>http://tower.local</code>)。</li>
<li>点击<strong>主界面</strong>选项卡。</li>
<li>启动 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_0_1760366962245" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a></strong> 如果尚未运行。</li>
<li>在 <strong>未分配设备</strong> 中找到您的磁盘。</li>
<li>请注意设备字母（例如，<code>sdb</code>，<code>sdc</code>）和磁盘大小。您需要在您的 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_0_1760366962245" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a></strong> 或 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_0_0_1760366962245" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a></strong> 上至少拥有此可用空间以创建新的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_8_17_1760366962245" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">virtual disk</a>。</li>
</ol><h4>步骤 2: 创建新的虚拟机</h4><p>参考<a href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-setup/#creating-your-own-virtual-machines">创建您的虚拟机</a>指南，但有以下例外：</p><ul>
<li>设置 <strong>BIOS</strong> 为 <strong>OVMF</strong>。
请确保指定 <strong>VirtIO Drivers ISO</strong> 以获得<a href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/overview-and-system-prep/#set-up-virtualization-preferences">最佳性能</a>。</li>
<li>将 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_2_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 映像存储在 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_0_0_1760366962245" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a></strong> 上，而不是 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_5_7_1760366962245" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>，以获得 <a href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/overview-and-system-prep/#user-shares-for-virtualization">最佳性能</a>。</li>
</ul><h4>步骤 3: 将物理磁盘转换为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_0_15_1760366962245" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">虚拟磁盘</a> 映像</h4><p>打开终端 (使用 <a href="/docs/pr-preview/pr-354/zh/unraid-os/system-administration/advanced-tools/command-line-interface/"><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="ssh_0_0_1760366962245" data-tooltip-html="“Secure Shell,” an encrypted protocol for securely accessing and managing your Unraid server remotely through a command-line interface.&lt;br&gt;See &lt;a href=&quot;https://www.1kosmos.com/security-glossary/secure-shell-ssh/&quot;&gt;Secure Shell (SSH) - 1Kosmos Security Glossary&lt;/a&gt;" data-tooltip-place="top">SSH</a></a> 或本地控制台) 并以 <code>root</code> 身份登录。</p><p>使用以下命令将物理磁盘转换为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_0_15_1760366962245" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">虚拟磁盘</a> 映像：</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">qemu-img convert -p -O raw /dev/sdX /mnt/user/[vdisk_share]/[vmname]/vdisk1.img</span><br></span></code></pre></div></div><ul>
<li><strong>/dev/sdX</strong>: 替换为步骤 1 中的设备字母 (例如 <code>/dev/sdb</code>)</li>
<li><strong>[vdisk_share]</strong>: 保存您 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_6_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 映像的共享位置</li>
<li><strong>[vmname]</strong>: 您为您的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_7_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 所选择的名称</li>
</ul><p><strong>命令分解：</strong></p><ul>
<li><code>qemu-img convert</code>: 此工具用于磁盘映像转换。</li>
<li><code>-p</code>: 显示百分比进度。</li>
<li><code>-O raw</code>: 输出格式设置为 raw (Unraid 默认)。</li>
<li><code>/dev/sdX</code>: 源是您的物理磁盘。</li>
<li><code>/mnt/user/[vdisk_share]/[vmname]/vdisk1.img</code>: 目标是 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_1_6_1760366962245" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">虚拟磁盘</a> 映像。</li>
</ul><p>等待操作完成。生成的 <code>.img</code> 文件将是您 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_2_7_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 的主磁盘。</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><h4>步骤 1: 编辑您的虚拟机的 XML</h4><ul>
<li>
<p>在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_2_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> 选项卡中，点击 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_9_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 图标并从上下文菜单中选择 <strong>编辑 XML</strong>。</p>
</li>
<li>
<p>Next, scroll down the XML and find the <code>&lt;target&gt;</code> tag for the <code>&lt;disk&gt;</code> that has a <code>&lt;source&gt;</code> file set to <code>vdisk1.img</code>. It should look like this:</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">file</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">file</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/mnt/cache/vdisk_share/vmname/vdisk1.img</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">backingStore</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hda</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">boot</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">order</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">alias</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio-disk0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">address</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">pci</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">domain</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0000</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x00</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">slot</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x05</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">function</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre></div></div>
</li>
<li>
<p>更改 <code>&lt;target&gt;</code> 标签中 <strong>bus</strong> 属性，从 <code>virtio</code> 改为 <code>ide</code>。</p>
</li>
<li>
<p>Then, remove the entire <code>&lt;address&gt;</code> line for that <code>&lt;disk&gt;</code>.</p>
</li>
<li>
<p>更新后的 XML 应如下所示：</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">file</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">file</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/mnt/cache/vdisk_share/vmname/vdisk1.img</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">backingStore</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hda</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">ide</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">boot</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">order</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre></div></div>
</li>
<li>
<p>最后，点击 <strong>更新</strong> 保存您对 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_2_6_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">虚拟机</a> XML 的更改。</p>
</li>
</ul><h4>步骤 2: 从虚拟机内部安装 VirtIO 驱动程序（仅适用于 Windows 客户端）</h4><ul>
<li>打开 <strong>Windows 资源管理器</strong>，访问 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_2_4_1760366962245" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> 虚拟 CD-ROM，查看其内容。<!-- -->
<ul>
<li>进入 <strong>Balloon</strong> 文件夹。</li>
<li>在该文件夹中，找到适合您的 <strong>Windows 操作系统版本</strong> 的子文件夹（例如，<code>w8.1</code>）。</li>
<li>进入 <strong>amd64</strong> 子文件夹。</li>
<li>右键单击 <strong>balloon.inf</strong> 文件，从上下文菜单中选择 <strong>安装</strong>。（此操作需要启用文件扩展名可见性。）</li>
</ul>
</li>
<li>为每个以下文件夹重复这些步骤：<!-- -->
<ul>
<li><strong>NetKVM</strong></li>
<li><strong>vioserial</strong></li>
<li><strong>viostor</strong></li>
</ul>
</li>
<li>安装完驱动程序后，重新进入虚拟 CD-ROM，打开 <strong>guest-agent</strong> 文件夹。</li>
<li>双击 <strong>qemu-ga-x64.msi</strong> 以安装 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_2_5_1760366962245" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_5_1_1760366962245" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a> 客户代理。</li>
</ul><h4>步骤 3：将磁盘总线转换回 VirtIO</h4><ul>
<li>如果您的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_5_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 正在运行，请继续<strong>关闭它</strong>。</li>
<li>在 <strong>VMs</strong> 选项卡中，单击 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_2_9_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 图标，从上下文菜单中选择 <strong>编辑 XML</strong>。</li>
<li>找到 <code>vdisk1.img</code> 的 <code>&lt;disk&gt;</code> 部分，并在 <code>&lt;target&gt;</code> 标签中将 <code>bus=&#x27;ide&#x27;</code> 更改回 <code>bus=&#x27;virtio&#x27;</code>。</li>
<li>点击 <strong>更新</strong> 保存您对 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_2_6_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 的更改。</li>
<li>现在您可以启动转换后的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_12_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">虚拟机</a>！</li>
</ul></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="将物理磁盘迁移到-vm">将物理磁盘迁移到 VM<a href="#将物理磁盘迁移到-vm" class="hash-link" aria-label="直接链接到 将物理磁盘迁移到 VM" title="直接链接到 将物理磁盘迁移到 VM">​</a></h2>
<p>You can run a Windows installation directly from a physical disk in an Unraid virtual machine (VM). This method helps migrate an existing Windows system without converting it to a virtual disk image. For a visual walkthrough, check out Spaceinvader One’s tutorial:<br>
<a href="https://www.youtube.com/watch?v=QaB9HhpbDAI" target="_blank" rel="noopener noreferrer">How to pass through hard drives, convert disks, and test performance in Unraid VMs (YouTube)</a>.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Choosing 您的迁移方法</div><div class="admonitionContent_BuS1"><p>有两种常见方式可以将 Windows 安装迁移到 Unraid 中的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_35_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>：</p><p><strong>物理磁盘直通：</strong> 这直接在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_6_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 中使用原始磁盘。</p><ul>
<li>优点：最快， 无需图像转换。</li>
<li>缺点：占用 SATA 端口； Unraid 在连接到 VM 时无法将此磁盘用于其他用途。</li>
</ul><p><strong>磁盘映像转换：</strong> 将物理磁盘转换为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_1_10_1760366962245" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">虚拟磁盘</a> 映像（<code>.img</code> 格式）供 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_6_6_1760366962245" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 使用。</p><ul>
<li>优点：更灵活，允许将磁盘用作 Unraid 共享或用于快照。</li>
<li>缺点：需时，还需转换过程的可用空间。</li>
</ul><p>如果您想进行简单的迁移或计划双启动磁盘，请选择直通。如果需要更好的便携性和备份选项，请选择镜像转换。</p></div></div>
<p>:::note[Prerequisites]</p>
<ul>
<li>在开始之前备份您的 Windows 安装。</li>
<li>准备好空闲的 USB 闪存驱动器以进行恢复工具。</li>
<li>选择一个硬件准备工具，以通过修改  驱动程序和硬件抽象层（HAL）来启用在虚拟化硬件上的 Windows 启动：<!-- -->
<ul>
<li><strong>Microsoft Sysprep</strong>（免费并内置于 Windows 8.1 及更高版本）</li>
<li><strong>Acronis True Image 2025</strong>（具有高级迁移功能的商用解决方案）</li>
</ul>
</li>
<li>确保您的 Unraid 服务器有一个空闲的 SATA 或 NVMe 端口用于物理磁盘。</li>
</ul>
<p>:::</p>
<h4>步骤 1: 准备 Windows 磁盘以进行迁移</h4>
<p>将Windows系统转移到新硬件上，无论是物理还是虚拟的，可能会因硬件差异导致启动失败。请使用下面的方法之一来准备您的Windows系统：</p>
<h5>选项 A: Microsoft Sysprep（推荐 - 免费）</h5>
<p>Sysprep 内置于 Windows 中，消除了独特的系统信息，准备在不同硬件上使用 Windows。</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Before 运行 sysprep</div><div class="admonitionContent_BuS1"><ul>
<li>暂时禁用任何杀毒软件。</li>
<li>清理不必要的用户配置文件和临时文件。</li>
<li>修复或删除可能阻止 sysprep 运行的任何问题 Microsoft Store 应用程序。</li>
</ul></div></div>
<ol>
<li>
<p><strong>运行 sysprep：</strong></p>
<ul>
<li>
<p>以管理员身份打开命令提示符。</p>
</li>
<li>
<p>导航到 sysprep 目录：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> C:</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">Windows</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">System32</span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain">Sysprep</span><br></span></code></pre></div></div>
</li>
<li>
<p>执行 sysprep 进行常规化：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sysprep.exe /generalize /shutdown /oobe</span><br></span></code></pre></div></div>
</li>
<li>
<p>系统将常规化安装，然后关机。</p>
</li>
</ul>
</li>
<li>
<p><strong>在关机后将磁盘安装到您的 Unraid 服务器中。</strong></p>
</li>
</ol>
<h5>选项 B: Acronis True Image 2025（商用）</h5>
<p>Acronis True Image 2025 带有通用恢复功能，可协助硬件迁移。</p>
<ol>
<li>下载并安装 <a href="https://www.acronis.com/en-us/products/true-image/" target="_blank" rel="noopener noreferrer">Acronis True Image 2025</a>。</li>
<li>使用附带工具创建可启动恢复媒体：<!-- -->
<ul>
<li>选择类似 Windows 的界面。</li>
<li>选择与您的 Windows（32 位或 64 位）匹配 的体系结构。</li>
</ul>
</li>
<li>从 Acronis 恢复媒体启动您的 Windows 系统。</li>
<li>按照屏幕说明将Universal Restore应用到您的Windows磁盘上。这将更新驱动程序和HAL，以便更好地兼容虚拟化硬件。</li>
<li>关闭系统并将磁盘安装到您的 Unraid 服务器中。</li>
</ol>
<h4>步骤 2: 在 Unraid 中识别物理磁盘</h4>
<ol>
<li>登录 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_0_3_1760366962246" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> (<code>http://tower</code> 或 <code>http://tower.local</code>)。</li>
<li>进入主界面选项卡。</li>
<li>启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_3_1760366962246" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 如果尚未运行。</li>
<li>在未分配设备中找到您的磁盘。</li>
<li>注意设备字母（例如，<code>sdb</code>、<code>sdc</code>），以在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_4_5_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 配置中使用。</li>
</ol>
<h4>步骤 3: 创建新的虚拟机</h4>
<ol>
<li>转到<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_0_2_1760366962246" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a>中的**<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_4_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a>**选项卡。如果缺少该选项卡，请确保启用虚拟化并满足硬件要求。</li>
<li>点击<strong>添加 VM</strong>。</li>
<li>遵循<a href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/vm-setup/#creating-your-own-virtual-machines">创建您自己的虚拟机</a>指南，使用以下设置：<!-- -->
<ul>
<li>设置 <strong>BIOS</strong> 为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="seabios_2_3_1760366962246" data-tooltip-html="A legacy BIOS implementation used for virtual machines in Unraid. Generally used for older operating systems that don’t support UEFI.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/SeaBIOS&quot;&gt;SeaBIOS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">SeaBIOS</a>（如果 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="seabios_5_4_1760366962246" data-tooltip-html="A legacy BIOS implementation used for virtual machines in Unraid. Generally used for older operating systems that don’t support UEFI.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/SeaBIOS&quot;&gt;SeaBIOS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">SeaBIOS</a> 启动失败，请尝试 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="ovmf_8_10_1760366962246" data-tooltip-html="“Open Virtual Machine Firmware,” firmware for UEFI-based VMs, enabling features like Secure Boot. Required for modern OS installations.&lt;br&gt;See &lt;a href=&quot;https://wiki.ubuntu.com/UEFI/OVMF&quot;&gt;UEFI/OVMF - Ubuntu Wiki&lt;/a&gt;" data-tooltip-place="top">OVMF</a>）。</li>
<li>保持 <strong>OS 安装 ISO</strong> 为空。</li>
<li>指定 <strong>VirtIO 驱动 ISO</strong> 以优化启动后的性能。</li>
<li>对于主 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_0_4_1760366962246" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">virtual disk</a> ，选择任意位置和大小（将在下一步中替换）。</li>
<li>取消选中 <strong>创建后启动 VM</strong>。</li>
</ul>
</li>
</ol>
<h4>步骤 4：编辑虚拟机的 XML</h4>
<p>您需要修改 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_6_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 的 XML 配置，以连接您的物理磁盘到 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_21_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">virtual machine</a>。</p>
<ol>
<li>
<p>从 <strong>VMs</strong> 标签页中，点击 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_2_9_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 图标，然后从上下文菜单中选择 <strong>Edit XML</strong>。</p>
</li>
<li>
<p>向下滚动XML，找到用于主<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_0_13_1760366962246" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">虚拟磁盘</a>的现有<code>&lt;disk&gt;</code>条目。通常指向<code>.img</code>文件，看起来像这样：</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">file</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">file</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/mnt/cache/vdisk_share/vmname/vdisk1.img</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">backingStore</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hda</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">boot</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">order</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">1</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">alias</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">virtio-disk0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">address</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">pci</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">domain</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0000</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x00</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">slot</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x05</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">function</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">0x0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre></div></div>
<p>将此块替换为以下内容，其中 <code>sdX</code> 为设备字母，或者更好的使用 <code>/dev/disk/by-id/[your-disk-id]</code> 以便更可靠的设备分配（参考 [Unraid Docs：在 VM 中使用物理磁盘]）：</p>
<div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">block</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">device</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">disk</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">driver</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">name</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">qemu</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">type</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">raw</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">cache</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">writeback</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">source</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">/dev/disk/by-id/[your-disk-id]</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">target</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">dev</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">hdd</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">bus</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">sata</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&#x27;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">/&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">disk</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre></div></div>
<p>如果您的磁盘是 IDE，将总线从 &quot;SATA&quot; 更改为 &quot;IDE&quot;。</p>
<p>使用 <code>/dev/disk/by-id/</code> 优于 <code>/dev/sdX</code> 以确保即使在重启或硬件更换后磁盘分配保持一致。</p>
</li>
<li>
<p>点击 <strong>Update</strong> 保存您的 XML 更改。</p>
</li>
</ol>
<h4>步骤 5：安装驱动程序</h4>
<ol>
<li>启动您的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_5_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>。</li>
<li>进入 Windows 后，右键单击开始菜单，选择 <strong>设备管理器</strong> 以打开它。</li>
<li>查找带有黄色感叹号标记（表示缺少驱动程序）的设备。右键单击每个并选择<strong>更新驱动程序</strong>。</li>
<li>选择 <strong>在我的计算机上浏览驱动程序</strong>。</li>
<li>指向挂载 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_0_5_1760366962246" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> 驱动 ISO 的驱动器（通常为 D: 或 E:）。</li>
<li>确 保 <strong>包括子文件夹</strong> 被勾选，然后点击 <strong>下一步</strong>。</li>
<li>对于缺少驱动器的设备重复此过程，通常包括：SCSI控制器、以太网、Balloon 和串行设备。</li>
</ol>
<p>如果您使用安装自己驱动程序的软件（例如杀毒程序），请记住在迁移后重新安装这些应用程序。</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>如果您停留在<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="seabios_0_6_1760366962246" data-tooltip-html="A legacy BIOS implementation used for virtual machines in Unraid. Generally used for older operating systems that don’t support UEFI.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/SeaBIOS&quot;&gt;SeaBIOS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">SeaBIOS</a>并显示&quot;从硬盘启动&quot;的消息，这可能是因为您的Windows操作系统使用了<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="uefi_3_36_1760366962246" data-tooltip-html="“Unified Extensible Firmware Interface,” a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/UEFI&quot;&gt;UEFI - Wikipedia&lt;/a&gt;" data-tooltip-place="top">UEFI</a>而不是传统BIOS进行安装。在这种情况下，应使用<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="ovmf_6_24_1760366962246" data-tooltip-html="“Open Virtual Machine Firmware,” firmware for UEFI-based VMs, enabling features like Secure Boot. Required for modern OS installations.&lt;br&gt;See &lt;a href=&quot;https://wiki.ubuntu.com/UEFI/OVMF&quot;&gt;UEFI/OVMF - Ubuntu Wiki&lt;/a&gt;" data-tooltip-place="top">OVMF</a>而不是<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="seabios_9_3_1760366962246" data-tooltip-html="A legacy BIOS implementation used for virtual machines in Unraid. Generally used for older operating systems that don’t support UEFI.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/SeaBIOS&quot;&gt;SeaBIOS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">SeaBIOS</a>作为BIOS类型重新创建VM。大多数现代Windows系统（Windows 8.1、10 和 11）支持<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="uefi_12_52_1760366962246" data-tooltip-html="“Unified Extensible Firmware Interface,” a modern replacement for BIOS that provides more features and better security. Required for some VMs and for booting from drives larger than 2TB.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/UEFI&quot;&gt;UEFI - Wikipedia&lt;/a&gt;" data-tooltip-place="top">UEFI</a>，可能需要<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="ovmf_15_5_1760366962246" data-tooltip-html="“Open Virtual Machine Firmware,” firmware for UEFI-based VMs, enabling features like Secure Boot. Required for modern OS installations.&lt;br&gt;See &lt;a href=&quot;https://wiki.ubuntu.com/UEFI/OVMF&quot;&gt;UEFI/OVMF - Ubuntu Wiki&lt;/a&gt;" data-tooltip-place="top">OVMF</a>才能成功启动。其余的转换过程保持不变。</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="从-xen-到-kvm-的迁移">从 Xen 到 KVM 的迁移<a href="#从-xen-到-kvm-的迁移" class="hash-link" aria-label="直接链接到 从 Xen 到 KVM 的迁移" title="直接链接到 从 Xen 到 KVM 的迁移">​</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Historical 上下文</div><div class="admonitionContent_BuS1"><p>Unraid supported <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_17_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> from early 6.x versions until it was deprecated in 6.2 (September 2016) and later removed entirely. This migration guide is relevant for users upgrading from very old Unraid installations (pre-2017) to modern versions.</p></div></div>
<p>A <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_2_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> hypervisor is a virtualization platform that allows multiple operating systems to run on the same hardware. In Unraid, <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_3_120_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> was historically used for <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_6_27_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">virtual machines</a>, but <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_9_6_1760366962246" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a> is now the standard. Migrating from <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_12_37_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> to <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_15_4_1760366962246" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a> is essential for utilizing modern Unraid features, enabling hardware passthrough, and ensuring compatibility with current releases.</p>
<p>将<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_1_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>从<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_3_1_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a>迁移到<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_6_3_1760366962246" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a>的过程根据<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_9_5_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>是否设置为半虚拟化（PV）或硬件虚拟化（<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="hvm_12_20_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization approach that uses CPU hardware capabilities to run unmodified guest operating systems. Required for virtual machines in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Hardware_virtualization&quot;&gt;Hardware Virtualization - Wikipedia&lt;/a&gt;" data-tooltip-place="top">HVM</a>）客户机而有所不同。本指南专门针对使用Xen的GPLPV驱动程序的Windows <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_15_41_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>进行转换，因为它们需要特殊处理。</p>
<p>在开始此过程之前，请始终备份您的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_16_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a>虚拟磁盘。并在备份上测试您的迁移以防止数据丢失。</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Why 迁移？</div><div class="admonitionContent_BuS1"><p>Unraid no longer supports <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_26_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> from version 6.2 onward. <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_3_26_1760366962246" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a> is now mandatory for VM management, hardware passthrough, and ongoing updates. Migrating ensures your VMs remain secure and compatible with new features.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="windows-转换步骤">Windows 转换步骤<a href="#windows-转换步骤" class="hash-link" aria-label="直接链接到 Windows 转换步骤" title="直接链接到 Windows 转换步骤">​</a></h3>
<p>要将Windows <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_10_1760366962246" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>从<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_3_1_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a>转换为<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_6_3_1760366962246" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a>，请按以下步骤操作。记住在开始前，<strong>从您的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_3_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a>域配置中移除任何PCI设备直通</strong>。这些设备可以在迁移完成后放回。</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>步骤 1：确定您的 VM 是否使用 Xen 的 GPLPV 驱动程序</strong> -，点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><ol>
<li>在您的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_4_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> VM 内，打开 <strong>Windows 设备管理器</strong> (按 <em>Windows 键 + X</em>，然后选择 <strong>设备管理器</strong>）。</li>
<li>展开 <strong>网络适配器</strong> 并检查设备名称。<!-- -->
<ul>
<li>如果名称包含 “Xen”，您正在使用 GPLPV 驱动程序。</li>
<li>如果不是，请跳转到关于重启至 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_0_15_1760366962246" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a> 模式的步骤。</li>
</ul>
</li>
</ol><p>:::提示
如果您不使用 GPLPV 驱动程序，可以跳过接下来的几个步骤，并从进入 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="kvm_0_42_1760366962246" data-tooltip-html="“Kernel-based Virtual Machine,” Linux’s native virtualization solution used by Unraid to run VMs. Provides direct hardware access for high performance.&lt;br&gt;See &lt;a href=&quot;https://linux-kvm.org/page/Main_Page&quot;&gt;KVM (Kernel-based Virtual Machine) - Official Project&lt;/a&gt;" data-tooltip-place="top">KVM</a> 模式部分继续。  :::</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>步骤 2：为 GPLPV 驱动程序移除准备 Windows</strong> - 点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><ol>
<li>以管理员身份打开命令提示符（<strong>开始菜单</strong> → 输入 <code>cmd</code> → 右键单击 <strong>命令提示符</strong> → 选择 <strong>以管理员身份运行</strong>）。</li>
<li>输入以下命令:<!-- -->
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">bcdedit -set loadoptions nogplpv</span><br></span></code></pre></div></div>
</li>
<li>重启您的 VM。</li>
</ol></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>步骤 3：卸载 GPLPV 驱动程序</strong> - 点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><p>重启后，使用 <a href="https://wiki.xenproject.org/wiki/Xen_Windows_GPLPV" target="_blank" rel="noopener noreferrer">Xen Project Wiki</a> 中的全面手动移除过程从系统中完全清除所有 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_2_22_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> GPLPV 驱动程序。</p><p>:::注意
删除 GPLPV 需要进行大量注册表编辑和手动文件删除。完全按照 Xen Project Wiki 上的指示操作，因为错误可能导致系统不稳定或启动失败。  :::</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>步骤 4：创建新 KVM 虚拟机</strong> - 点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><ol>
<li>
<p>确保启用了 <strong>VM 管理器</strong>：</p>
<ul>
<li>前往 <strong>设置 → VM 管理器</strong>。</li>
<li>设置 <strong>启用 VM</strong> 为 <strong>是</strong>  。</li>
<li>通过从下拉菜单中选择最新 Windows <strong>VirtIO 驱动程序 ISO</strong>，下载并点击 <strong>下载</strong>。</li>
</ul>
</li>
<li>
<p>导航至 <strong>VMs</strong> 标签并点击 <strong>添加 VM</strong>。</p>
</li>
<li>
<p>选择与您的原始 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_8_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> 虚拟机匹配的 Windows 版本。</p>
</li>
<li>
<p>配置基本设置：</p>
<ul>
<li><strong>名称</strong>：为您的 VM 指定一个描述性的名称。</li>
<li><strong>VirtIO 驱动程序 ISO</strong>：选择您刚刚下载的版本。</li>
</ul>
</li>
<li>
<p>在 <strong>主 vDisk 位置下</strong>:</p>
<ul>
<li>浏览并选择您现有的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_0_10_1760366962246" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> 虚拟磁盘。</li>
</ul>
</li>
<li>
<p>添加一个 <strong>临时第二 vDisk</strong>：</p>
<ul>
<li>点击绿色加号。</li>
<li>将大小设置为 <strong>1M</strong> (这将在首次启动时强制 IDE 总线兼容性)。</li>
<li>为位置选择任意临时目录（稍后将移除）。</li>
</ul>
</li>
<li>
<p>其余的图形和声音设置保持默认值，然后点击 <strong>创建</strong>。</p>
</li>
<li>
<p>立即强行停止 VM:</p>
<ul>
<li>点击 VM 图标并选择 <strong>强制停 止</strong>。</li>
</ul>
</li>
<li>
<p>编辑 VM 配置：</p>
<ul>
<li>点击 VM 图标并选择 <strong>编辑</strong>。</li>
<li>使用右上角的切换按钮切换至 <strong>XML 视图</strong>。</li>
</ul>
</li>
<li>
<p>修改主要磁盘 XML：</p>
<ul>
<li>找到您的主要虚拟磁盘的 <code>&lt;disk&gt;</code> 部分。</li>
<li>移除整个 <code>&lt;address&gt;</code> 行。</li>
<li>在 <code>&lt;target&gt;</code> 标签中将 <code>bus=&#x27;virtio&#x27;</code> 修改为 <code>bus=&#x27;ide&#x27;</code>。</li>
<li>点击 <strong>Update</strong>。</li>
</ul>
</li>
</ol><p>:::提示[为何使用临时磁盘？]
1MB 的临时磁盘强制 Unraid 将主磁盘分配为 <code>hda</code> (IDE) 而不是 <code>vda</code> (<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_4_2_1760366962246" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a>)，这使 Windows 可以在没有 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_7_19_1760366962246" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> 驱动程序的情况下启动。该临时磁盘将在驱动程序安装后移除。  :::</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>步骤 5：安装 VirtIO 驱动程序</strong> - 点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><ol>
<li>从 <strong>VMs</strong> 标签启动 VM。</li>
<li>通过点击 VM 图标连接 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vnc-session_0_13_1760366962246" data-tooltip-html="A remote desktop protocol used to access a virtual machine’s graphical interface directly through the Unraid webGUI.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/VNC&quot;&gt;Virtual Network Computing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">VNC</a> 并选择 <strong>使用控制台 (VNC) 启动</strong>。</li>
<li>在启动过程中：<!-- -->
<ul>
<li>Windows 将检测到新硬件但可能无法安装驱动程序。</li>
<li>在提示时选择“以后再重启”。</li>
</ul>
</li>
<li>打开 <strong>设备管理器</strong>（按 Win+X 并选择设备管理器）：<!-- -->
<ul>
<li>为 <strong>其他设备</strong> 下列出的每个设备安装驱动程序（例如以太网控制器、PCI设备等）：<!-- -->
<ol>
<li>右键点击设备并选择 <strong>更新驱动程序</strong>。</li>
<li>选择 <strong>在我的计算机上浏览驱动程序</strong>。</li>
<li>定位到 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_0_4_1760366962246" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> ISO 驱动（例如，&#x27;D:&#x27;）。</li>
<li>选择 <strong>包含子文件夹</strong>。</li>
<li>若有提示，接受 <strong>始终信任 Red Hat</strong>。</li>
</ol>
</li>
</ul>
</li>
<li>安装 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_0_3_1760366962246" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_3_1_1760366962247" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">guest agent</a>：<!-- -->
<ul>
<li>打开文件资源管理器并导航到 <code>D:\guest-agent\</code>。</li>
<li>双击 <code>qemu-ga-x64.msi</code>。</li>
</ul>
</li>
<li>关闭 VM。</li>
</ol></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>步骤 6：最终配置 VM</strong> - 点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><ol>
<li>编辑 VM：<!-- -->
<ul>
<li>通过点击红色减号图标移除临时的第二个 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_0_19_1760366962247" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">vDisk</a>。</li>
<li>确认主要的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vdisk_0_6_1760366962247" data-tooltip-html="A virtual disk file used by a VM as storage. Acts as a virtual hard drive for the guest operating system.&lt;br&gt;See &lt;a href=&quot;http://en.wikipedia.org/wiki/Logical_disk&quot;&gt;Logical disk - Wikipedia&lt;/a&gt;" data-tooltip-place="top">vDisk</a> 指向您的原始 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xen-hvm_3_8_1760366962247" data-tooltip-html="“Hardware Virtual Machine,” a virtualization mode that uses hardware assistance for full virtualization. Less commonly used in Unraid since the adoption of KVM.&lt;br&gt;See &lt;a href=&quot;https://wiki.xenproject.org/wiki/Xen_Project_Beginners_Guide&quot;&gt;Xen HVM - Xen Project Wiki&lt;/a&gt;" data-tooltip-place="top">Xen</a> 磁盘。</li>
</ul>
</li>
<li>更新 VM：<!-- -->
<ul>
<li>点击 <strong>Update</strong> 保存更改。</li>
</ul>
</li>
<li>正常启动 VM。</li>
<li>在 <strong>设备管理器</strong> 中验证：<!-- -->
<ul>
<li>不会出现警告图标。</li>
<li>所有设备都使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_0_8_1760366962247" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> 驱动程序（例如，“Red Hat <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_3_18_1760366962247" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> 以太网适配器”）。</li>
</ul>
</li>
<li>（可选）启用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_0_7_1760366962247" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> 以获得更好的性能：<!-- -->
<ul>
<li>编辑 VM 并切换到 XML 视图。</li>
<li>将主磁盘的 <code>bus</code> 从 <code>ide</code> 改为 <code>virtio</code>。</li>
<li>点击 <strong>Update</strong> 并重启 VM。</li>
</ul>
</li>
</ol><p>:::提示[驱动程序故障排除]
如果您注意到迁移后设备上出现错误：</p><ol>
<li>从 ISO 重新 安装 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_0_11_1760366962247" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> 驱动程序。</li>
<li>检查 Windows 更新，可能会提供更新的驱动程序。</li>
<li>访问 <a href="https://docs.fedoraproject.org/en-US/quick-docs/creating-windows-virtual-machines-using-virtio-drivers/" target="_blank" rel="noopener noreferrer">Red Hat VirtIO Drivers</a> 页面以获取最新版本。  :::</li>
</ol></div></div></details></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://translate.unraid.net/unraid-docs/zh" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文档页面"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pr-preview/pr-354/zh/unraid-os/using-unraid-to/create-virtual-machines/unraid-as-a-vm/"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">作为虚拟机运行 Unraid</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pr-preview/pr-354/zh/category/customize-your-experience/"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">Customize your experience</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#硬件要求" class="table-of-contents__link toc-highlight">硬件要求</a></li><li><a href="#将物理磁盘转换为-vm" class="table-of-contents__link toc-highlight">将物理磁盘转换为 VM</a></li><li><a href="#将物理磁盘迁移到-vm" class="table-of-contents__link toc-highlight">将物理磁盘迁移到 VM</a></li><li><a href="#从-xen-到-kvm-的迁移" class="table-of-contents__link toc-highlight">从 Xen 到 KVM 的迁移</a><ul><li><a href="#windows-转换步骤" class="table-of-contents__link toc-highlight">Windows 转换步骤</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/pr-preview/pr-354/zh/">主页</a></li><li class="footer__item"><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">在 Github 上贡献<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">论坛<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.unraid.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid 首页<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://connect.myunraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Connect<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://newsletter.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">通讯<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://unraid.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">博客<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/pr-preview/pr-354/zh/img/un-mark-gradient.svg" alt="Unraid 标志" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/docs/pr-preview/pr-354/zh/img/un-mark-gradient.svg" alt="Unraid 标志" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div><div class="footer__copyright"><small>版权所有 &copy; 2005-2025 Lime Technology, Inc.<br>Unraid&reg; 是 Lime Technology, Inc. 的注册商标。</small></div></div></div></footer></div></div>
</body>
</html>