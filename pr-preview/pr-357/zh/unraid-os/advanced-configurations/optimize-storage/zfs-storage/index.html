<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-unraid-os/advanced-configurations/optimize-storage/zfs-storage" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">ZFS 存储 | Unraid Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.unraid.net/docs/pr-preview/pr-357/zh/img/meta-unraid.png"><meta data-rh="true" name="twitter:image" content="https://docs.unraid.net/docs/pr-preview/pr-357/zh/img/meta-unraid.png"><meta data-rh="true" property="og:url" content="https://docs.unraid.net/docs/pr-preview/pr-357/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="theme-color" content="#242526" media="(prefers-color-scheme: dark)"><meta data-rh="true" name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta data-rh="true" name="color-scheme" content="dark light"><meta data-rh="true" name="keywords" content="Unraid, server, storage, NAS, Docker, virtualization, array, parity, data protection, file sharing, plugins, management, GUI, disk management, caching, SSD, disk encryption, security, RAID, network configuration, backups, media server, transcoding, monitoring, VMs, GPU passthrough, hardware compatibility"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ZFS 存储 | Unraid Docs"><meta data-rh="true" name="description" content="我们想要感谢Ed Rawlings(Spaceinvader One)所做的专业指导和贡献，这份 %%ZFS|zfs%% 存储文档正是从他的教程和见解中得来的。感谢他持续为 Unraid 用户提供帮助，帮助众多用户掌握高级存储技术。我们珍视他对 Unraid 社区的持续贡献。"><meta data-rh="true" property="og:description" content="我们想要感谢Ed Rawlings(Spaceinvader One)所做的专业指导和贡献，这份 %%ZFS|zfs%% 存储文档正是从他的教程和见解中得来的。感谢他持续为 Unraid 用户提供帮助，帮助众多用户掌握高级存储技术。我们珍视他对 Unraid 社区的持续贡献。"><link data-rh="true" rel="icon" href="/docs/pr-preview/pr-357/zh/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.unraid.net/docs/pr-preview/pr-357/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-357/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-357/es/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" hreflang="es"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-357/fr/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-357/de/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" hreflang="de"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-357/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-357/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JUYLFQHE7W-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unraid 操作系统","item":"https://docs.unraid.net/docs/pr-preview/pr-357/zh/category/unraid-os"},{"@type":"ListItem","position":2,"name":"高级配置","item":"https://docs.unraid.net/docs/pr-preview/pr-357/zh/category/advanced-configurations"},{"@type":"ListItem","position":3,"name":"优化存储","item":"https://docs.unraid.net/docs/pr-preview/pr-357/zh/category/optimize-storage"},{"@type":"ListItem","position":4,"name":"ZFS 存储","item":"https://docs.unraid.net/docs/pr-preview/pr-357/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CZENQ1ZPEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CZENQ1ZPEH",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Unraid Docs" href="/docs/pr-preview/pr-357/zh/opensearch.xml">



<script src="/js/redirects.js"></script><link rel="stylesheet" href="/docs/pr-preview/pr-357/zh/assets/css/styles.f000b811.css">
<script src="/docs/pr-preview/pr-357/zh/assets/js/runtime~main.0c94b443.js" defer="defer"></script>
<script src="/docs/pr-preview/pr-357/zh/assets/js/main.6f352664.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pr-preview/pr-357/zh/"><div class="navbar__logo"><img src="/docs/pr-preview/pr-357/zh/img/un-mark-gradient.svg" alt="我的网站标志" class="themedComponent_mlkZ themedComponent--light_NVdE" style="width:30px"><img src="/docs/pr-preview/pr-357/zh/img/un-mark-gradient.svg" alt="我的网站标志" class="themedComponent_mlkZ themedComponent--dark_xIcU" style="width:30px"></div><b class="navbar__title text--truncate">Unraid 文档</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">更多</a><ul class="dropdown__menu"><li><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Unraid 首页<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">论坛<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">文档 Github<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docs/pr-preview/pr-357/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/pr-preview/pr-357/es/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/pr-preview/pr-357/fr/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/pr-preview/pr-357/de/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/docs/pr-preview/pr-357/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="系统模式" aria-label="切换深色和浅色模式（当前为系统模式）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-357/zh/">Unraid 文档</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/pr-preview/pr-357/zh/category/unraid-os/">Unraid 操作系统</a><button aria-label="折叠侧栏类别 &#x27;Unraid 操作系统&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-357/zh/category/getting-started-with-unraid/">开始使用 Unraid</a><button aria-label="展开侧栏类别 &#x27;开始使用 Unraid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-357/zh/category/using-unraid-to/">使用 Unraid</a><button aria-label="展开侧栏类别 &#x27;使用 Unraid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-357/zh/category/system-administration/">系统管理</a><button aria-label="展开侧栏类别 &#x27;系统管理&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-357/zh/category/advanced-configurations/">高级配置</a><button aria-label="折叠侧栏类别 &#x27;高级配置&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-357/zh/category/optimize-storage/">优化存储</a><button aria-label="折叠侧栏类别 &#x27;优化存储&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pr-preview/pr-357/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/">ZFS 存储</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-357/zh/unraid-os/troubleshooting/">故障排除</a><button aria-label="展开侧栏类别 &#x27;故障排除&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-357/zh/category/release-notes/">发行说明</a><button aria-label="展开侧栏类别 &#x27;发行说明&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-357/zh/unraid-os/download_list/">版本历史</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-357/zh/category/unraid-connect/">Unraid Connect</a><button aria-label="展开侧栏类别 &#x27;Unraid Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-357/zh/API/">Unraid API</a><button aria-label="展开侧栏类别 &#x27;Unraid API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-357/zh/category/contribute/">贡献</a><button aria-label="展开侧栏类别 &#x27;贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-357/zh/glossary/">词汇表</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="面包屑导航"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页" class="breadcrumbs__link" href="/docs/pr-preview/pr-357/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-357/zh/category/unraid-os/"><span>Unraid 操作系统</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-357/zh/category/advanced-configurations/"><span>高级配置</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-357/zh/category/optimize-storage/"><span>优化存储</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">ZFS 存储</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页内容</button></div><div class="theme-doc-markdown markdown"><header><h1>ZFS 存储</h1></header>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Special 谢谢</div><div class="admonitionContent_BuS1"><p>我们想要感谢Ed Rawlings(<a href="https://www.youtube.com/c/SpaceinvaderOne" target="_blank" rel="noopener noreferrer">Spaceinvader One</a>)所做的专业指导和贡献，这份 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_2_15_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 存储文档正是从他的教程和见解中得来的。感谢他持续为 Unraid 用户提供帮助，帮助众多用户掌握高级存储技术。我们珍视他对 Unraid 社区的持续贡献。</p></div></div>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 为您的 Unraid 系统带来高级的数据完整性、灵活的存储配置和高性能。本指南解释 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_2_43_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 的核心概念，并引导您通过 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_5_21_1760372496621" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 直接管理 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_8_6_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池。无论您是部署新的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_11_12_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 存储还是整合现有的池，您都可以在这里获取启动所需的步骤和背景。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="为什么选择-zfs">为什么选择 ZFS？<a href="#为什么选择-zfs" class="hash-link" aria-label="直接链接到 为什么选择 ZFS？" title="直接链接到 为什么选择 ZFS？">​</a></h2>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 是一种现代文件系统和卷管理器，旨在保护您的数据、预防损坏并简化存储管理。</p>
<p>使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>，您可以获得：</p>
<ul>
<li>自动数据完整性检查和自我修复</li>
<li>内置 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_0_3_1760372496621" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a> 支持（镜像、RAIDZ）</li>
<li><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_0_0_1760372496621" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Snapshots</a> 和克隆功能，用于轻松备份和回滚</li>
<li><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 发送/接收，高效复制</li>
<li>即使压缩</li>
</ul>
<p>Unraid supports <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_16_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> for any storage pool. You can create a new <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_44_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> pool, import one from another system, or use Unraid’s unique hybrid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_6_69_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> setup: add a <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_9_14_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>-formatted disk directly to the Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_12_39_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> (not a pool) and combine <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_15_26_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> features with Unraid’s <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_18_24_1760372496621" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> protection.</p>
<p>:::info[Example]</p>
<p>您可以在单个磁盘上使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_12_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_3_1_1760372496621" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">snapshots</a> 和复制作为备份目标，或将快速 SSD <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_6_20_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池复制到由 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_9_14_1760372496621" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> 保护的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_12_5_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 磁盘中的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_15_6_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>，以获得双重优势。</p>
<p>:::</p>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs1-7d3225a7572f3fd1a8b480c1d4cb3878.png" width="1070" height="436" class="img_ev3q"></p></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>The hybrid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_11_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>-in-array approach is helpful for specific backup or replication scenarios but is not a replacement for a full <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_111_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> pool. <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_6_7_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> disks in the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_9_14_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> are managed individually; you do not get the combined performance, redundancy, or self-healing of a true multi-disk <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_12_117_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> pool. For full <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_15_16_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> functionality, always use dedicated <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_18_37_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> pools.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="池vdevs-和冗余">池、vdevs 和冗余<a href="#池vdevs-和冗余" class="hash-link" aria-label="直接链接到 池、vdevs 和冗余" title="直接链接到 池、vdevs 和冗余">​</a></h3>
<p>一个 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池（称为“zpool”）由一个或多个 vdevs（虚拟设备）组成。在每个 vdev 内，多个物理盘通过某种冗余级别组合到一起。<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_64_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 在多个 vdev 上写入数据，但每个 vdev 负责自己的容错。</p>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p>冗余总是针对每个 vdev 的。如果任何一个 vdev 失败，整个池将失败，即使其他 vdev 是健康的。请仔细规划您的 vdev!</p></div></div>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs2-42a54028aaac6693c7ffce885e5a3544.png" width="1083" height="447" class="img_ev3q"></p></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建一个-zfs-池">创建一个 ZFS 池<a href="#创建一个-zfs-池" class="hash-link" aria-label="直接链接到 创建一个 ZFS 池" title="直接链接到 创建一个 ZFS 池">​</a></h2>
<p>要使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_0_4_1760372496621" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 创建 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_4_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池：</p>
<ol>
<li>停止<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_2_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
<li>点击<strong>添加池</strong>。</li>
</ol>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs3-928ecd72806a2ef8596203be7c6febc1.png" width="1081" height="294" class="img_ev3q"></p></div>
<ol start="3">
<li>为您的存储池选择一个名称（例如，<code>raptor</code>）。</li>
<li>设置槽位数量以匹配您想要在主数据 vdev(s) 中的磁盘数量。</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>此初始槽位数量仅用于数据 vdev。支持 vdev（例如日志或缓存驱动器）可以在创建池后单独添加。</p></div></div>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs4-51f62e8e6abc68ecc5cc1a3f19136944.png" width="1076" height="480" class="img_ev3q"></p></div>
<ol start="5">
<li>将磁盘分配到池中（磁盘顺序无关紧要）。</li>
</ol>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs5-8f7deb8956dfd2319f29f128561e181d.png" width="1071" height="400" class="img_ev3q"></p></div>
<ol start="6">
<li>点击池名称（例如 <code>raptor</code>）以打开其配置屏幕。</li>
<li>将文件系统类型设置为 <code>zfs</code> 或 <code>zfs-encrypted</code>（用于 LUKS 加密）。</li>
</ol>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs6-5a4b8dd6607276ef936ce7af3d8de720.png" width="1081" height="271" class="img_ev3q"></p></div>
<ol start="8">
<li>选择您的分配配置文件 - 这会决定您的池的冗余和性能。</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>在最终确定之前，检查关于分配配置文件和拓扑结构的章节以做出明智的选择。</p></div></div>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs7-c3e81c27ed07333e6b801dea7332805f.png" width="1078" height="635" class="img_ev3q"></p></div>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs8-1a5abc69d7342e0253b477cacb65eb66.png" width="1077" height="355" class="img_ev3q"></p></div>
<ol start="9">
<li>如果需要，可以启用压缩（推荐用于大多数工作负载）。</li>
<li>点击<strong>完成</strong>，然后启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_6_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="将-zfs-磁盘添加到阵列混合设置">将 ZFS 磁盘添加到阵列（混合设置）<a href="#将-zfs-磁盘添加到阵列混合设置" class="hash-link" aria-label="直接链接到 将 ZFS 磁盘添加到阵列（混合设置）" title="直接链接到 将 ZFS 磁盘添加到阵列（混合设置）">​</a></h2>
<p>您可以将独立的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_8_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 磁盘添加到您的 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_16_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>（而不是 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_6_5_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池）中，以结合 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_9_9_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 功能和 Unraid 的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_12_14_1760372496621" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> 保护。</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>What this enables</div><div class="admonitionContent_BuS1"><ul>
<li>
<p><strong>%%Parity Protection%%:</strong> ZFS 磁盘由 Unraid 的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_18_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_4_1_1760372496621" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> 保护，确保您的数据免受单个（或多个，取决于您的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity-drives_7_25_1760372496621" data-tooltip-html="Redundant drives in the array that maintain parity information to recover data during disk failures." data-tooltip-place="top">parity drives</a>）磁盘故障的影响。</p>
</li>
<li>
<p><strong>数据完整性:</strong> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_1_1_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 提供块级完整性检查（校验）。尽管单个磁盘无法自愈位腐烂，<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_4_29_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 能检测到损坏并提醒您，以便在静默数据丢失之前从备份中恢复。</p>
</li>
<li>
<p><strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 特性:</strong> 您可以在此磁盘上使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_1_12_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_4_1_1760372496621" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">snapshots</a> 和复制，使其成为备份目标、特定数据集或需要将 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_7_24_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 特性与传统 Unraid 存储结合的场景的理想选择。</p>
</li>
</ul></div></div>
<p>将 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_2_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 磁盘添加到 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_7_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>:</p>
<ol>
<li>在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_0_2_1760372496621" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中转到 <strong>Main</strong> 标签。</li>
<li>停止<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_2_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
<li>点击<strong>阵列设备</strong>下的空槽。</li>
<li>选择您要添加的磁盘。</li>
</ol>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs9-5571b040dcf3114c91ae46ec19737fcf.png" width="1146" height="353" class="img_ev3q"></p></div>
<ol start="5">
<li>在 <strong>文件系统</strong> 下，选择 <code>zfs</code> 或 <code>zfs-encrypted</code>。</li>
</ol>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs9-5571b040dcf3114c91ae46ec19737fcf.png" width="1146" height="353" class="img_ev3q"></p></div>
<ol start="6">
<li>点击 <strong>应用</strong>。</li>
<li>启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_3_1760372496621" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>，并在需要时让磁盘格式化。</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="选择分配配置文件">选择分配配置文件<a href="#选择分配配置文件" class="hash-link" aria-label="直接链接到 选择分配配置文件" title="直接链接到 选择分配配置文件">​</a></h2>
<p>当您设置 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_5_1760372496621" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池时，您的分配配置文件将决定您的数据如何受到保护、池的性能以及其可扩展性。以下是一些简单的比较帮助您决定哪个配置文件适合您的需求：</p>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs11-17d97e50511577a9c682777a95a252e7.png" width="1037" height="217" class="img_ev3q"></p></div>
<table><thead><tr><th>配置</th><th>冗余</th><th>性能</th><th>扩展</th><th>空间效率</th><th>典型用例</th></tr></thead><tbody><tr><td>条带</td><td>无</td><td>快，但风险大</td><td>增加更多磁盘</td><td>100%</td><td>临时/临时存储</td></tr><tr><td>镜像</td><td>1:1（<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid1_0_4_1760372496622" data-tooltip-html="Mirroring – A redundancy method that duplicates all data across two or more drives. If one drive fails, another contains an exact copy of the data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_1&quot;&gt;RAID 1 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID 1</a> 样式）</td><td>对于随机 I/O 表现出色</td><td>增加更多镜像</td><td>50%</td><td>高性能，易于扩展</td></tr><tr><td>RAIDZ1</td><td>每个 vdev 1 个盘</td><td>在处理大文件时速度快。不适合小文件或随机写入。</td><td>增加新的 vdev</td><td>高</td><td>通用用途，1 盘容错</td></tr><tr><td>RAIDZ2</td><td>每个 vdev 2 个盘</td><td>与 Z1 类似，但写入略慢（额外的奇偶校验）</td><td>增加新的 vdev</td><td>中等</td><td>重要数据，2 盘容错</td></tr><tr><td>RAIDZ3</td><td>每个 vdev 3 个盘</td><td>与 Z2 类似，写入更多负担（最大安全性）</td><td>增加新的 vdev</td><td>低</td><td>任务关键型，3 盘容错</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>How to choose</div><div class="admonitionContent_BuS1"><ul>
<li>选择 <strong>镜像</strong> 如果您想要最佳性能和易于、灵活的扩展，并且愿意使用更多磁盘空间来确保冗余。</li>
<li>选择 <strong>RAIDZ1/2/3</strong> 如果您想最大化可用空间并存储大文件，但要记住扩展的灵活性较低，随机写性能较差。</li>
<li><strong>条带</strong> 只适用于非关键性、临时数据 - 如果任何磁盘故障，您将失去所有数据。</li>
</ul></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="拓扑和扩展">拓扑和扩展<a href="#拓扑和扩展" class="hash-link" aria-label="直接链接到 拓扑和扩展" title="直接链接到 拓扑和扩展">​</a></h2>
<p>您如何将磁盘 分组到 vdevs 中会影响数据安全性和速度。</p>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs12-58c00418818947874903fa670a4e6bc9.png" width="1042" height="621" class="img_ev3q"></p></div>
<ul>
<li>如果您将所有磁盘放入一个大型 RAIDZ2 vdev，您可以在不丢失数据的情况下丢失任意两个磁盘。然而，扩展意味着需要添加另一个完整的 vdev。</li>
<li>如果将磁盘分割成多个较小的 RAIDZ1 vdev，您将获得更好的并行性能。请注意，如果同一 vdev 中有两个磁盘故障，您将失去整个池。</li>
<li><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 将数据跨 vdev 条带化，而不是单个磁盘，因此更多的 vdev 能够提升处理很多小文件或随机 I/O 的工作负载性能。</li>
<li>扩展一个 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_5_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 容量池通常意味着添加一个新的相同布局的 vdev，而不仅仅是单个磁盘。</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>规划池的布局以满足需求和未来的增长。与 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_27_1760372496622" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 不同，您不能通过 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_3_10_1760372496622" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 向现有 vdev 添加单个磁盘。</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="压缩和-ram">压缩和 RAM<a href="#压缩和-ram" class="hash-link" aria-label="直接链接到 压缩和 RAM" title="直接链接到 压缩和 RAM">​</a></h2>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 提供的高级功能能够显著提高 Unraid 的存储效率和性能。压缩和内存需求是两个常见的关注点。</p>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 压缩是透明的 - 它在后台运行，在数据到达磁盘之前缩小数据。</p>
<p>这提供了两个主要优点：</p>
<ul>
<li><strong>减少磁盘使用量:</strong> 所需存储空间更少。</li>
<li><strong>提高性能:</strong> 写入和读取较少数据可以导致更快的操作，特别是在现代 CPU 上。</li>
</ul>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs13-6555bbed6a5e86c57ff05c962ad3f8fb.png" width="933" height="164" class="img_ev3q"></p></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>为大多数 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_12_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池启用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_5_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 压缩。这是一种安全和高效的方式，并且对兼容性或稳定性几乎没有影响。</p></div></div>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>ZFS RAM 神话</strong> - 点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><p>您可能听过过时的建议：“<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_12_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 要求每 TB 存储 1 GB RAM”。这对大多数用户来说不再适用。<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_35_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 使用 RAM 作为其自适应替换缓存（ARC），加速频繁访问的读取。</p><p>Unraid 自动限制 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_12_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 使用系统内存的一部分(通常是总 RAM 的 1/8)。这使 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_31_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 可以良好运作，而不会影响到 Docker 容器、<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_6_25_1760372496622" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> 或 Unraid 操作系统。</p><div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs14-88e0135b5eb29bc6516e169070358140.png" width="1141" height="316" class="img_ev3q"></p></div></div></div></details>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 随可用内存进行良好扩展。更多的 RAM 可以增强缓存性能，但 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_2_32_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 在较低配置的硬件上依然可靠。不要让旧的建议阻止您在 Unraid 上使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_5_38_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 。</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="导入其他系统创建的-zfs-池">导入其他系统创建的 ZFS 池<a href="#导入其他系统创建的-zfs-池" class="hash-link" aria-label="直接链接到 导入其他系统创建的 ZFS 池" title="直接链接到 导入其他系统创建的 ZFS 池">​</a></h2>
<p>Unraid 可以轻松导入其他平台上创建的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_22_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池。</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary><strong>如何导入 ZFS 池</strong> - 点击展开/折叠</summary><div><div class="collapsibleContent_i85q"><ol>
<li><strong>停止阵列:</strong> 确保您的 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_13_1760372496622" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 已停止。</li>
<li><strong>添加新池:</strong> 点击 <strong>添加池</strong>。</li>
<li><strong>分配所有驱动器:</strong>
<ul>
<li>将 <strong>数据槽位数量</strong> 设置为您的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_2_7_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池中磁盘（包括数据 vdevs 和支持 vdevs）总数。</li>
<li>将每个驱动器分配到正确的插槽。</li>
<li><em>示例：</em> 对于具有 4 个驱动器镜像 vdev 和 2 个驱动器 L2ARC vdev 的池，设置 6 个插槽并分配所有六个驱动器。</li>
</ul>
</li>
<li><strong>设置文件系统为 &quot;Auto&quot;：</strong> 点击池名称（例如，<code>raptor</code>）并将 <strong>文件系统</strong> 设置为 <strong>Auto</strong>。</li>
<li><strong>完成并启动阵列:</strong> 点击 <strong>完成</strong>，然后启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_6_1760372496622" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
</ol><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>自动检测</div><div class="admonitionContent_BuS1"><p>Unraid 将自动检测并导入 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_16_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池。支持 vdevs (如日志，缓存/L2ARC，特殊/去重) 会列在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_3_37_1760372496622" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中的 <strong>子池</strong> 下。在启动导入后不需要单独添加子池。Unraid 会在所有所需驱动器被分配后，与主数据磁盘一起自动导入。</p></div></div><p>导入后，强烈建议运行 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_0_11_1760372496622" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a> 以验证数据完整性。</p><ul>
<li>点击池名（例如 <code>raptor</code>）以打开其配置。</li>
<li>在 <strong>池状态</strong> 下，检查状态并点击 <strong>Scrub</strong>。</li>
</ul><div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs15-e52a186cecdd992803b04050ab345ccd.png" width="1165" height="429" class="img_ev3q"></p></div></div></div></details>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="支持-vdev子池">支持 vdev（子池）<a href="#支持-vdev子池" class="hash-link" aria-label="直接链接到 支持 vdev（子池）" title="直接链接到 支持 vdev（子池）">​</a></h2>
<p>Unraid 将 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_9_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 支持 vdevs 称作子池。大多数用户<strong>不</strong>需要这些，但有经验的用户可能会使用：</p>
<div style="margin:auto;max-width:600px;display:flex;flex-direction:column;align-items:center"><p><img decoding="async" loading="lazy" src="/docs/pr-preview/pr-357/zh/assets/images/zfs16-523da321626e720dae862d5bd71e0a21.png" width="1023" height="411" class="img_ev3q"></p></div>
<table><thead><tr><th>支持的 vdev（子池）</th><th>用途</th><th>风险/注意事项</th></tr></thead><tbody><tr><td>特殊 vdev</td><td>存储元数据和小文件</td><td>如果丢失，池将无法读取。</td></tr><tr><td>去重 vdev</td><td>启用去重功能</td><td>需要大量的 RAM; 对于大多数用户来说风险较大。除非您有专业需求，否则请避免使用。</td></tr><tr><td>日志 vdev（SLOG）</td><td>提高同步写入性能</td><td>可选。仅对某些工作负载有益。</td></tr><tr><td>缓存 vdev（L2ARC）</td><td>提供基于 SSD 的读取缓存</td><td>可选。可以提高大型工作集的读取速度。</td></tr><tr><td>备用 vdev</td><td>Unraid（截至 7.1.2 版）不支持</td><td></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p>大多数 Unraid 用户应避免支持 vdevs/子池，除非您有特定并且明确的需求。它们是针对专门工作负载设计的，滥用会带来复杂性或风险。</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="导入时未分配重要的支持-vdev-驱动器">导入时未分配重要的支持 vdev 驱动器<a href="#导入时未分配重要的支持-vdev-驱动器" class="hash-link" aria-label="直接链接到 导入时未分配重要的支持 vdev 驱动器" title="直接链接到 导入时未分配重要的支持 vdev 驱动器">​</a></h2>
<p>当将 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池导入到 Unraid 时，您需要指定原始池中的每个驱动器，包括用于支持 vdevs 的驱动器，确保将其分配到池槽中。Unraid   将在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_70_1760372496622" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 启动后自动识别每个驱动器的角色（数据、日志、缓存、特殊或去重）。您不需要手动指定每个驱动器的用途。</p>
<p>如果在导入期间忘记包含一个支持 vdev 的驱动器，结果将取决于 vdev 的功能：</p>
<table><thead><tr><th>Vdev 类型</th><th>导入时驱动器缺失情况</th><th>结果</th></tr></thead><tbody><tr><td>特殊 vdev 或去重 vdev</td><td>池将无法导入或无法使用</td><td>These vdevs store critical metadata or deduplication tables. Without them, <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_75_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> cannot safely mount the pool.</td></tr><tr><td>日志（SLOG）vdev</td><td>池导入，但同步写入性能下降。</td><td>池仍然可访问，但你可能会注意到依赖同步写入的工作负载的性能变慢。</td></tr><tr><td>缓存（L2ARC）vdev</td><td>池导入，但读取缓存丢失</td><td>池正常工作，但您将失去 L2ARC 缓存带来的性能提升。没有数据丢失。</td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>Always assign every physical drive from your original <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_54_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> pool, including all support vdevs, when importing into Unraid. This ensures smooth detection and integration. For new pools created in Unraid, support vdevs are optional and generally not needed for most users.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="扩展存储">扩展存储<a href="#扩展存储" class="hash-link" aria-label="直接链接到 扩展存储" title="直接链接到 扩展存储">​</a></h2>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 功能强大，但重要的是要了解其存储扩展是如何工作的—尤其是在规划未来增长时。</p>
<p>以往，<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 的 vdev 宽度是固定的。您无法通过增加磁盘来增加现有 RAIDZ vdev 的大小。</p>
<p>扩展池的方法包括：</p>
<ul>
<li><strong>添加新 vdev:</strong> 通过添加新的 vdev（如新镜像或 RAIDZ 组）来扩展您的池。这增加了容量，但您必须以符合 vdev 配置的方式成组地增加磁盘。</li>
<li><strong>用更大的磁盘替换驱动:</strong> 一次替换每个 vdev 驱动为更大的磁盘。请参阅 <a href="/docs/pr-preview/pr-357/zh/unraid-os/using-unraid-to/manage-storage/array-configuration/#replacing-faileddisabled-disks">驱动替换</a> 以获取详尽步骤。在所有驱动替换并且池解析之后，vdev 的容量将增加。</li>
<li><strong>创建新池：</strong> 启动一个新的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_1_8_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池可将不同的数据类型或工作负载组织并独立管理。</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Planning ahead</div><div class="admonitionContent_BuS1"><p>在建立池之前，考虑您需要多少存储空间 - 不仅是今天，还包括未来的需要。<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_36_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 在良好规划时会带来回报，特别是当您想要避免以后繁琐的升级时。</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="在现有-unraid-服务器上使用-zfs-池">在现有 Unraid 服务器上使用 ZFS 池<a href="#在现有-unraid-服务器上使用-zfs-池" class="hash-link" aria-label="直接链接到 在现有 Unraid 服务器上使用 ZFS 池" title="直接链接到 在现有 Unraid 服务器上使用 ZFS 池">​</a></h2>
<p>如果你运行传统 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_15_1760372496622" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 并希望添加 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_3_7_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池，以下是一些有效的集成方法：</p>
<table><thead><tr><th>使用场景</th><th>描述</th><th>详细信息/示例</th></tr></thead><tbody><tr><td>用于 appdata 和 Docker 的快速 SSD/NVMe 池</td><td>Store the appdata share for fast, responsive containers and databases. This supports <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_0_85_1760372496622" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">snapshot</a>s for easy rollbacks and can also host <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_39_1760372496622" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>s for high I/O.</td><td>许多用户选择 2 驱动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_12_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 镜像。此方式扩展简单并提供强大的性能。</td></tr><tr><td>用于重要数据的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_7_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>池</td><td>使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 镜像或 RAIDZ2 池来存储不可替代的文件，如照片、税务记录和 %%user-share|用户共享%% 数据。%%ZFS|zfs%% 检查腐败并通过冗余自愈。</td><td>这种设置通过自动的完整性检查和自我修复功能保护关键数据。</td></tr><tr><td>每日备份或复制目标</td><td>使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 盘（即便是在 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_15_1760372496622" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 中）作为复制目标。您可以在本地或从另一个 Unraid 服务器复制其他池。</td><td>利用 <code>zfs send/receive</code> 或诸如 Syncoid 之类的工具，以实现快速可靠的备份和还原。</td></tr><tr><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_0_0_1760372496622" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Snapshot</a>-based recovery pool</td><td>Keep point-in-time <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_0_19_1760372496622" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">snapshot</a>s of critical data or containers. <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_3_34_1760372496622" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">snapshot</a>s can be auto-scheduled and are space-efficient.</td><td>此功能可以从意外删除或配置错误中快速恢复。</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="避免常见的-zfs-错误">避免常见的 ZFS 错误<a href="#避免常见的-zfs-错误" class="hash-link" aria-label="直接链接到 避免常见的 ZFS 错误" title="直接链接到 避免常见的 ZFS 错误">​</a></h2>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 是一个强大的文件系统，但有几个常见的陷阱可能削弱其优势。在配置您的池之前，要牢记以下几点以获取更流畅的体验：</p>
<ul>
<li>
<p><strong>RAIDZ 内磁盘大小不匹配:</strong> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_1_1_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 视 RAIDZ vdev 中所有磁盘为最小磁盘的大小。为了确保最高效，请使用每个 vdev 中大小相同的驱动器。</p>
</li>
<li>
<p><strong>通过 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_0_3_1760372496622" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 扩展 RAIDZ vdev:</strong> 虽然 Unraid 7.1.x 及更新版本支持通过命令行扩展 RAIDZ，但此功能尚未在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_1_46_1760372496622" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中可用。目前，请通过 CLI 展开或通过 GUI 添加新 vdev。</p>
</li>
<li>
<p><strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> disk vs. full zpool:</strong> A single <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_1_10_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>-formatted disk in the Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_4_30_1760372496622" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> does not offer the redundancy or features of a dedicated <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_7_58_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> pool. To leverage advanced functionality, use standalone pools.</p>
</li>
<li>
<p><strong>未满足 RAM 的去重功能:</strong> 去重需要大量内存，禁用去重会对性能产生重大影响。只有在完全了解需求的情况下启用去重功能。</p>
</li>
<li>
<p><strong>Vdev 冗余是局部的:</strong> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_1_1_1760372496622" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 中的冗余是局部的，不是在整个池上共享。请确保规划 vdev 布局以实现所需的强度。</p>
</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://translate.unraid.net/unraid-docs/zh" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文档页面"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pr-preview/pr-357/zh/category/optimize-storage/"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">Optimize storage</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pr-preview/pr-357/zh/unraid-os/troubleshooting/"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">故障排除</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#为什么选择-zfs" class="table-of-contents__link toc-highlight">为什么选择 ZFS？</a><ul><li><a href="#池vdevs-和冗余" class="table-of-contents__link toc-highlight">池、vdevs 和冗余</a></li></ul></li><li><a href="#创建一个-zfs-池" class="table-of-contents__link toc-highlight">创建一个 ZFS 池</a></li><li><a href="#将-zfs-磁盘添加到阵列混合设置" class="table-of-contents__link toc-highlight">将 ZFS 磁盘添加到阵列（混合设置）</a></li><li><a href="#选择分配配置文件" class="table-of-contents__link toc-highlight">选择分配配置文件</a></li><li><a href="#拓扑和扩展" class="table-of-contents__link toc-highlight">拓扑和扩展</a></li><li><a href="#压缩和-ram" class="table-of-contents__link toc-highlight">压缩和 RAM</a></li><li><a href="#导入其他系统创建的-zfs-池" class="table-of-contents__link toc-highlight">导入其他系统创建的 ZFS 池</a></li><li><a href="#支持-vdev子池" class="table-of-contents__link toc-highlight">支持 vdev（子池）</a></li><li><a href="#导入时未分配重要的支持-vdev-驱动器" class="table-of-contents__link toc-highlight">导入时未分配重要的支持 vdev 驱动器</a></li><li><a href="#扩展存储" class="table-of-contents__link toc-highlight">扩展存储</a></li><li><a href="#在现有-unraid-服务器上使用-zfs-池" class="table-of-contents__link toc-highlight">在现有 Unraid 服务器上使用 ZFS 池</a></li><li><a href="#避免常见的-zfs-错误" class="table-of-contents__link toc-highlight">避免常见的 ZFS 错误</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/pr-preview/pr-357/zh/">主页</a></li><li class="footer__item"><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">在 Github 上贡献<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">论坛<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.unraid.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid 首页<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://connect.myunraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Connect<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://newsletter.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">通讯<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://unraid.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">博客<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/pr-preview/pr-357/zh/img/un-mark-gradient.svg" alt="Unraid 标志" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/docs/pr-preview/pr-357/zh/img/un-mark-gradient.svg" alt="Unraid 标志" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div><div class="footer__copyright"><small>版权所有 &copy; 2005-2025 Lime Technology, Inc.<br>Unraid&reg; 是 Lime Technology, Inc. 的注册商标。</small></div></div></div></footer></div></div>
</body>
</html>