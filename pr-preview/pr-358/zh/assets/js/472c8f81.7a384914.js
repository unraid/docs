"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4782],{2027:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>w,contentTitle:()=>f,default:()=>j,frontMatter:()=>g,metadata:()=>i,toc:()=>x});const i=JSON.parse('{"id":"unraid-os/troubleshooting/common-issues/unclean-shutdowns","title":"\u975e\u6b63\u5e38\u5173\u673a","description":"\u5f53 Unraid \u68c0\u6d4b\u5230 %%array|array%% \u6ca1\u6709\u5728\u7cfb\u7edf\u65ad\u7535\u524d\u6b63\u786e\u505c\u6b62\u65f6\uff0c\u5c31\u4f1a\u51fa\u73b0\u4e0d\u5e72\u51c0\u5173\u673a\u3002\u8fd9\u79cd\u60c5\u51b5\u53ef\u80fd\u4f1a\u5728\u4e0b\u6b21\u542f\u52a8\u65f6\u89e6\u53d1\u81ea\u52a8 %%parity check|parity-check%% \u4ee5\u786e\u4fdd\u6570\u636e\u5b8c\u6574\u6027\u3002","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/unraid-os/troubleshooting/common-issues/unclean-shutdowns.mdx","sourceDirName":"unraid-os/troubleshooting/common-issues","slug":"/unraid-os/troubleshooting/common-issues/unclean-shutdowns","permalink":"/docs/pr-preview/pr-358/zh/unraid-os/troubleshooting/common-issues/unclean-shutdowns","draft":false,"unlisted":false,"editUrl":"https://translate.unraid.net/unraid-docs/zh","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"\u975e\u6b63\u5e38\u5173\u673a"},"sidebar":"unraidSidebar","previous":{"title":"\u5f15\u5bfc\u548c\u542f\u52a8\u6545\u969c","permalink":"/docs/pr-preview/pr-358/zh/unraid-os/troubleshooting/common-issues/boot-and-startup-failures"},"next":{"title":"\u7cfb\u7edf\u5d29\u6e83\u4e0e\u7a33\u5b9a\u6027","permalink":"/docs/pr-preview/pr-358/zh/unraid-os/troubleshooting/common-issues/system-crashes-and-stability"}}');var s=a(4848),o=a(8453),n=a(2503),r=a(9489),l=a(7227);function c(t){const e={a:"a",admonition:"admonition",p:"p",...(0,o.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"Power interruptions are one of the main reasons for unclean shutdowns. Protect your system with a properly configured UPS that can automatically shut down Unraid before the battery runs out."}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsxs)(e.p,{children:["Unraid \u652f\u6301\u5927\u591a\u6570\u4f7f\u7528 ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"apcupsd_0_15_1761322921820","data-tooltip-html":'Protocol used by Unraid to communicate with UPS devices. Enables graceful shutdowns during power failures.<br>See <a href="http://www.apcupsd.org/">apcupsd - Official Project Documentation</a>',"data-tooltip-place":"top",children:"apcupsd \u534f\u8bae"}),(0,s.jsx)(n.m_,{id:"apcupsd_0_15_1761322921820",place:"top",effect:"solid",clickable:!0})," \u534f\u8bae\u7684 UPS \u5355\u5143\uff08APC \u548c CyberPower \u901a\u5e38\u517c\u5bb9\uff09\u3002\u5982\u679c\u60a8\u7684 UPS \u4e0d\u53d7\u652f\u6301\uff0c\u5efa\u8bae\u4f7f\u7528\u6765\u81ea\u793e\u533a\u5e94\u7528\u7a0b\u5e8f\u7684\u7f51\u7edc UPS \u5de5\u5177\uff08NUT\uff09\u63d2\u4ef6\u3002"]})})]})}function d(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(c,{...t})}):c(t)}function h(t){const e={a:"a",p:"p",...(0,o.R)(),...t.components};return(0,s.jsxs)(e.p,{children:['"',(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_1_1761322921821","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_0_1_1761322921821",place:"top",effect:"solid",clickable:!0})," \u72b6\u6001\u5b58\u50a8\u5728\u60a8\u7684 USB \u95ea\u5b58\u8bbe\u5907\u4e0a\u3002\u5982\u679c\u95ea\u5b58\u4e0d\u53ef\u7528\u6216\u8fdb\u5165\u53ea\u8bfb\u72b6\u6001\uff0cUnraid \u65e0\u6cd5\u66f4\u65b0\u5173\u673a\u72b6\u6001\uff0c\u5373\u4f7f ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_3_53_1761322921821","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_3_53_1761322921821",place:"top",effect:"solid",clickable:!0}),' \u6b63\u786e\u505c\u6b62\u3002\u8fd9\u4f1a\u5bfc\u81f4\u5728\u4e0b\u6b21\u542f\u52a8\u65f6\u68c0\u6d4b\u51fa\u4e0d\u5e72\u51c0\u5173\u673a\u3002"']})}function u(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(h,{...t})}):h(t)}function p(t){const e={a:"a",admonition:"admonition",p:"p",...(0,o.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.p,{children:"Unraid waits for all open terminal or SSH sessions to close during shutdown. If these sessions remain active and the shutdown timer expires, a forced shutdown occurs."}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository",children:"Dynamix Stop Shell"})," plugin can automatically close lingering bash or SSH sessions, helping ensure a graceful shutdown. However, be cautious if there are ongoing write operations to the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_2_166_1761322921823","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_2_166_1761322921823",place:"top",effect:"solid",clickable:!0}),"."]})})]})}function m(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(p,{...t})}):p(t)}const g={sidebar_position:2,sidebar_label:"\u975e\u6b63\u5e38\u5173\u673a"},f="\u975e\u6b63\u5e38\u5173\u673a",w={},x=[{value:"\u914d\u7f6e\u5173\u673a\u8d85\u65f6",id:"\u914d\u7f6e\u5173\u673a\u8d85\u65f6",level:2},{value:"\u865a\u62df\u673a\u8d85\u65f6\u65f6\u95f4",id:"\u865a\u62df\u673a\u8d85\u65f6\u65f6\u95f4",level:2},{value:"VM hibernation setup",id:"vm-hibernation-setup",level:3},{value:"Timeout configuration",id:"timeout-configuration",level:3},{value:"Shutdown sequence",id:"shutdown-sequence",level:3},{value:"Detailed configuration guide",id:"detailed-configuration-guide",level:3}];function _(t){const e={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"\u975e\u6b63\u5e38\u5173\u673a",children:"\u975e\u6b63\u5e38\u5173\u673a"})}),"\n",(0,s.jsxs)(e.p,{children:["\u5f53 Unraid \u68c0\u6d4b\u5230 ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_13_1761322912039","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_0_13_1761322912039",place:"top",effect:"solid",clickable:!0})," \u6ca1\u6709\u5728\u7cfb\u7edf\u65ad\u7535\u524d\u6b63\u786e\u505c\u6b62\u65f6\uff0c\u5c31\u4f1a\u51fa\u73b0\u4e0d\u5e72\u51c0\u5173\u673a\u3002\u8fd9\u79cd\u60c5\u51b5\u53ef\u80fd\u4f1a\u5728\u4e0b\u6b21\u542f\u52a8\u65f6\u89e6\u53d1\u81ea\u52a8 ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-check_3_43_1761322912039","data-tooltip-html":"A background process that verifies data integrity across the array, ensuring parity is up-to-date.","data-tooltip-place":"top",children:"parity check"}),(0,s.jsx)(n.m_,{id:"parity-check_3_43_1761322912039",place:"top",effect:"solid",clickable:!0})," \u4ee5\u786e\u4fdd\u6570\u636e\u5b8c\u6574\u6027\u3002"]}),"\n",(0,s.jsxs)(e.admonition,{title:"Recommendations \u9632\u6b62\u4e0d\u6d01\u7684\u5173\u95ed",type:"important",children:[(0,s.jsx)(e.p,{children:"\u91c7\u53d6\u4e00\u4e9b\u4e3b\u52a8\u7684\u6b65\u9aa4\u53ef\u4ee5\u5e2e\u52a9\u4f60\u907f\u514d\u6216\u8bc6\u522b\u975e\u6b63\u5e38\u5173\u673a\uff1a"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"**\u4f7f\u7528\u4e0d\u95f4\u65ad\u7535\u6e90\uff08UPS\uff09\uff1a**\u786e\u4fdd\u670d\u52a1\u5668\u8fde\u63a5\u5230UPS\u5e76\u8bbe\u7f6e\u5728\u7535\u6c60\u7535\u91cf\u4e0d\u8db3\u65f6\u81ea\u52a8\u5173\u95ed\u3002"}),"\n",(0,s.jsx)(e.li,{children:"**\u5c1d\u8bd5\u4f18\u96c5\u5173\u95ed\uff1a**\u5982\u679c\u60a8\u7684\u670d\u52a1\u5668\u65e0\u54cd\u5e94\uff0c\u77ed\u6309\u7535\u6e90\u6309\u94ae\u4ee5\u89e6\u53d1\u5b89\u5168\u5173\u95ed\u3002\u4e0d\u8981\u957f\u6309\u8be5\u6309\u94ae\uff0c\u56e0\u4e3a\u8fd9\u5c06\u5f3a\u5236\u786c\u5173\u673a\u5e76\u5bfc\u81f4\u4e0d\u6d01\u5173\u673a\u3002"}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Enable persistent logging:"})," Go to ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 Syslog Server"})})," to activate logging that persists after a reboot. See ",(0,s.jsx)(e.a,{href:"/docs/pr-preview/pr-358/zh/unraid-os/troubleshooting/diagnostics/capture-diagnostics-and-logs#persistent-logs-syslog-server",children:"Persistent logs (Syslog server)"})," for more details."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u9644\u52a0\u8bca\u65ad\u4fe1\u606f\u4ee5\u83b7\u5f97\u652f\u6301\uff1a"})," \u5982\u679c\u53d1\u751f\u975e\u6b63\u5e38\u5173\u673a\uff0cUnraid \u5c06\u5c1d\u8bd5\u5c06\u8bca\u65ad\u4fe1\u606f\u4fdd\u5b58\u5230\u60a8\u7684\u95ea\u5b58\u8bbe\u5907\u7684 ",(0,s.jsx)(e.code,{children:"/log/diagnostics.zip"})," \u4e2d\u3002\u5f53\u60a8\u5bfb\u6c42\u5e2e\u52a9\u65f6\uff0c\u8bf7\u5c06\u6b64\u6587\u4ef6\u9644\u52a0\u5230\u8bba\u575b\u5e16\u5b50\u4e2d\u3002"]}),"\n"]})]}),"\n",(0,s.jsxs)(e.admonition,{title:"UPS \u914d\u7f6e\u6700\u4f73\u5b9e\u8df5",type:"tip",children:[(0,s.jsx)(e.p,{children:"\u914d\u7f6e\u826f\u597d\u7684 UPS \u662f\u9632\u6b62\u56e0\u6389\u7535\u5bfc\u81f4\u975e\u6b63\u5e38\u5173\u673a\u7684\u6700\u4f73\u9632\u536b\u3002"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsx)(e.strong,{children:"\u901a\u8fc7 USB \u8fde\u63a5 UPS \u5230 Unraid \u670d\u52a1\u5668\u3002"})}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Enable UPS support"})," in ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 UPS Settings"})}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["**\u914d\u7f6e\u5173\u673a\u8d85\u65f6\u65f6\u95f4\uff1a**\u8bbe\u7f6eUPS\u4ee5\u4fbf\u5728\u7535\u6c60\u7535\u91cf\u4e0d\u8db3\u4e4b\u524d\u89e6\u53d1\u53d7\u63a7\u5173\u673a\u3002\u8c03\u6574\u201c\u5269\u4f59\u7535\u6c60\u8fd0\u884c\u65f6\u95f4\u201d\u6216\u201c\u7535\u6c60\u5145\u7535\u7535\u5e73\u201d\u9608\u503c\uff0c\u4ee5\u63d0\u4f9b\u8db3\u591f\u7684\u65f6\u95f4\u8ba9Unraid ",(0,s.jsxs)(e.a,{href:"/docs/pr-preview/pr-358/zh/unraid-os/using-unraid-to/manage-storage/array-configuration#startstop-the-array",children:["\u505c\u6b62",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_2_1761322912039","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_0_2_1761322912039",place:"top",effect:"solid",clickable:!0})]})," \u5e76\u5b89\u5168\u5173\u673a\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"\u6d4b\u8bd5\u914d\u7f6e\uff1a"})," \u6a21\u62df\u6389\u7535\u4ee5\u786e\u4fdd UPS \u548c Unraid \u7684\u6b63\u786e\u53cd\u5e94\u3002"]}),"\n"]}),(0,s.jsxs)(e.p,{children:["\u4e86\u89e3 ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/plugins/p4?srsltid=AfmBOop675PrJQW4iqb4JBN3GyPpwDDiSmnZReq78t27XyxkFdMX8inO#:~:text=NUT%20%2D%20Network%20UPS%20Tools",children:"NUT \u63d2\u4ef6"}),"\uff0c\u5b83\u53ef\u4ee5\u66f4\u5e7f\u6cdb\u5730\u517c\u5bb9\u66f4\u591a\u9ad8\u7ea7 UPS \u578b\u53f7\u6216\u672a\u652f\u6301\u7684\u786c\u4ef6\u3002"]})]}),"\n",(0,s.jsx)(e.h2,{id:"\u914d\u7f6e\u5173\u673a\u8d85\u65f6",children:"\u914d\u7f6e\u5173\u673a\u8d85\u65f6"}),"\n",(0,s.jsxs)(e.p,{children:["Properly configuring shutdown timeouts is essential to ensure your Unraid server can stop all services effectively, preventing unclean shutdowns, particularly during power loss or maintenance. Each component of your system - ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_225_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_225_1761322912039",place:"top",effect:"solid",clickable:!0}),"s, Docker containers, and the overall ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_3_38_1761322912039","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_3_38_1761322912039",place:"top",effect:"solid",clickable:!0})," - has its own timeout setting that can be adjusted."]}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)(l.A,{value:"\u7535\u6e90",label:"\u201c\u610f\u5916\u7684\u7535\u6e90\u635f\u5931\u201d",default:!0,children:(0,s.jsx)(d,{})}),(0,s.jsx)(l.A,{value:"\u95ea\u5b58",label:"\u201c\u95ea\u5b58\u9a71\u52a8\u5668\u6545\u969c\u201d",children:(0,s.jsx)(u,{})}),(0,s.jsx)(l.A,{value:"\u7ec8\u7aef",label:"\u6253\u5f00\u7ec8\u7aef\u4f1a\u8bdd",children:(0,s.jsx)(m,{})})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"\u865a\u62df\u673a\u8d85\u65f6\u65f6\u95f4",children:"\u865a\u62df\u673a\u8d85\u65f6\u65f6\u95f4"}),"\n",(0,s.jsxs)(e.p,{children:["Properly configuring shutdown timeouts is essential to ensure your Unraid server can stop all services effectively. This prevents unclean shutdowns, especially during power loss or maintenance. The most important step is to configure your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_239_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_239_1761322912039",place:"top",effect:"solid",clickable:!0})," to hibernate instead of shutting down. This approach helps eliminate many timeout-related issues."]}),"\n",(0,s.jsx)(e.h3,{id:"vm-hibernation-setup",children:"VM hibernation setup"}),"\n",(0,s.jsxs)(e.admonition,{title:"Use VM hibernation",type:"tip",children:[(0,s.jsxs)(e.p,{children:["For the most reliable and fastest shutdowns, configure your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_60_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_60_1761322912039",place:"top",effect:"solid",clickable:!0})," to hibernate instead of shutting down. This is especially important for Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_81_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_81_1761322912039",place:"top",effect:"solid",clickable:!0})," but benefits all ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_6_18_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_6_18_1761322912039",place:"top",effect:"solid",clickable:!0})," types."]}),(0,s.jsx)(e.p,{children:"We recommend using hibernation because it:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Saves VM state instantly"})," - No waiting for the guest OS to shut down."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Prevents data loss"})," - No risk of interrupting updates or unsaved work."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Avoids timeout issues"})," - Hibernation is nearly instantaneous."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Faster recovery"})," - ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_3_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_3_1761322912039",place:"top",effect:"solid",clickable:!0})," resume exactly where they left off."]}),"\n"]}),(0,s.jsx)(e.p,{children:"Shutdown can be problematic because:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'Windows may display dialog boxes ("Save this document?") that halt the shutdown indefinitely.'}),"\n",(0,s.jsx)(e.li,{children:"Windows updates can take 10+ minutes during shutdown."}),"\n",(0,s.jsxs)(e.li,{children:["If the timeout expires, Unraid force-kills the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_47_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_47_1761322912039",place:"top",effect:"solid",clickable:!0}),", potentially corrupting in-progress Windows updates, unsaved documents, application data, and file systems in the guest OS."]}),"\n"]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Critical requirement:"})," Ensure the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_1_12_1761322912039","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_1_12_1761322912039",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_4_1_1761322912039","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_4_1_1761322912039",place:"top",effect:"solid",clickable:!0})," is installed in the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_7_21_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_7_21_1761322912039",place:"top",effect:"solid",clickable:!0})," for hibernation to function correctly."]})]}),"\n",(0,s.jsx)(e.p,{children:"To enable VM hibernation:"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)(l.A,{value:"windows",label:"Windows VMs",default:!0,children:(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:["Download ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_9_1761322912039","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_9_1761322912039",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761322912039","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761322912039",place:"top",effect:"solid",clickable:!0}),":"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Go to the ",(0,s.jsx)(e.a,{href:"https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/",children:"VirtIO drivers download page"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Download the latest ",(0,s.jsx)(e.code,{children:"virtio-win.iso"})," file."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:["Install in Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_19_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_19_1761322912039",place:"top",effect:"solid",clickable:!0}),":"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Mount the ",(0,s.jsx)(e.code,{children:"virtio-win.iso"})," to your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_2_9_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_2_9_1761322912039",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsx)(e.li,{children:"Run the installer from the mounted ISO."}),"\n",(0,s.jsxs)(e.li,{children:["Install both ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"virtio_0_13_1761322912039","data-tooltip-html":'A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.<br>See <a href="http://wiki.osdev.org/Virtio">VirtIO - OSDev Wiki</a>',"data-tooltip-place":"top",children:"VirtIO"}),(0,s.jsx)(n.m_,{id:"virtio_0_13_1761322912039",place:"top",effect:"solid",clickable:!0})," drivers AND ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_3_13_1761322912039","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_3_13_1761322912039",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_6_1_1761322912039","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_6_1_1761322912039",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Restart the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_12_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_12_1761322912039",place:"top",effect:"solid",clickable:!0}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Configure in Unraid:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Go to your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_11_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_11_1761322912039",place:"top",effect:"solid",clickable:!0})," settings in the ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"VMs"})})," tab."]}),"\n",(0,s.jsxs)(e.li,{children:["Set ",(0,s.jsx)(e.strong,{children:"Shutdown Action"})," to ",(0,s.jsx)(e.strong,{children:"Hibernate"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["\u70b9\u51fb ",(0,s.jsx)(e.strong,{children:"\u5e94\u7528"}),"\u3002"]}),"\n"]}),"\n"]}),"\n"]})}),(0,s.jsxs)(l.A,{value:"linux",label:"Linux VMs",children:[(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsxs)(e.strong,{children:["Install ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_8_1761322912039","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_8_1761322912039",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761322912039","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761322912039",place:"top",effect:"solid",clickable:!0}),":"]})}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Ubuntu/Debian\nsudo apt install qemu-guest-agent\n\n# CentOS/RHEL/Fedora\nsudo yum install qemu-guest-agent\n# or\nsudo dnf install qemu-guest-agent\n"})}),(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Enable the service:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo systemctl enable qemu-guest-agent\nsudo systemctl start qemu-guest-agent\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Configure in Unraid:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Set ",(0,s.jsx)(e.strong,{children:"Shutdown Action"})," to ",(0,s.jsx)(e.strong,{children:"Hibernate"})," in your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_4_9_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_4_9_1761322912039",place:"top",effect:"solid",clickable:!0})," settings."]}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"appliance",label:"Appliance VMs",children:[(0,s.jsxs)(e.p,{children:["Some ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_5_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_5_1761322912039",place:"top",effect:"solid",clickable:!0}),", like Home Assistant, don't allow the installation of additional software. For these:"]}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Keep ",(0,s.jsx)(e.strong,{children:"Shutdown Action"})," set to ",(0,s.jsx)(e.strong,{children:"Shutdown"}),"."]}),"\n",(0,s.jsx)(e.li,{children:"Use longer timeout values (see timeout recommendations below)."}),"\n",(0,s.jsxs)(e.li,{children:["Consider the risks of force-killing these ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_42_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_42_1761322912039",place:"top",effect:"solid",clickable:!0})," during updates."]}),"\n"]}),(0,s.jsx)(e.admonition,{title:"Why appliance VMs are different",type:"note",children:(0,s.jsxs)(e.p,{children:["Appliance ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_10_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_10_1761322912039",place:"top",effect:"solid",clickable:!0})," are designed to run specific software and often don't allow the installation of additional packages, such as ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_3_110_1761322912039","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_3_110_1761322912039",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_6_1_1761322912039","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_6_1_1761322912039",place:"top",effect:"solid",clickable:!0}),". This means hibernation isn't available, so you'll need to rely on proper timeout configuration."]})})]})]}),"\n",(0,s.jsxs)(e.p,{children:["Now to verify your hibernation works, start your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_49_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_49_1761322912039",place:"top",effect:"solid",clickable:!0})," and open some applications. Then stop it from Unraid. When you start it again, it should resume with all applications still open."]}),"\n",(0,s.jsx)(e.admonition,{title:"Guest Agent is critical",type:"warning",children:(0,s.jsxs)(e.p,{children:["Without the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_12_1761322912039","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_12_1761322912039",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761322912039","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761322912039",place:"top",effect:"solid",clickable:!0})," installed, hibernation may not work properly. In that case, the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_6_65_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_6_65_1761322912039",place:"top",effect:"solid",clickable:!0})," will revert to shutdown mode, consuming the full timeout period."]})}),"\n",(0,s.jsx)(e.h3,{id:"timeout-configuration",children:"Timeout configuration"}),"\n",(0,s.jsxs)(e.p,{children:["In this section, we\u2019ll cover how to configure timeouts for various systems and processes. This information is important to ensure that your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_140_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_140_1761322912039",place:"top",effect:"solid",clickable:!0})," and Docker containers shut down gracefully without data loss."]}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"\u8bbe\u7f6e"}),(0,s.jsx)(e.th,{children:"\u9ed8\u8ba4\u503c"}),(0,s.jsx)(e.th,{children:"When to increase"}),(0,s.jsx)(e.th,{children:"\u914d\u7f6e\u4f4d\u7f6e"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsxs)(e.td,{children:[(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_0_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_0_1761322912039",place:"top",effect:"solid",clickable:!0})," \u5173\u673a\u8d85\u65f6"]}),(0,s.jsx)(e.td,{children:"60\u79d2"}),(0,s.jsx)(e.td,{children:"300s if not using hibernation and VMs crash"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 VM Manager \u2192 VM Shutdown (Advanced)"})})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Docker \u5bb9\u5668\u505c\u6b62\u8d85\u65f6\u65f6\u95f4"}),(0,s.jsx)(e.td,{children:"10\u79d2"}),(0,s.jsx)(e.td,{children:"30s if any containers are crashing when stopped"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 Docker (Advanced)"})})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"\u901a\u7528\u5173\u673a\u8d85\u65f6\u65f6\u95f4"}),(0,s.jsx)(e.td,{children:"90\u79d2"}),(0,s.jsx)(e.td,{children:"180s if you get unclean shutdowns, 300s+ with VMs"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"\u8bbe\u7f6e \u2192 \u78c1\u76d8\u8bbe\u7f6e \u2192 \u5173\u673a\u8d85\u65f6"})})})]})]})]}),"\n",(0,s.jsx)(e.admonition,{title:"When to increase timeouts",type:"tip",children:(0,s.jsxs)(e.p,{children:["If you're experiencing unclean shutdowns or containers that crash during shutdown, consider increasing the general shutdown timeout to ",(0,s.jsx)(e.strong,{children:"180 seconds"})," (or ",(0,s.jsx)(e.strong,{children:"300+ seconds"})," if you have multiple ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_4_22_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_4_22_1761322912039",place:"top",effect:"solid",clickable:!0}),"). This gives services more time to shut down gracefully."]})}),"\n",(0,s.jsx)(e.h3,{id:"shutdown-sequence",children:"Shutdown sequence"}),"\n",(0,s.jsx)(e.p,{children:"When shutting down, the process happens in the following order:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_0_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_0_1761322912039",place:"top",effect:"solid",clickable:!0})," shutdown"]}),": This involves three stages, and each one can take up to the VM timeout:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Stage 1: Resume any paused ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_27_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_27_1761322912039",place:"top",effect:"solid",clickable:!0})]}),"\n",(0,s.jsxs)(e.li,{children:["Stage 2: Hibernate ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_19_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_19_1761322912039",place:"top",effect:"solid",clickable:!0})," that are set up for hibernation"]}),"\n",(0,s.jsxs)(e.li,{children:["Stage 3: Shut down any remaining ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_33_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_33_1761322912039",place:"top",effect:"solid",clickable:!0})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["All ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_4_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_4_1761322912039",place:"top",effect:"solid",clickable:!0})," in each stage are processed at the same time, meaning the total shutdown time can be calculated as: VM timeout \xd7 3."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Docker containers stop"}),": All containers will stop simultaneously (total time = Docker timeout)."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Other services"}),": This includes tasks like LXC containers and third-party plugins, which usually take a few seconds."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Array shutdown"}),": Drives need to be unmounted and data synced; this typically takes 15-30 seconds."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.admonition,{title:"Calculate your general shutdown timeout",type:"tip",children:[(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Formula:"})," Your general shutdown timeout should be greater than:"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"(VM timeout \xd7 3) + (Docker timeout) + (Other services) + 15-30 seconds\n"})}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example:"})," If we follow the formula, it would look like this: ",(0,s.jsx)(e.code,{children:"(300 \xd7 3) + 30 + 10 + 30 = 970 seconds (over 16 minutes)"}),"."]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Recommended:"})," At least ",(0,s.jsx)(e.strong,{children:"180 seconds (3 minutes)"})," at minimum and ",(0,s.jsx)(e.strong,{children:"300+ seconds (5+ minutes)"})," if you have multiple ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_5_22_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_5_22_1761322912039",place:"top",effect:"solid",clickable:!0})," or complex containers."]})]}),"\n",(0,s.jsxs)(e.p,{children:["If all your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_12_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_12_1761322912039",place:"top",effect:"solid",clickable:!0})," are set to hibernate rather than shutting down, then the VM timeout is less critical since hibernation is nearly immediate. You could use a lower VM timeout (for example, 60-120 seconds) as a backup for any ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_208_1761322912039","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_208_1761322912039",place:"top",effect:"solid",clickable:!0})," that don\u2019t support hibernation."]}),"\n",(0,s.jsx)(e.h3,{id:"detailed-configuration-guide",children:"Detailed configuration guide"}),"\n",(0,s.jsx)(e.p,{children:"This section provides in-depth information about configuring timeouts for different system components. Each timeout setting works together to ensure your server shuts down gracefully without data loss."}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsxs)(l.A,{value:"vm-timeouts",label:"VM Timeouts",default:!0,children:[(0,s.jsxs)(e.p,{children:["Where to set: ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 VM Manager \u2192 VM Shutdown"})})," (enable Advanced view)"]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u539f\u7406:"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_0_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_0_1761322912040",place:"top",effect:"solid",clickable:!0})," go through three shutdown stages, each consuming the full VM timeout"]}),"\n",(0,s.jsxs)(e.li,{children:["All ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_4_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_4_1761322912040",place:"top",effect:"solid",clickable:!0})," in each stage are processed simultaneously"]}),"\n",(0,s.jsx)(e.li,{children:"Total VM shutdown time = VM timeout \xd7 3"}),"\n"]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Common issues:"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Windows update interruptions:"})," Updates during shutdown can be corrupted if timeout expires."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Unsaved work:"})," Dialog boxes asking to save documents can halt shutdown indefinitely."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Hibernation failures:"})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_1_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_1_1761322912040",place:"top",effect:"solid",clickable:!0})," without ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_4_9_1761322912040","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_4_9_1761322912040",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_7_1_1761322912040","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_7_1_1761322912040",place:"top",effect:"solid",clickable:!0})," may fail to hibernate and use full timeout."]}),"\n"]}),(0,s.jsx)(e.admonition,{title:"VM timeout recommendations",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Primary recommendation:"})," Configure ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_11_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_11_1761322912040",place:"top",effect:"solid",clickable:!0})," to hibernate instead of shutting down (requires ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_4_49_1761322912040","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_4_49_1761322912040",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_7_1_1761322912040","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_7_1_1761322912040",place:"top",effect:"solid",clickable:!0}),")."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If VMs crash during shutdown:"})," Increase timeout to ",(0,s.jsx)(e.strong,{children:"300 seconds (5 minutes)"})," for Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_13_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_13_1761322912040",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Windows updates:"})," Set Windows to install updates at startup rather than during shutdown."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test your setup:"})," Manually stop your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_20_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_20_1761322912040",place:"top",effect:"solid",clickable:!0})," to confirm they shut down or hibernate within the timeout period."]}),"\n"]})}),(0,s.jsx)(e.admonition,{title:"No safe timeout without hibernation",type:"warning",children:(0,s.jsxs)(e.p,{children:["Without hibernation and ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_24_1761322912040","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_24_1761322912040",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761322912040","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761322912040",place:"top",effect:"solid",clickable:!0}),", there isn't a truly safe timeout for Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_6_47_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_6_47_1761322912040",place:"top",effect:"solid",clickable:!0}),". Dialog boxes or ongoing update installations could render any timeout inadequate, leading to forced shutdowns and data corruption risk."]})})]}),(0,s.jsxs)(l.A,{value:"docker-timeouts",label:"Docker Timeouts",children:[(0,s.jsxs)(e.p,{children:["Where to set: ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 Docker"})})," (enable Advanced view)"]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"\u539f\u7406:"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Containers are stopped in parallel, so total time equals the Docker stop timeout."}),"\n",(0,s.jsx)(e.li,{children:"Most containers stop within 10 seconds, but some may need more time."}),"\n",(0,s.jsx)(e.li,{children:"Complex containers with large databases or ongoing operations might require additional time."}),"\n",(0,s.jsx)(e.li,{children:"\u5982\u679c\u5b9a\u65f6\u5668\u5230\u671f\uff0c\u5bb9\u5668\u5c06\u88ab\u5f3a\u5236\u505c\u6b62\u3002"}),"\n"]}),(0,s.jsx)(e.admonition,{title:"Docker timeout recommendations",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["The ",(0,s.jsx)(e.strong,{children:"default 10 seconds"})," works well for most containers."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If containers are crashing when stopped:"})," Increase timeout to ",(0,s.jsx)(e.strong,{children:"30 seconds"}),"."]}),"\n",(0,s.jsx)(e.li,{children:"Monitor your containers during shutdown to identify any that consistently need more time."}),"\n"]})})]}),(0,s.jsxs)(l.A,{value:"general-timeouts",label:"General Timeouts",children:[(0,s.jsxs)(e.p,{children:["Where to set: ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 Disk Settings \u2192 Shutdown time-out"})})]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"UPS considerations (most critical factor):"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Your UPS must provide enough runtime to complete the full shutdown sequence before battery runs out."}),"\n",(0,s.jsxs)(e.li,{children:["For ",(0,s.jsx)(e.strong,{children:"manual shutdown"}),", you can set longer timeouts since you control when shutdown starts."]}),"\n",(0,s.jsxs)(e.li,{children:["With ",(0,s.jsx)(e.strong,{children:"power outage shutdown"}),", your timeout is limited by UPS battery life."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test your UPS"})," by simulating a power outage to ensure your server shuts down cleanly with time to spare."]}),"\n"]}),(0,s.jsx)(e.admonition,{title:"General timeout recommendations",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If you get unclean shutdowns:"})," Increase to ",(0,s.jsx)(e.strong,{children:"180 seconds (3 minutes)"})," for systems without ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_21_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_21_1761322912040",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:["For systems with ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_17_1761322912040","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_17_1761322912040",place:"top",effect:"solid",clickable:!0}),":"]})," Use ",(0,s.jsx)(e.strong,{children:"300+ seconds (5+ minutes)"})," if not using hibernation."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If using hibernation:"})," ",(0,s.jsx)(e.strong,{children:"180-300 seconds"})," is usually sufficient."]}),"\n",(0,s.jsx)(e.li,{children:"Ensure timeouts are not longer than what your UPS can support during a power outage."}),"\n"]})})]}),(0,s.jsxs)(l.A,{value:"third-party",label:"Third-party Services",children:[(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"LXC containers:"}),"\nThe LXC plugin has its own timeout setting for stopping containers. Like Docker containers, LXC containers typically stop within a few seconds, but some may require more time. Check the LXC plugin settings for the container stop timeout and include this timeout in your general shutdown timeout calculation."]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Other services:"}),"\nSome plugins or custom services may have their own shutdown procedures. Refer to the plugin documentation for specific timeout settings and incorporate them into your calculations."]}),(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Updated formula with third-party services:"})}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"(VM timeout \xd7 3) + (Docker timeout) + (LXC/other timeouts) + 15-30 seconds\n"})}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Dynamix Stop Shell plugin:"}),"\nIf you frequently use SSH or terminal sessions, open sessions can prevent clean shutdowns because Unraid waits for them to close before proceeding."]}),(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository",children:"Dynamix Stop Shell"})," plugin helps by automatically closing lingering bash or SSH sessions when the array is stopped, ensuring a timely shutdown."]}),(0,s.jsxs)(e.p,{children:["You can install it from ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository",children:'Community Applications (search for "Dynamix Stop Shell")'}),"."]}),(0,s.jsx)(e.admonition,{title:"When to use the plugin",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"If you regularly have terminal sessions open."}),"\n",(0,s.jsx)(e.li,{children:"To prevent forgotten SSH sessions from delaying shutdown."}),"\n",(0,s.jsx)(e.li,{children:"For automated cleanup during shutdown."}),"\n"]})}),(0,s.jsx)(e.p,{children:":::\u6ce8\u610f"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Be cautious if you have scripts or processes running in terminal sessions."}),"\n",(0,s.jsx)(e.li,{children:"Ensure no critical write operations are in progress before shutdown."}),"\n",(0,s.jsx)(e.li,{children:"The plugin will forcefully close sessions, which could interrupt work.\n:::"}),"\n"]})]})]})]})}function j(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(_,{...t})}):_(t)}},7227:(t,e,a)=>{a.d(e,{A:()=>n});a(6540);var i=a(4164);const s={tabItem:"tabItem_Ymn6"};var o=a(4848);function n({children:t,hidden:e,className:a}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,a),hidden:e,children:t})}},9489:(t,e,a)=>{a.d(e,{A:()=>b});var i=a(6540),s=a(4164),o=a(4245),n=a(6347),r=a(6494),l=a(2814),c=a(5167),d=a(9900);function h(t){return i.Children.toArray(t).filter((t=>"\n"!==t)).map((t=>{if(!t||(0,i.isValidElement)(t)&&function(t){const{props:e}=t;return!!e&&"object"==typeof e&&"value"in e}(t))return t;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof t.type?t.type:t.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(t){const{values:e,children:a}=t;return(0,i.useMemo)((()=>{const t=e??function(t){return h(t).map((({props:{value:t,label:e,attributes:a,default:i}})=>({value:t,label:e,attributes:a,default:i})))}(a);return function(t){const e=(0,c.XI)(t,((t,e)=>t.value===e.value));if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map((t=>t.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(t),t}),[e,a])}function p({value:t,tabValues:e}){return e.some((e=>e.value===t))}function m({queryString:t=!1,groupId:e}){const a=(0,n.W6)(),s=function({queryString:t=!1,groupId:e}){if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!e)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return e??null}({queryString:t,groupId:e});return[(0,l.aZ)(s),(0,i.useCallback)((t=>{if(!s)return;const e=new URLSearchParams(a.location.search);e.set(s,t),a.replace({...a.location,search:e.toString()})}),[s,a])]}function g(t){const{defaultValue:e,queryString:a=!1,groupId:s}=t,o=u(t),[n,l]=(0,i.useState)((()=>function({defaultValue:t,tabValues:e}){if(0===e.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:e}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${e.map((t=>t.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=e.find((t=>t.default))??e[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:e,tabValues:o}))),[c,h]=m({queryString:a,groupId:s}),[g,f]=function({groupId:t}){const e=function(t){return t?`docusaurus.tab.${t}`:null}(t),[a,s]=(0,d.Dv)(e);return[a,(0,i.useCallback)((t=>{e&&s.set(t)}),[e,s])]}({groupId:s}),w=(()=>{const t=c??g;return p({value:t,tabValues:o})?t:null})();(0,r.A)((()=>{w&&l(w)}),[w]);return{selectedValue:n,selectValue:(0,i.useCallback)((t=>{if(!p({value:t,tabValues:o}))throw new Error(`Can't select invalid tab value=${t}`);l(t),h(t),f(t)}),[h,f,o]),tabValues:o}}var f=a(1062);const w={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=a(4848);function _({className:t,block:e,selectedValue:a,selectValue:i,tabValues:n}){const r=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),c=t=>{const e=t.currentTarget,s=r.indexOf(e),o=n[s].value;o!==a&&(l(e),i(o))},d=t=>{let e=null;switch(t.key){case"Enter":c(t);break;case"ArrowRight":{const a=r.indexOf(t.currentTarget)+1;e=r[a]??r[0];break}case"ArrowLeft":{const a=r.indexOf(t.currentTarget)-1;e=r[a]??r[r.length-1];break}}e?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":e},t),children:n.map((({value:t,label:e,attributes:i})=>(0,x.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:t=>{r.push(t)},onKeyDown:d,onClick:c,...i,className:(0,s.A)("tabs__item",w.tabItem,i?.className,{"tabs__item--active":a===t}),children:e??t},t)))})}function j({lazy:t,children:e,selectedValue:a}){const o=(Array.isArray(e)?e:[e]).filter(Boolean);if(t){const t=o.find((t=>t.props.value===a));return t?(0,i.cloneElement)(t,{className:(0,s.A)("margin-top--md",t.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:o.map(((t,e)=>(0,i.cloneElement)(t,{key:e,hidden:t.props.value!==a})))})}function y(t){const e=g(t);return(0,x.jsxs)("div",{className:(0,s.A)("tabs-container",w.tabList),children:[(0,x.jsx)(_,{...e,...t}),(0,x.jsx)(j,{...e,...t})]})}function b(t){const e=(0,f.A)();return(0,x.jsx)(y,{...t,children:h(t.children)},String(e))}}}]);