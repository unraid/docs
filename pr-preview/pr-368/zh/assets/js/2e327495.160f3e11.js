"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9476],{4642:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>t,frontMatter:()=>d,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"API/cli","title":"CLI\u53c2\u8003","description":"\u6709\u5173\u6240\u6709 Unraid API CLI \u547d\u4ee4\u7684\u5b8c\u6574\u53c2\u8003","source":"@site/i18n/zh/docusaurus-plugin-content-docs/current/API/cli.mdx","sourceDirName":"API","slug":"/API/cli","permalink":"/docs/pr-preview/pr-368/zh/API/cli","draft":false,"unlisted":false,"editUrl":"https://translate.unraid.net/unraid-docs/zh","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"CLI\u53c2\u8003","description":"\u6709\u5173\u6240\u6709 Unraid API CLI \u547d\u4ee4\u7684\u5b8c\u6574\u53c2\u8003","sidebar_position":4},"sidebar":"unraidSidebar","previous":{"title":"OIDC\u63d0\u4f9b\u5546\u8bbe\u7f6e","permalink":"/docs/pr-preview/pr-368/zh/API/oidc-provider-setup"},"next":{"title":"Programmatic API Key Management","permalink":"/docs/pr-preview/pr-368/zh/API/programmatic-api-key-management"}}');var l=s(4848),r=s(8453);const d={title:"CLI\u53c2\u8003",description:"\u6709\u5173\u6240\u6709 Unraid API CLI \u547d\u4ee4\u7684\u5b8c\u6574\u53c2\u8003",sidebar_position:4},a="CLI\u547d\u4ee4",c={},o=[{value:"\ud83d\ude80 \u670d\u52a1\u7ba1\u7406",id:"-\u670d\u52a1\u7ba1\u7406",level:2},{value:"\u5f00\u59cb",id:"\u5f00\u59cb",level:3},{value:"\u505c\u6b62",id:"\u505c\u6b62",level:3},{value:"\u91cd\u542f",id:"\u91cd\u542f",level:3},{value:"\u65e5\u5fd7",id:"\u65e5\u5fd7",level:3},{value:"\u2699\ufe0f \u914d\u7f6e\u547d\u4ee4",id:"\ufe0f-\u914d\u7f6e\u547d\u4ee4",level:2},{value:"\u914d\u7f6e",id:"\u914d\u7f6e",level:3},{value:"\u5207\u6362\u73af\u5883",id:"\u5207\u6362\u73af\u5883",level:3},{value:"\u5f00\u53d1\u8005\u6a21\u5f0f",id:"\u5f00\u53d1\u8005\u6a21\u5f0f",level:3},{value:"API\u5bc6\u94a5\u7ba1\u7406",id:"api\u5bc6\u94a5\u7ba1\u7406",level:2},{value:"API\u5bc6\u94a5\u547d\u4ee4",id:"api\u5bc6\u94a5\u547d\u4ee4",level:3},{value:"SSO (\u5355\u70b9\u767b\u5f55)\u7ba1\u7406",id:"sso-\u5355\u70b9\u767b\u5f55\u7ba1\u7406",level:2},{value:"SSO\u57fa\u7840\u547d\u4ee4",id:"sso\u57fa\u7840\u547d\u4ee4",level:3},{value:"\u6dfb\u52a0SSO\u7528\u6237",id:"\u6dfb\u52a0sso\u7528\u6237",level:4},{value:"\u79fb\u9664SSO\u7528\u6237",id:"\u79fb\u9664sso\u7528\u6237",level:4},{value:"\u5217\u51faSSO\u7528\u6237",id:"\u5217\u51fasso\u7528\u6237",level:4},{value:"\u9a8c\u8bc1SSO\u4ee4\u724c",id:"\u9a8c\u8bc1sso\u4ee4\u724c",level:4},{value:"\u62a5\u544a\u751f\u6210",id:"\u62a5\u544a\u751f\u6210",level:2},{value:"\u751f\u6210\u62a5\u544a",id:"\u751f\u6210\u62a5\u544a",level:3},{value:"\u7b14\u8bb0",id:"\u7b14\u8bb0",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(n.header,{children:(0,l.jsx)(n.h1,{id:"cli\u547d\u4ee4",children:"CLI\u547d\u4ee4"})}),"\n",(0,l.jsx)(n.admonition,{title:"Command \u7ed3\u6784",type:"info",children:(0,l.jsxs)(n.p,{children:["\u6240\u6709\u547d\u4ee4\u9075\u5faa\u6a21\u5f0f\uff1a",(0,l.jsx)(n.code,{children:"unraid-api <command> [options]"})]})}),"\n",(0,l.jsx)(n.h2,{id:"-\u670d\u52a1\u7ba1\u7406",children:"\ud83d\ude80 \u670d\u52a1\u7ba1\u7406"}),"\n",(0,l.jsx)(n.h3,{id:"\u5f00\u59cb",children:"\u5f00\u59cb"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api start [--log-level <level>]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Starts the Unraid API service."}),"\n",(0,l.jsx)(n.p,{children:"\u9009\u9879\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--log-level"}),"\uff1a\u8bbe\u7f6e\u65e5\u5fd7\u8bb0\u5f55\u7ea7\u522b(trace|debug|info|warn|error|fatal)"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u66ff\u4ee3\uff1a\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"LOG_LEVEL"})," \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"LOG_LEVEL=trace unraid-api start\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u505c\u6b62",children:"\u505c\u6b62"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api stop [--delete]\n"})}),"\n",(0,l.jsx)(n.p,{children:"Stops the Unraid API service."}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--delete"}),": \u53ef\u9009\u3002\u5220\u9664PM2\u4e3b\u76ee\u5f55"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u91cd\u542f",children:"\u91cd\u542f"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api restart [--log-level <level>]\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u91cd\u65b0\u542f\u52a8 Unraid API \u670d\u52a1\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9009\u9879\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--log-level"}),"\uff1a\u8bbe\u7f6e\u65e5\u5fd7\u8bb0\u5f55\u7ea7\u522b(trace|debug|info|warn|error|fatal)"]}),"\n"]}),"\n",(0,l.jsxs)(n.p,{children:["\u66ff\u4ee3\uff1a\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,l.jsx)(n.code,{children:"LOG_LEVEL"})," \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u65e5\u5fd7\u7ea7\u522b\uff1a"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"LOG_LEVEL=trace unraid-api restart\n"})}),"\n",(0,l.jsx)(n.h3,{id:"\u65e5\u5fd7",children:"\u65e5\u5fd7"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api logs [-l <lines>]\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u67e5\u770bAPI\u65e5\u5fd7\u3002"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-l, --lines"}),": \u53ef\u9009\u3002\u8981\u5c3e\u90e8\u7684\u884c\u6570\uff08\u9ed8\u8ba4: 100\uff09"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\ufe0f-\u914d\u7f6e\u547d\u4ee4",children:"\u2699\ufe0f \u914d\u7f6e\u547d\u4ee4"}),"\n",(0,l.jsx)(n.h3,{id:"\u914d\u7f6e",children:"\u914d\u7f6e"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api config\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u663e\u793a\u5f53\u524d\u914d\u7f6e\u503c\u3002"}),"\n",(0,l.jsx)(n.h3,{id:"\u5207\u6362\u73af\u5883",children:"\u5207\u6362\u73af\u5883"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api switch-env [-e <environment>]\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5728\u751f\u4ea7\u548c\u6d4b\u8bd5\u73af\u5883\u95f4\u5207\u6362\u3002"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-e, --environment"}),": \u53ef\u9009\u3002\u76ee\u6807\u73af\u5883\uff08\u751f\u4ea7|\u6682\u5b58\uff09"]}),"\n"]}),"\n",(0,l.jsx)(n.h3,{id:"\u5f00\u53d1\u8005\u6a21\u5f0f",children:"\u5f00\u53d1\u8005\u6a21\u5f0f"}),"\n",(0,l.jsx)(n.admonition,{title:"Web GUI\u7ba1\u7406",type:"tip",children:(0,l.jsxs)(n.p,{children:["\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7Web GUI\u7ba1\u7406\u5f00\u53d1\u8005\u9009\u9879\uff0c\u8def\u5f84\u4e3a ",(0,l.jsx)(n.strong,{children:"\u8bbe\u7f6e"})," \u2192 ",(0,l.jsx)(n.strong,{children:"\u7ba1\u7406\u8bbf\u95ee"})," \u2192 ",(0,l.jsx)(n.strong,{children:"\u5f00\u53d1\u8005\u9009\u9879"})]})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api developer                       # Interactive prompt for tools\nunraid-api developer --sandbox true        # Enable GraphQL sandbox\nunraid-api developer --sandbox false       # Disable GraphQL sandbox\nunraid-api developer --enable-modal        # Enable modal testing tool\nunraid-api developer --disable-modal       # Disable modal testing tool\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u914d\u7f6eAPI\u7684\u5f00\u53d1\u4eba\u5458\u529f\u80fd\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"GraphQL\u6c99\u7bb1"}),"\uff1a\u542f\u7528/\u7981\u7528Apollo GraphQL\u6c99\u7bb1\u4f4d\u4e8e ",(0,l.jsx)(n.code,{children:"/graphql"})]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.strong,{children:"\u6a21\u6001\u6d4b\u8bd5\u5de5\u5177"}),"\uff1a\u5728 Unraid \u83dc\u5355\u4e2d\u542f\u7528/\u7981\u7528\u7528\u6237\u754c\u9762\u6a21\u6001\u6d4b\u8bd5"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"api\u5bc6\u94a5\u7ba1\u7406",children:"API\u5bc6\u94a5\u7ba1\u7406"}),"\n",(0,l.jsx)(n.admonition,{title:"Web GUI\u7ba1\u7406",type:"tip",children:(0,l.jsxs)(n.p,{children:["\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7Web GUI\u7ba1\u7406API\u5bc6\u94a5\uff0c\u8def\u5f84\u4e3a ",(0,l.jsx)(n.strong,{children:"\u8bbe\u7f6e"})," \u2192 ",(0,l.jsx)(n.strong,{children:"\u7ba1\u7406\u8bbf\u95ee"})," \u2192 ",(0,l.jsx)(n.strong,{children:"API\u5bc6\u94a5"})]})}),"\n",(0,l.jsx)(n.h3,{id:"api\u5bc6\u94a5\u547d\u4ee4",children:"API\u5bc6\u94a5\u547d\u4ee4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api apikey [options]\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u901a\u8fc7CLI\u521b\u5efa\u548c\u7ba1\u7406API\u5bc6\u94a5\u3002"}),"\n",(0,l.jsx)(n.p,{children:"\u9009\u9879\uff1a"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--name <name>"}),"\uff1a\u5bc6\u94a5\u540d\u79f0"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"--create"}),"\uff1a\u521b\u5efa\u65b0\u5bc6\u94a5"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-r, --roles <roles>"}),"\uff1a\u89d2\u8272\u5217\u8868\uff0c\u9017\u53f7\u5206\u9694"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-p, --permissions <permissions>"}),"\uff1a\u6743\u9650\u5217\u8868\uff0c\u9017\u53f7\u5206\u9694"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-d, --description <description>"}),"\uff1a\u5bc6\u94a5\u63cf\u8ff0"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"sso-\u5355\u70b9\u767b\u5f55\u7ba1\u7406",children:"SSO (\u5355\u70b9\u767b\u5f55)\u7ba1\u7406"}),"\n",(0,l.jsx)(n.p,{children:":::info[OIDC \u914d\u7f6e"}),"\n",(0,l.jsxs)(n.p,{children:["\u6709\u5173OIDC/SSO\u63d0\u4f9b\u5546\u914d\u7f6e\uff0c\u8bf7\u53c2\u9605Web\u754c\u9762\u5728 ",(0,l.jsx)(n.strong,{children:"\u8bbe\u7f6e"})," \u2192 ",(0,l.jsx)(n.strong,{children:"\u7ba1\u7406\u8bbf\u95ee"})," \u2192 ",(0,l.jsx)(n.strong,{children:"API"})," \u2192 ",(0,l.jsx)(n.strong,{children:"OIDC"})," \u6216\u53c2\u8003 ",(0,l.jsx)(n.a,{href:"/docs/pr-preview/pr-368/zh/API/oidc-provider-setup",children:"OIDC\u63d0\u4f9b\u5546\u8bbe\u7f6e"})," \u6307\u5357\u3002"]}),"\n",(0,l.jsx)(n.p,{children:":::"}),"\n",(0,l.jsx)(n.h3,{id:"sso\u57fa\u7840\u547d\u4ee4",children:"SSO\u57fa\u7840\u547d\u4ee4"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api sso\n"})}),"\n",(0,l.jsx)(n.h4,{id:"\u6dfb\u52a0sso\u7528\u6237",children:"\u6dfb\u52a0SSO\u7528\u6237"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api sso add-user\n# or\nunraid-api sso add\n# or\nunraid-api sso a\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4e3aSSO\u8ba4\u8bc1\u6dfb\u52a0\u65b0\u7528\u6237\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"\u79fb\u9664sso\u7528\u6237",children:"\u79fb\u9664SSO\u7528\u6237"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api sso remove-user\n# or\nunraid-api sso remove\n# or\nunraid-api sso r\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u4eceSSO\u4e2d\u79fb\u9664\u7528\u6237\uff08\u6216\u6240\u6709\u7528\u6237\uff09\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"\u5217\u51fasso\u7528\u6237",children:"\u5217\u51faSSO\u7528\u6237"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api sso list-users\n# or\nunraid-api sso list\n# or\nunraid-api sso l\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u5217\u51fa\u6240\u6709\u914d\u7f6e\u7684SSO\u7528\u6237\u3002"}),"\n",(0,l.jsx)(n.h4,{id:"\u9a8c\u8bc1sso\u4ee4\u724c",children:"\u9a8c\u8bc1SSO\u4ee4\u724c"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api sso validate-token <token>\n# or\nunraid-api sso validate\n# or\nunraid-api sso v\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u9a8c\u8bc1SSO\u4ee4\u724c\u5e76\u8fd4\u56de\u5176\u72b6\u6001\u3002"}),"\n",(0,l.jsx)(n.h2,{id:"\u62a5\u544a\u751f\u6210",children:"\u62a5\u544a\u751f\u6210"}),"\n",(0,l.jsx)(n.h3,{id:"\u751f\u6210\u62a5\u544a",children:"\u751f\u6210\u62a5\u544a"}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"unraid-api report [-r] [-j]\n"})}),"\n",(0,l.jsx)(n.p,{children:"\u751f\u6210\u7cfb\u7edf\u62a5\u544a\u3002"}),"\n",(0,l.jsxs)(n.ul,{children:["\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-r, --raw"}),"\uff1a\u663e\u793a\u539f\u59cb\u547d\u4ee4\u8f93\u51fa"]}),"\n",(0,l.jsxs)(n.li,{children:[(0,l.jsx)(n.code,{children:"-j, --json"}),"\uff1a\u4ee5JSON\u683c\u5f0f\u663e\u793a\u8f93\u51fa"]}),"\n"]}),"\n",(0,l.jsx)(n.h2,{id:"\u7b14\u8bb0",children:"\u7b14\u8bb0"}),"\n",(0,l.jsxs)(n.ol,{children:["\n",(0,l.jsx)(n.li,{children:"\u5927\u591a\u6570\u547d\u4ee4\u9700\u8981\u9002\u5f53\u7684\u6743\u9650\u6765\u4fee\u6539\u7cfb\u7edf\u72b6\u6001"}),"\n",(0,l.jsx)(n.li,{children:"\u67d0\u4e9b\u547d\u4ee4\u9700\u8981API\u6b63\u5728\u8fd0\u884c\u6216\u505c\u6b62"}),"\n",(0,l.jsx)(n.li,{children:"\u5b89\u5168\u5b58\u50a8API\u5bc6\u94a5\uff0c\u56e0\u4e3a\u5b83\u4eec\u63d0\u4f9b\u7cfb\u7edf\u8bbf\u95ee"}),"\n",(0,l.jsx)(n.li,{children:"SSO\u914d\u7f6e\u66f4\u6539\u53ef\u80fd\u9700\u8981\u670d\u52a1\u91cd\u542f"}),"\n"]})]})}function t(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(h,{...e})}):h(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var i=s(6540);const l={},r=i.createContext(l);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);