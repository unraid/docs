"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[7330],{4290:(t,e,a)=>{a.r(e),a.d(e,{assets:()=>u,contentTitle:()=>d,default:()=>m,frontMatter:()=>c,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"unraid-os/troubleshooting/common-issues/unclean-shutdowns","title":"Unclean shutdowns","description":"An unclean shutdown happens when Unraid detects that the %%array|array%% was not properly stopped before the system powered off. This situation can trigger an automatic %%parity check|parity-check%% during the next boot to ensure data integrity.","source":"@site/docs/unraid-os/troubleshooting/common-issues/unclean-shutdowns.mdx","sourceDirName":"unraid-os/troubleshooting/common-issues","slug":"/unraid-os/troubleshooting/common-issues/unclean-shutdowns","permalink":"/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns","draft":false,"unlisted":false,"editUrl":"https://github.com/unraid/docs/edit/feat/server-management-docs/docs/unraid-os/troubleshooting/common-issues/unclean-shutdowns.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"sidebar_label":"Unclean shutdowns"},"sidebar":"unraidSidebar","previous":{"title":"Boot & startup failures","permalink":"/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/boot-and-startup-failures"},"next":{"title":"System crashes & stability","permalink":"/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/system-crashes-and-stability"}}');var s=a(4848),o=a(8453),n=a(2503),r=a(9489),l=a(7227);const c={sidebar_position:2,sidebar_label:"Unclean shutdowns"},d="Unclean shutdowns",u={},h=[{value:"Events that cause unclean shutdowns",id:"events-that-cause-unclean-shutdowns",level:2},{value:"Unexpected power loss",id:"unexpected-power-loss",level:3},{value:"Flash drive failure",id:"flash-drive-failure",level:3},{value:"Open terminal sessions",id:"open-terminal-sessions",level:3},{value:"Configuring shutdown timeouts",id:"configuring-shutdown-timeouts",level:2},{value:"VM hibernation setup",id:"vm-hibernation-setup",level:3},{value:"Timeout configuration",id:"timeout-configuration",level:3},{value:"Shutdown sequence",id:"shutdown-sequence",level:3},{value:"Detailed configuration guide",id:"detailed-configuration-guide",level:3},{value:"VM timeouts",id:"vm-timeouts",level:4},{value:"Docker timeouts",id:"docker-timeouts",level:4},{value:"General timeouts",id:"general-timeouts",level:4},{value:"Third-party services",id:"third-party-services",level:4}];function p(t){const e={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"unclean-shutdowns",children:"Unclean shutdowns"})}),"\n",(0,s.jsxs)(e.p,{children:["An unclean shutdown happens when Unraid detects that the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_57_1761995543829","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_0_57_1761995543829",place:"top",effect:"solid",clickable:!0})," was not properly stopped before the system powered off. This situation can trigger an automatic ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"parity-check_3_97_1761995543829","data-tooltip-html":"A background process that verifies data integrity across the array, ensuring parity is up-to-date.","data-tooltip-place":"top",children:"parity check"}),(0,s.jsx)(n.m_,{id:"parity-check_3_97_1761995543829",place:"top",effect:"solid",clickable:!0})," during the next boot to ensure data integrity."]}),"\n",(0,s.jsxs)(e.admonition,{title:"Recommendations to prevent unclean shutdowns",type:"important",children:[(0,s.jsx)(e.p,{children:"Taking some proactive steps can help you avoid or identify unclean shutdowns:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Use a UPS:"})," Keep your server connected to an Uninterruptible Power Supply (UPS) and set it up to initiate a controlled shutdown when battery power runs low."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Attempt a graceful shutdown:"})," If your server is unresponsive, briefly press the power button to trigger a safe shutdown. Do not hold the button down, as this will force a hard power off and lead to an unclean shutdown."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Enable persistent logging:"})," Go to ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 Syslog Server"})})," to activate logging that persists after a reboot. See ",(0,s.jsx)(e.a,{href:"/docs/pr-preview/pr-370/unraid-os/troubleshooting/diagnostics/capture-diagnostics-and-logs#persistent-logs-syslog-server",children:"Persistent logs (Syslog server)"})," for more details."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Attach diagnostics for support:"})," If an unclean shutdown occurs, Unraid will attempt to save diagnostics to ",(0,s.jsx)(e.code,{children:"/log/diagnostics.zip"})," on your flash device. Attach this file to forum posts when you seek help."]}),"\n"]})]}),"\n",(0,s.jsxs)(e.admonition,{title:"UPS configuration best practices",type:"tip",children:[(0,s.jsx)(e.p,{children:"A well-configured UPS is your best defense against unclean shutdowns caused by power loss."}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Connect the UPS via USB"})," to your Unraid server."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Enable UPS support"})," in ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 UPS Settings"})}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Configure shutdown timeouts:"}),' Set the UPS to trigger a controlled shutdown before the battery runs low. Adjust the "Battery runtime left" or "Battery charge level" thresholds to provide enough time for Unraid to ',(0,s.jsxs)(e.a,{href:"/docs/pr-preview/pr-370/unraid-os/using-unraid-to/manage-storage/array/overview#startstop-the-array",children:["stop the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_9_1761995543829","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_0_9_1761995543829",place:"top",effect:"solid",clickable:!0})]})," and power down safely."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test your configuration:"})," Simulate a power loss to ensure the UPS and Unraid respond correctly."]}),"\n"]}),(0,s.jsxs)(e.p,{children:["Look into the ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/plugins/p4?srsltid=AfmBOop675PrJQW4iqb4JBN3GyPpwDDiSmnZReq78t27XyxkFdMX8inO#:~:text=NUT%20%2D%20Network%20UPS%20Tools",children:"NUT plugin"})," for broader compatibility with more advanced UPS models or unsupported hardware."]})]}),"\n",(0,s.jsx)(e.h2,{id:"events-that-cause-unclean-shutdowns",children:"Events that cause unclean shutdowns"}),"\n",(0,s.jsx)(e.p,{children:"Understanding the main triggers for unclean shutdowns helps you prevent them. The following sections cover the most common scenarios and their solutions."}),"\n",(0,s.jsx)(e.h3,{id:"unexpected-power-loss",children:"Unexpected power loss"}),"\n",(0,s.jsx)(e.p,{children:"Power interruptions are one of the main reasons for unclean shutdowns. Protect your system with a properly configured UPS that can automatically shut down Unraid before the battery runs out."}),"\n",(0,s.jsx)(e.admonition,{type:"note",children:(0,s.jsxs)(e.p,{children:["Unraid supports most UPS units using the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"apcupsd_0_41_1761995543829","data-tooltip-html":'Protocol used by Unraid to communicate with UPS devices. Enables graceful shutdowns during power failures.<br>See <a href="http://www.apcupsd.org/">apcupsd - Official Project Documentation</a>',"data-tooltip-place":"top",children:"apcupsd Protocol"}),(0,s.jsx)(n.m_,{id:"apcupsd_0_41_1761995543829",place:"top",effect:"solid",clickable:!0})," protocol (APC and CyberPower are usually compatible). If your UPS isn't supported, consider using the Network UPS Tools (NUT) plugin from Community Applications."]})}),"\n",(0,s.jsx)(e.h3,{id:"flash-drive-failure",children:"Flash drive failure"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_0_4_1761995543829","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_0_4_1761995543829",place:"top",effect:"solid",clickable:!0})," status is stored on your USB flash device. If the flash drive becomes unavailable or enters a read-only state, Unraid cannot update the shutdown status, even if the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_3_166_1761995543829","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_3_166_1761995543829",place:"top",effect:"solid",clickable:!0})," stops correctly. This results in an unclean shutdown being detected at the next boot."]}),"\n",(0,s.jsx)(e.h3,{id:"open-terminal-sessions",children:"Open terminal sessions"}),"\n",(0,s.jsx)(e.p,{children:"Unraid waits for all open terminal or SSH sessions to close during shutdown. If these sessions remain active and the shutdown timer expires, a forced shutdown occurs."}),"\n",(0,s.jsx)(e.admonition,{type:"tip",children:(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository",children:"Dynamix Stop Shell"})," plugin can automatically close lingering bash or SSH sessions, helping ensure a graceful shutdown. However, be cautious if there are ongoing write operations to the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"array_2_166_1761995543829","data-tooltip-html":"The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid's main storage system, storing data across multiple devices.","data-tooltip-place":"top",children:"array"}),(0,s.jsx)(n.m_,{id:"array_2_166_1761995543829",place:"top",effect:"solid",clickable:!0}),"."]})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"configuring-shutdown-timeouts",children:"Configuring shutdown timeouts"}),"\n",(0,s.jsxs)(e.p,{children:["Properly configuring shutdown timeouts is essential to ensure your Unraid server can stop all services effectively. This prevents unclean shutdowns, especially during power loss or maintenance. The most important step is to configure your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_239_1761995543829","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_239_1761995543829",place:"top",effect:"solid",clickable:!0})," to hibernate instead of shutting down. This approach helps eliminate many timeout-related issues."]}),"\n",(0,s.jsx)(e.h3,{id:"vm-hibernation-setup",children:"VM hibernation setup"}),"\n",(0,s.jsxs)(e.admonition,{title:"Use VM hibernation",type:"tip",children:[(0,s.jsxs)(e.p,{children:["For the most reliable and fastest shutdowns, configure your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_60_1761995543830","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_60_1761995543830",place:"top",effect:"solid",clickable:!0})," to hibernate instead of shutting down. This is especially important for Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_81_1761995543830","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_81_1761995543830",place:"top",effect:"solid",clickable:!0})," but benefits all ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_6_18_1761995543830","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_6_18_1761995543830",place:"top",effect:"solid",clickable:!0})," types."]}),(0,s.jsx)(e.p,{children:"We recommend using hibernation because it:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Saves VM state instantly"})," - No waiting for the guest OS to shut down."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Prevents data loss"})," - No risk of interrupting updates or unsaved work."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Avoids timeout issues"})," - Hibernation is nearly instantaneous."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Faster recovery"})," - ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_3_1761995543830","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_3_1761995543830",place:"top",effect:"solid",clickable:!0})," resume exactly where they left off."]}),"\n"]}),(0,s.jsx)(e.p,{children:"Shutdown can be problematic because:"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'Windows may display dialog boxes ("Save this document?") that halt the shutdown indefinitely.'}),"\n",(0,s.jsx)(e.li,{children:"Windows updates can take 10+ minutes during shutdown."}),"\n",(0,s.jsxs)(e.li,{children:["If the timeout expires, Unraid force-kills the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_47_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_47_1761995543831",place:"top",effect:"solid",clickable:!0}),", potentially corrupting in-progress Windows updates, unsaved documents, application data, and file systems in the guest OS."]}),"\n"]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Critical requirement:"})," Ensure the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_1_12_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_1_12_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_4_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_4_1_1761995543831",place:"top",effect:"solid",clickable:!0})," is installed in the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_7_21_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_7_21_1761995543831",place:"top",effect:"solid",clickable:!0})," for hibernation to function correctly."]})]}),"\n",(0,s.jsx)(e.p,{children:"To enable VM hibernation:"}),"\n",(0,s.jsxs)(r.A,{children:[(0,s.jsx)(l.A,{value:"windows",label:"Windows VMs",default:!0,children:(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:["Download ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_9_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_9_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761995543831",place:"top",effect:"solid",clickable:!0}),":"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Go to the ",(0,s.jsx)(e.a,{href:"https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/",children:"VirtIO drivers download page"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Download the latest ",(0,s.jsx)(e.code,{children:"virtio-win.iso"})," file."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsxs)(e.strong,{children:["Install in Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_19_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_19_1761995543831",place:"top",effect:"solid",clickable:!0}),":"]})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Mount the ",(0,s.jsx)(e.code,{children:"virtio-win.iso"})," to your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_2_9_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_2_9_1761995543831",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsx)(e.li,{children:"Run the installer from the mounted ISO."}),"\n",(0,s.jsxs)(e.li,{children:["Install both ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"virtio_0_13_1761995543831","data-tooltip-html":'A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.<br>See <a href="http://wiki.osdev.org/Virtio">VirtIO - OSDev Wiki</a>',"data-tooltip-place":"top",children:"VirtIO"}),(0,s.jsx)(n.m_,{id:"virtio_0_13_1761995543831",place:"top",effect:"solid",clickable:!0})," drivers AND ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_3_13_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_3_13_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_6_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_6_1_1761995543831",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Restart the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_12_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_12_1761995543831",place:"top",effect:"solid",clickable:!0}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Configure in Unraid:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Go to your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_11_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_11_1761995543831",place:"top",effect:"solid",clickable:!0})," settings in the ",(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"VMs"})})," tab."]}),"\n",(0,s.jsxs)(e.li,{children:["Set ",(0,s.jsx)(e.strong,{children:"Shutdown Action"})," to ",(0,s.jsx)(e.strong,{children:"Hibernate"}),"."]}),"\n",(0,s.jsxs)(e.li,{children:["Click ",(0,s.jsx)(e.strong,{children:"Apply"}),"."]}),"\n"]}),"\n"]}),"\n"]})}),(0,s.jsxs)(l.A,{value:"linux",label:"Linux VMs",children:[(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:(0,s.jsxs)(e.strong,{children:["Install ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_8_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_8_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761995543831",place:"top",effect:"solid",clickable:!0}),":"]})}),"\n"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Ubuntu/Debian\nsudo apt install qemu-guest-agent\n\n# CentOS/RHEL/Fedora\nsudo yum install qemu-guest-agent\n# or\nsudo dnf install qemu-guest-agent\n"})}),(0,s.jsxs)(e.ol,{start:"2",children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Enable the service:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"sudo systemctl enable qemu-guest-agent\nsudo systemctl start qemu-guest-agent\n"})}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Configure in Unraid:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Set ",(0,s.jsx)(e.strong,{children:"Shutdown Action"})," to ",(0,s.jsx)(e.strong,{children:"Hibernate"})," in your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_4_9_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_4_9_1761995543831",place:"top",effect:"solid",clickable:!0})," settings."]}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsxs)(l.A,{value:"appliance",label:"Appliance VMs",children:[(0,s.jsxs)(e.p,{children:["Some ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_5_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_5_1761995543831",place:"top",effect:"solid",clickable:!0}),", like Home Assistant, don't allow the installation of additional software. For these:"]}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Keep ",(0,s.jsx)(e.strong,{children:"Shutdown Action"})," set to ",(0,s.jsx)(e.strong,{children:"Shutdown"}),"."]}),"\n",(0,s.jsx)(e.li,{children:"Use longer timeout values (see timeout recommendations below)."}),"\n",(0,s.jsxs)(e.li,{children:["Consider the risks of force-killing these ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_42_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_42_1761995543831",place:"top",effect:"solid",clickable:!0})," during updates."]}),"\n"]}),(0,s.jsx)(e.admonition,{title:"Why appliance VMs are different",type:"note",children:(0,s.jsxs)(e.p,{children:["Appliance ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_10_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_10_1761995543831",place:"top",effect:"solid",clickable:!0})," are designed to run specific software and often don't allow the installation of additional packages, such as ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_3_110_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_3_110_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_6_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_6_1_1761995543831",place:"top",effect:"solid",clickable:!0}),". This means hibernation isn't available, so you'll need to rely on proper timeout configuration."]})})]})]}),"\n",(0,s.jsxs)(e.p,{children:["Now to verify your hibernation works, start your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_49_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_49_1761995543831",place:"top",effect:"solid",clickable:!0})," and open some applications. Then stop it from Unraid. When you start it again, it should resume with all applications still open."]}),"\n",(0,s.jsx)(e.admonition,{title:"Guest Agent is critical",type:"warning",children:(0,s.jsxs)(e.p,{children:["Without the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_12_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_12_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761995543831",place:"top",effect:"solid",clickable:!0})," installed, hibernation may not work properly. In that case, the ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_6_65_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_6_65_1761995543831",place:"top",effect:"solid",clickable:!0})," will revert to shutdown mode, consuming the full timeout period."]})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"timeout-configuration",children:"Timeout configuration"}),"\n",(0,s.jsxs)(e.p,{children:["In this section, we\u2019ll cover how to configure timeouts for various systems and processes. This information is important to ensure that your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_140_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_140_1761995543831",place:"top",effect:"solid",clickable:!0})," and Docker containers shut down gracefully without data loss."]}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Setting"}),(0,s.jsx)(e.th,{children:"Default"}),(0,s.jsx)(e.th,{children:"When to increase"}),(0,s.jsx)(e.th,{children:"Where to configure"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsxs)(e.td,{children:[(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_0_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_0_1761995543831",place:"top",effect:"solid",clickable:!0})," shutdown timeout"]}),(0,s.jsx)(e.td,{children:"60s"}),(0,s.jsx)(e.td,{children:"300s if not using hibernation and VMs crash"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 VM Manager \u2192 VM Shutdown (Advanced)"})})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"Docker container stop timeout"}),(0,s.jsx)(e.td,{children:"10s"}),(0,s.jsx)(e.td,{children:"30s if any containers are crashing when stopped"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 Docker (Advanced)"})})})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:"General shutdown timeout"}),(0,s.jsx)(e.td,{children:"90s"}),(0,s.jsx)(e.td,{children:"180s if you get unclean shutdowns, 300s+ with VMs"}),(0,s.jsx)(e.td,{children:(0,s.jsx)(e.em,{children:(0,s.jsx)(e.strong,{children:"Settings \u2192 Disk Settings \u2192 Shutdown time-out"})})})]})]})]}),"\n",(0,s.jsx)(e.admonition,{title:"When to increase timeouts",type:"tip",children:(0,s.jsxs)(e.p,{children:["If you're experiencing unclean shutdowns or containers that crash during shutdown, consider increasing the general shutdown timeout to ",(0,s.jsx)(e.strong,{children:"180 seconds"})," (or ",(0,s.jsx)(e.strong,{children:"300+ seconds"})," if you have multiple ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_4_22_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_4_22_1761995543831",place:"top",effect:"solid",clickable:!0}),"). This gives services more time to shut down gracefully."]})}),"\n",(0,s.jsx)(e.h3,{id:"shutdown-sequence",children:"Shutdown sequence"}),"\n",(0,s.jsx)(e.p,{children:"When shutting down, the process happens in the following order:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsxs)(e.strong,{children:[(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_0_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VM"}),(0,s.jsx)(n.m_,{id:"vm_0_0_1761995543831",place:"top",effect:"solid",clickable:!0})," shutdown"]}),": This involves three stages, and each one can take up to the VM timeout:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Stage 1: Resume any paused ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_27_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_27_1761995543831",place:"top",effect:"solid",clickable:!0})]}),"\n",(0,s.jsxs)(e.li,{children:["Stage 2: Hibernate ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_19_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_19_1761995543831",place:"top",effect:"solid",clickable:!0})," that are set up for hibernation"]}),"\n",(0,s.jsxs)(e.li,{children:["Stage 3: Shut down any remaining ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_33_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_33_1761995543831",place:"top",effect:"solid",clickable:!0})]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:["All ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_4_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_4_1761995543831",place:"top",effect:"solid",clickable:!0})," in each stage are processed at the same time, meaning the total shutdown time can be calculated as: VM timeout \xd7 3."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Docker containers stop simultaneously (total time = Docker timeout)."}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Other services include tasks like LXC containers and third-party plugins, which usually take a few seconds."}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsx)(e.p,{children:"Array shutdown: drives need to be unmounted and data synced; this typically takes 15-30 seconds."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.admonition,{title:"Calculate your general shutdown timeout",type:"tip",children:[(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Formula:"})," Your general shutdown timeout should be greater than:"]}),(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"(VM timeout \xd7 3) + (Docker timeout) + (Other services) + 15-30 seconds\n"})}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example:"})," If we follow the formula, it would look like this: ",(0,s.jsx)(e.code,{children:"(300 \xd7 3) + 30 + 10 + 30 = 970 seconds (over 16 minutes)"}),"."]}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Recommended:"})," At least ",(0,s.jsx)(e.strong,{children:"180 seconds (3 minutes)"})," at minimum and ",(0,s.jsx)(e.strong,{children:"300+ seconds (5+ minutes)"})," if you have multiple ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_5_22_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_5_22_1761995543831",place:"top",effect:"solid",clickable:!0})," or complex containers."]})]}),"\n",(0,s.jsxs)(e.p,{children:["If all your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_12_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_12_1761995543831",place:"top",effect:"solid",clickable:!0})," are set to hibernate rather than shutting down, then the VM timeout is less critical since hibernation is nearly immediate. You could use a lower VM timeout (for example, 60-120 seconds) as a backup for any ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_208_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_208_1761995543831",place:"top",effect:"solid",clickable:!0})," that don't support hibernation."]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"detailed-configuration-guide",children:"Detailed configuration guide"}),"\n",(0,s.jsx)(e.p,{children:"This section provides in-depth information about configuring timeouts for different system components. Each timeout setting works together to ensure your server shuts down gracefully without data loss."}),"\n",(0,s.jsx)(e.h4,{id:"vm-timeouts",children:"VM timeouts"}),"\n",(0,s.jsxs)(e.p,{children:["Configure VM shutdown timeouts in ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.em,{children:"Settings \u2192 VM Manager \u2192 VM Shutdown"})})," (enable Advanced view)."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"How it works:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_0_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_0_1761995543831",place:"top",effect:"solid",clickable:!0})," go through three shutdown stages, each consuming the full VM timeout"]}),"\n",(0,s.jsxs)(e.li,{children:["All ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_4_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_4_1761995543831",place:"top",effect:"solid",clickable:!0})," in each stage are processed simultaneously"]}),"\n",(0,s.jsx)(e.li,{children:"Total VM shutdown time = VM timeout \xd7 3"}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Common issues:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Windows update interruptions:"})," Updates during shutdown can be corrupted if timeout expires."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Unsaved work:"})," Dialog boxes asking to save documents can halt shutdown indefinitely."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Hibernation failures:"})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_1_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_1_1761995543831",place:"top",effect:"solid",clickable:!0})," without ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_4_9_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_4_9_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_7_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_7_1_1761995543831",place:"top",effect:"solid",clickable:!0})," may fail to hibernate and use full timeout."]}),"\n"]}),"\n",(0,s.jsx)(e.admonition,{title:"VM timeout recommendations",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Primary recommendation:"})," Configure ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_11_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_11_1761995543831",place:"top",effect:"solid",clickable:!0})," to hibernate instead of shutting down (requires ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_4_49_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_4_49_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_7_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_7_1_1761995543831",place:"top",effect:"solid",clickable:!0}),")."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If VMs crash during shutdown:"})," Increase timeout to ",(0,s.jsx)(e.strong,{children:"300 seconds (5 minutes)"})," for Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_13_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_13_1761995543831",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Windows updates:"})," Set Windows to install updates at startup rather than during shutdown."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test your setup:"})," Manually stop your ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_1_20_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_1_20_1761995543831",place:"top",effect:"solid",clickable:!0})," to confirm they shut down or hibernate within the timeout period."]}),"\n"]})}),"\n",(0,s.jsx)(e.admonition,{title:"No safe timeout without hibernation",type:"warning",children:(0,s.jsxs)(e.p,{children:["Without hibernation and ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"qemu_0_24_1761995543831","data-tooltip-html":'A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.<br>See <a href="https://en.wikipedia.org/wiki/QEMU">QEMU - Wikipedia</a>',"data-tooltip-place":"top",children:"QEMU"}),(0,s.jsx)(n.m_,{id:"qemu_0_24_1761995543831",place:"top",effect:"solid",clickable:!0})," ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"guest-agent_3_1_1761995543831","data-tooltip-html":'A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.<br>See <a href="https://wiki.libvirt.org/Qemu_guest_agent.html">QEMU Guest Agent | Libvirt</a>',"data-tooltip-place":"top",children:"Guest Agent"}),(0,s.jsx)(n.m_,{id:"guest-agent_3_1_1761995543831",place:"top",effect:"solid",clickable:!0}),", there isn't a truly safe timeout for Windows ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_6_47_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_6_47_1761995543831",place:"top",effect:"solid",clickable:!0}),". Dialog boxes or ongoing update installations could render any timeout inadequate, leading to forced shutdowns and data corruption risk."]})}),"\n",(0,s.jsx)(e.h4,{id:"docker-timeouts",children:"Docker timeouts"}),"\n",(0,s.jsxs)(e.p,{children:["Configure Docker container stop timeouts in ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.em,{children:"Settings \u2192 Docker"})})," (enable Advanced view)."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"How it works:"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Containers are stopped in parallel, so total time equals the Docker stop timeout."}),"\n",(0,s.jsx)(e.li,{children:"Most containers stop within 10 seconds, but some may need more time."}),"\n",(0,s.jsx)(e.li,{children:"Complex containers with large databases or ongoing operations might require additional time."}),"\n",(0,s.jsx)(e.li,{children:"If the timer expires, containers are force-stopped."}),"\n"]}),"\n",(0,s.jsx)(e.admonition,{title:"Docker timeout recommendations",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["The ",(0,s.jsx)(e.strong,{children:"default 10 seconds"})," works well for most containers."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If containers are crashing when stopped:"})," Increase timeout to ",(0,s.jsx)(e.strong,{children:"30 seconds"}),"."]}),"\n",(0,s.jsx)(e.li,{children:"Monitor your containers during shutdown to identify any that consistently need more time."}),"\n"]})}),"\n",(0,s.jsx)(e.h4,{id:"general-timeouts",children:"General timeouts"}),"\n",(0,s.jsxs)(e.p,{children:["Configure the general shutdown timeout in ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.em,{children:"Settings \u2192 Disk Settings \u2192 Shutdown time-out"})}),"."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"UPS considerations (most critical factor):"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Your UPS must provide enough runtime to complete the full shutdown sequence before battery runs out."}),"\n",(0,s.jsxs)(e.li,{children:["For ",(0,s.jsx)(e.strong,{children:"manual shutdown"}),", you can set longer timeouts since you control when shutdown starts."]}),"\n",(0,s.jsxs)(e.li,{children:["With ",(0,s.jsx)(e.strong,{children:"power outage shutdown"}),", your timeout is limited by UPS battery life."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Test your UPS"})," by simulating a power outage to ensure your server shuts down cleanly with time to spare."]}),"\n"]}),"\n",(0,s.jsx)(e.admonition,{title:"General timeout recommendations",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If you get unclean shutdowns:"})," Increase to ",(0,s.jsx)(e.strong,{children:"180 seconds (3 minutes)"})," for systems without ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_3_21_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_3_21_1761995543831",place:"top",effect:"solid",clickable:!0}),"."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsxs)(e.strong,{children:["For systems with ",(0,s.jsx)(e.a,{className:"remark-auto-glossary-tooltip-trigger","data-tooltip-id":"vm_0_17_1761995543831","data-tooltip-html":'\u201cVirtual Machine,\u201d a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.<br>See <a href="https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine">Virtual Machine - Red Hat Documentation</a>',"data-tooltip-place":"top",children:"VMs"}),(0,s.jsx)(n.m_,{id:"vm_0_17_1761995543831",place:"top",effect:"solid",clickable:!0}),":"]})," Use ",(0,s.jsx)(e.strong,{children:"300+ seconds (5+ minutes)"})," if not using hibernation."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"If using hibernation:"})," ",(0,s.jsx)(e.strong,{children:"180-300 seconds"})," is usually sufficient."]}),"\n",(0,s.jsx)(e.li,{children:"Ensure timeouts are not longer than what your UPS can support during a power outage."}),"\n"]})}),"\n",(0,s.jsx)(e.h4,{id:"third-party-services",children:"Third-party services"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"LXC containers:"}),"\nThe LXC plugin has its own timeout setting for stopping containers. Like Docker containers, LXC containers typically stop within a few seconds, but some may require more time. Check the LXC plugin settings for the container stop timeout and include this timeout in your general shutdown timeout calculation."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Other services:"}),"\nSome plugins or custom services may have their own shutdown procedures. Refer to the plugin documentation for specific timeout settings and incorporate them into your calculations."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Updated formula with third-party services:"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"(VM timeout \xd7 3) + (Docker timeout) + (LXC/other timeouts) + 15-30 seconds\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Dynamix Stop Shell plugin:"}),"\nIf you frequently use SSH or terminal sessions, open sessions can prevent clean shutdowns because Unraid waits for them to close before proceeding."]}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository",children:"Dynamix Stop Shell"})," plugin helps by automatically closing lingering bash or SSH sessions when the array is stopped, ensuring a timely shutdown."]}),"\n",(0,s.jsxs)(e.p,{children:["You can install it from ",(0,s.jsx)(e.a,{href:"https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository",children:'Community Applications (search for "Dynamix Stop Shell")'}),"."]}),"\n",(0,s.jsx)(e.admonition,{title:"When to use the plugin",type:"tip",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"If you regularly have terminal sessions open."}),"\n",(0,s.jsx)(e.li,{children:"To prevent forgotten SSH sessions from delaying shutdown."}),"\n",(0,s.jsx)(e.li,{children:"For automated cleanup during shutdown."}),"\n"]})}),"\n",(0,s.jsx)(e.admonition,{type:"caution",children:(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Be cautious if you have scripts or processes running in terminal sessions."}),"\n",(0,s.jsx)(e.li,{children:"Ensure no critical write operations are in progress before shutdown."}),"\n",(0,s.jsx)(e.li,{children:"The plugin will forcefully close sessions, which could interrupt work."}),"\n"]})})]})}function m(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,s.jsx)(e,{...t,children:(0,s.jsx)(p,{...t})}):p(t)}},7227:(t,e,a)=>{a.d(e,{A:()=>n});a(6540);var i=a(4164);const s={tabItem:"tabItem_Ymn6"};var o=a(4848);function n({children:t,hidden:e,className:a}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,a),hidden:e,children:t})}},9489:(t,e,a)=>{a.d(e,{A:()=>v});var i=a(6540),s=a(4164),o=a(4245),n=a(6347),r=a(6494),l=a(2814),c=a(5167),d=a(9900);function u(t){return i.Children.toArray(t).filter((t=>"\n"!==t)).map((t=>{if(!t||(0,i.isValidElement)(t)&&function(t){const{props:e}=t;return!!e&&"object"==typeof e&&"value"in e}(t))return t;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof t.type?t.type:t.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(t){const{values:e,children:a}=t;return(0,i.useMemo)((()=>{const t=e??function(t){return u(t).map((({props:{value:t,label:e,attributes:a,default:i}})=>({value:t,label:e,attributes:a,default:i})))}(a);return function(t){const e=(0,c.XI)(t,((t,e)=>t.value===e.value));if(e.length>0)throw new Error(`Docusaurus error: Duplicate values "${e.map((t=>t.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(t),t}),[e,a])}function p({value:t,tabValues:e}){return e.some((e=>e.value===t))}function m({queryString:t=!1,groupId:e}){const a=(0,n.W6)(),s=function({queryString:t=!1,groupId:e}){if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!e)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return e??null}({queryString:t,groupId:e});return[(0,l.aZ)(s),(0,i.useCallback)((t=>{if(!s)return;const e=new URLSearchParams(a.location.search);e.set(s,t),a.replace({...a.location,search:e.toString()})}),[s,a])]}function g(t){const{defaultValue:e,queryString:a=!1,groupId:s}=t,o=h(t),[n,l]=(0,i.useState)((()=>function({defaultValue:t,tabValues:e}){if(0===e.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!p({value:t,tabValues:e}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${e.map((t=>t.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const a=e.find((t=>t.default))??e[0];if(!a)throw new Error("Unexpected error: 0 tabValues");return a.value}({defaultValue:e,tabValues:o}))),[c,u]=m({queryString:a,groupId:s}),[g,f]=function({groupId:t}){const e=function(t){return t?`docusaurus.tab.${t}`:null}(t),[a,s]=(0,d.Dv)(e);return[a,(0,i.useCallback)((t=>{e&&s.set(t)}),[e,s])]}({groupId:s}),w=(()=>{const t=c??g;return p({value:t,tabValues:o})?t:null})();(0,r.A)((()=>{w&&l(w)}),[w]);return{selectedValue:n,selectValue:(0,i.useCallback)((t=>{if(!p({value:t,tabValues:o}))throw new Error(`Can't select invalid tab value=${t}`);l(t),u(t),f(t)}),[u,f,o]),tabValues:o}}var f=a(1062);const w={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var x=a(4848);function _({className:t,block:e,selectedValue:a,selectValue:i,tabValues:n}){const r=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),c=t=>{const e=t.currentTarget,s=r.indexOf(e),o=n[s].value;o!==a&&(l(e),i(o))},d=t=>{let e=null;switch(t.key){case"Enter":c(t);break;case"ArrowRight":{const a=r.indexOf(t.currentTarget)+1;e=r[a]??r[0];break}case"ArrowLeft":{const a=r.indexOf(t.currentTarget)-1;e=r[a]??r[r.length-1];break}}e?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":e},t),children:n.map((({value:t,label:e,attributes:i})=>(0,x.jsx)("li",{role:"tab",tabIndex:a===t?0:-1,"aria-selected":a===t,ref:t=>{r.push(t)},onKeyDown:d,onClick:c,...i,className:(0,s.A)("tabs__item",w.tabItem,i?.className,{"tabs__item--active":a===t}),children:e??t},t)))})}function j({lazy:t,children:e,selectedValue:a}){const o=(Array.isArray(e)?e:[e]).filter(Boolean);if(t){const t=o.find((t=>t.props.value===a));return t?(0,i.cloneElement)(t,{className:(0,s.A)("margin-top--md",t.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:o.map(((t,e)=>(0,i.cloneElement)(t,{key:e,hidden:t.props.value!==a})))})}function y(t){const e=g(t);return(0,x.jsxs)("div",{className:(0,s.A)("tabs-container",w.tabList),children:[(0,x.jsx)(_,{...e,...t}),(0,x.jsx)(j,{...e,...t})]})}function v(t){const e=(0,f.A)();return(0,x.jsx)(y,{...t,children:u(t.children)},String(e))}}}]);