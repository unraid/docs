<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-unraid-os/troubleshooting/common-issues/unclean-shutdowns" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Unclean shutdowns | Unraid Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.unraid.net/docs/pr-preview/pr-370/img/meta-unraid.png"><meta data-rh="true" name="twitter:image" content="https://docs.unraid.net/docs/pr-preview/pr-370/img/meta-unraid.png"><meta data-rh="true" property="og:url" content="https://docs.unraid.net/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="zh"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="theme-color" content="#242526" media="(prefers-color-scheme: dark)"><meta data-rh="true" name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta data-rh="true" name="color-scheme" content="dark light"><meta data-rh="true" name="keywords" content="Unraid, server, storage, NAS, Docker, virtualization, array, parity, data protection, file sharing, plugins, management, GUI, disk management, caching, SSD, disk encryption, security, RAID, network configuration, backups, media server, transcoding, monitoring, VMs, GPU passthrough, hardware compatibility"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Unclean shutdowns | Unraid Docs"><meta data-rh="true" name="description" content="An unclean shutdown happens when Unraid detects that the %%array|array%% was not properly stopped before the system powered off. This situation can trigger an automatic %%parity check|parity-check%% during the next boot to ensure data integrity."><meta data-rh="true" property="og:description" content="An unclean shutdown happens when Unraid detects that the %%array|array%% was not properly stopped before the system powered off. This situation can trigger an automatic %%parity check|parity-check%% during the next boot to ensure data integrity."><link data-rh="true" rel="icon" href="/docs/pr-preview/pr-370/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.unraid.net/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns/"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-370/es/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" hreflang="es"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-370/fr/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-370/de/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" hreflang="de"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-370/zh/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JUYLFQHE7W-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unraid OS","item":"https://docs.unraid.net/docs/pr-preview/pr-370/category/unraid-os"},{"@type":"ListItem","position":2,"name":"Troubleshooting","item":"https://docs.unraid.net/docs/pr-preview/pr-370/unraid-os/troubleshooting/"},{"@type":"ListItem","position":3,"name":"Common issues","item":"https://docs.unraid.net/docs/pr-preview/pr-370/category/common-issues"},{"@type":"ListItem","position":4,"name":"Unclean shutdowns","item":"https://docs.unraid.net/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CZENQ1ZPEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CZENQ1ZPEH",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Unraid Docs" href="/docs/pr-preview/pr-370/opensearch.xml">



<script src="/js/redirects.js"></script><link rel="stylesheet" href="/docs/pr-preview/pr-370/assets/css/styles.560c0879.css">
<script src="/docs/pr-preview/pr-370/assets/js/runtime~main.2c1c3e1e.js" defer="defer"></script>
<script src="/docs/pr-preview/pr-370/assets/js/main.ed2c06a7.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pr-preview/pr-370/"><div class="navbar__logo"><img src="/docs/pr-preview/pr-370/img/un-mark-gradient.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE" style="width:30px"><img src="/docs/pr-preview/pr-370/img/un-mark-gradient.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU" style="width:30px"></div><b class="navbar__title text--truncate">Unraid Docs</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">More</a><ul class="dropdown__menu"><li><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Unraid Home<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Forums<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">Docs Github<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>English</a><ul class="dropdown__menu"><li><a href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="en">English</a></li><li><a href="/docs/pr-preview/pr-370/es/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Espa√±ol</a></li><li><a href="/docs/pr-preview/pr-370/fr/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Fran√ßais</a></li><li><a href="/docs/pr-preview/pr-370/de/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/docs/pr-preview/pr-370/zh/unraid-os/troubleshooting/common-issues/unclean-shutdowns/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh">‰∏≠Êñá</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-370/">Unraid Docs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/pr-preview/pr-370/category/unraid-os/">Unraid OS</a><button aria-label="Collapse sidebar category &#x27;Unraid OS&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-370/category/getting-started-with-unraid/">Getting started with Unraid</a><button aria-label="Expand sidebar category &#x27;Getting started with Unraid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-370/category/using-unraid-to/">Using Unraid to</a><button aria-label="Expand sidebar category &#x27;Using Unraid to&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-370/category/system-administration/">System administration</a><button aria-label="Expand sidebar category &#x27;System administration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-370/category/advanced-configurations/">Advanced configurations</a><button aria-label="Expand sidebar category &#x27;Advanced configurations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/">Troubleshooting</a><button aria-label="Collapse sidebar category &#x27;Troubleshooting&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-370/category/common-issues/">Common issues</a><button aria-label="Collapse sidebar category &#x27;Common issues&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/boot-and-startup-failures/">Boot &amp; startup failures</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/unclean-shutdowns/">Unclean shutdowns</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/system-crashes-and-stability/">System crashes &amp; stability</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/data-recovery/">Data recovery</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/docker-troubleshooting/">Docker troubleshooting</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-370/category/diagnostics/">Diagnostics</a><button aria-label="Expand sidebar category &#x27;Diagnostics&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/faq/">FAQ</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/licensing-faq/">Licensing FAQ</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-370/category/release-notes/">Release notes</a><button aria-label="Expand sidebar category &#x27;Release notes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-370/unraid-os/download_list/">Version history</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-370/category/unraid-connect/">Unraid Connect</a><button aria-label="Expand sidebar category &#x27;Unraid Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-370/API/">Unraid API</a><button aria-label="Expand sidebar category &#x27;Unraid API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-370/category/contribute/">Contribute</a><button aria-label="Expand sidebar category &#x27;Contribute&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-370/glossary/">Glossary</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/pr-preview/pr-370/account/server-management/">account</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/pr-preview/pr-370/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-370/category/unraid-os/"><span>Unraid OS</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/"><span>Troubleshooting</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-370/category/common-issues/"><span>Common issues</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Unclean shutdowns</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Unclean shutdowns</h1></header>
<p>An unclean shutdown happens when Unraid detects that the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_57_1761995547814" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> was not properly stopped before the system powered off. This situation can trigger an automatic <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity-check_3_97_1761995547814" data-tooltip-html="A background process that verifies data integrity across the array, ensuring parity is up-to-date." data-tooltip-place="top">parity check</a> during the next boot to ensure data integrity.</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Recommendations to prevent unclean shutdowns</div><div class="admonitionContent_BuS1"><p>Taking some proactive steps can help you avoid or identify unclean shutdowns:</p><ul>
<li><strong>Use a UPS:</strong> Keep your server connected to an Uninterruptible Power Supply (UPS) and set it up to initiate a controlled shutdown when battery power runs low.</li>
<li><strong>Attempt a graceful shutdown:</strong> If your server is unresponsive, briefly press the power button to trigger a safe shutdown. Do not hold the button down, as this will force a hard power off and lead to an unclean shutdown.</li>
<li><strong>Enable persistent logging:</strong> Go to <em><strong>Settings ‚Üí Syslog Server</strong></em> to activate logging that persists after a reboot. See <a href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/diagnostics/capture-diagnostics-and-logs/#persistent-logs-syslog-server">Persistent logs (Syslog server)</a> for more details.</li>
<li><strong>Attach diagnostics for support:</strong> If an unclean shutdown occurs, Unraid will attempt to save diagnostics to <code>/log/diagnostics.zip</code> on your flash device. Attach this file to forum posts when you seek help.</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>UPS configuration best practices</div><div class="admonitionContent_BuS1"><p>A well-configured UPS is your best defense against unclean shutdowns caused by power loss.</p><ul>
<li><strong>Connect the UPS via USB</strong> to your Unraid server.</li>
<li><strong>Enable UPS support</strong> in <em><strong>Settings ‚Üí UPS Settings</strong></em>.</li>
<li><strong>Configure shutdown timeouts:</strong> Set the UPS to trigger a controlled shutdown before the battery runs low. Adjust the &quot;Battery runtime left&quot; or &quot;Battery charge level&quot; thresholds to provide enough time for Unraid to <a href="/docs/pr-preview/pr-370/unraid-os/using-unraid-to/manage-storage/array/overview/#startstop-the-array">stop the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_9_1761995547814" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a></a> and power down safely.</li>
<li><strong>Test your configuration:</strong> Simulate a power loss to ensure the UPS and Unraid respond correctly.</li>
</ul><p>Look into the <a href="https://unraid.net/community/apps/c/plugins/p4?srsltid=AfmBOop675PrJQW4iqb4JBN3GyPpwDDiSmnZReq78t27XyxkFdMX8inO#:~:text=NUT%20%2D%20Network%20UPS%20Tools" target="_blank" rel="noopener noreferrer">NUT plugin</a> for broader compatibility with more advanced UPS models or unsupported hardware.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events-that-cause-unclean-shutdowns">Events that cause unclean shutdowns<a href="#events-that-cause-unclean-shutdowns" class="hash-link" aria-label="Direct link to Events that cause unclean shutdowns" title="Direct link to Events that cause unclean shutdowns">‚Äã</a></h2>
<p>Understanding the main triggers for unclean shutdowns helps you prevent them. The following sections cover the most common scenarios and their solutions.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="unexpected-power-loss">Unexpected power loss<a href="#unexpected-power-loss" class="hash-link" aria-label="Direct link to Unexpected power loss" title="Direct link to Unexpected power loss">‚Äã</a></h3>
<p>Power interruptions are one of the main reasons for unclean shutdowns. Protect your system with a properly configured UPS that can automatically shut down Unraid before the battery runs out.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Unraid supports most UPS units using the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="apcupsd_0_41_1761995547814" data-tooltip-html="Protocol used by Unraid to communicate with UPS devices. Enables graceful shutdowns during power failures.&lt;br&gt;See &lt;a href=&quot;http://www.apcupsd.org/&quot;&gt;apcupsd - Official Project Documentation&lt;/a&gt;" data-tooltip-place="top">apcupsd Protocol</a> protocol (APC and CyberPower are usually compatible). If your UPS isn&#x27;t supported, consider using the Network UPS Tools (NUT) plugin from Community Applications.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="flash-drive-failure">Flash drive failure<a href="#flash-drive-failure" class="hash-link" aria-label="Direct link to Flash drive failure" title="Direct link to Flash drive failure">‚Äã</a></h3>
<p>The <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_4_1761995547814" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> status is stored on your USB flash device. If the flash drive becomes unavailable or enters a read-only state, Unraid cannot update the shutdown status, even if the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_166_1761995547814" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> stops correctly. This results in an unclean shutdown being detected at the next boot.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="open-terminal-sessions">Open terminal sessions<a href="#open-terminal-sessions" class="hash-link" aria-label="Direct link to Open terminal sessions" title="Direct link to Open terminal sessions">‚Äã</a></h3>
<p>Unraid waits for all open terminal or SSH sessions to close during shutdown. If these sessions remain active and the shutdown timer expires, a forced shutdown occurs.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The <a href="https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository" target="_blank" rel="noopener noreferrer">Dynamix Stop Shell</a> plugin can automatically close lingering bash or SSH sessions, helping ensure a graceful shutdown. However, be cautious if there are ongoing write operations to the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_166_1761995547814" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuring-shutdown-timeouts">Configuring shutdown timeouts<a href="#configuring-shutdown-timeouts" class="hash-link" aria-label="Direct link to Configuring shutdown timeouts" title="Direct link to Configuring shutdown timeouts">‚Äã</a></h2>
<p>Properly configuring shutdown timeouts is essential to ensure your Unraid server can stop all services effectively. This prevents unclean shutdowns, especially during power loss or maintenance. The most important step is to configure your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_239_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> to hibernate instead of shutting down. This approach helps eliminate many timeout-related issues.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="vm-hibernation-setup">VM hibernation setup<a href="#vm-hibernation-setup" class="hash-link" aria-label="Direct link to VM hibernation setup" title="Direct link to VM hibernation setup">‚Äã</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Use VM hibernation</div><div class="admonitionContent_BuS1"><p>For the most reliable and fastest shutdowns, configure your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_60_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> to hibernate instead of shutting down. This is especially important for Windows <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_81_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> but benefits all <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_6_18_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> types.</p><p>We recommend using hibernation because it:</p><ul>
<li><strong>Saves VM state instantly</strong> - No waiting for the guest OS to shut down.</li>
<li><strong>Prevents data loss</strong> - No risk of interrupting updates or unsaved work.</li>
<li><strong>Avoids timeout issues</strong> - Hibernation is nearly instantaneous.</li>
<li><strong>Faster recovery</strong> - <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_3_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> resume exactly where they left off.</li>
</ul><p>Shutdown can be problematic because:</p><ul>
<li>Windows may display dialog boxes (&quot;Save this document?&quot;) that halt the shutdown indefinitely.</li>
<li>Windows updates can take 10+ minutes during shutdown.</li>
<li>If the timeout expires, Unraid force-kills the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_47_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>, potentially corrupting in-progress Windows updates, unsaved documents, application data, and file systems in the guest OS.</li>
</ul><p><strong>Critical requirement:</strong> Ensure the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_1_12_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_4_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a> is installed in the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_7_21_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> for hibernation to function correctly.</p></div></div>
<p>To enable VM hibernation:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Windows VMs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Linux VMs</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Appliance VMs</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ol>
<li>
<p><strong>Download <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_0_9_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_3_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a>:</strong></p>
<ul>
<li>Go to the <a href="https://fedorapeople.org/groups/virt/virtio-win/direct-downloads/" target="_blank" rel="noopener noreferrer">VirtIO drivers download page</a>.</li>
<li>Download the latest <code>virtio-win.iso</code> file.</li>
</ul>
</li>
<li>
<p><strong>Install in Windows <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_19_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>:</strong></p>
<ul>
<li>Mount the <code>virtio-win.iso</code> to your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_2_9_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>.</li>
<li>Run the installer from the mounted ISO.</li>
<li>Install both <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="virtio_0_13_1761995547814" data-tooltip-html="A set of efficient drivers for virtual machines that improve performance by enabling direct communication between the VM and the host. Recommended for most VM devices.&lt;br&gt;See &lt;a href=&quot;http://wiki.osdev.org/Virtio&quot;&gt;VirtIO - OSDev Wiki&lt;/a&gt;" data-tooltip-place="top">VirtIO</a> drivers AND <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_3_13_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_6_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a>.</li>
<li>Restart the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_12_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a>.</li>
</ul>
</li>
<li>
<p><strong>Configure in Unraid:</strong></p>
<ul>
<li>Go to your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_11_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> settings in the <em><strong>VMs</strong></em> tab.</li>
<li>Set <strong>Shutdown Action</strong> to <strong>Hibernate</strong>.</li>
<li>Click <strong>Apply</strong>.</li>
</ul>
</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ol>
<li><strong>Install <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_0_8_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_3_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a>:</strong></li>
</ol><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># Ubuntu/Debian</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">apt</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> qemu-guest-agent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># CentOS/RHEL/Fedora</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> yum </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> qemu-guest-agent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> dnf </span><span class="token function" style="color:rgb(80, 250, 123)">install</span><span class="token plain"> qemu-guest-agent</span><br></span></code></pre></div></div><ol start="2">
<li>
<p><strong>Enable the service:</strong></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">enable</span><span class="token plain"> qemu-guest-agent</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">sudo</span><span class="token plain"> systemctl start qemu-guest-agent</span><br></span></code></pre></div></div>
</li>
<li>
<p><strong>Configure in Unraid:</strong></p>
<ul>
<li>Set <strong>Shutdown Action</strong> to <strong>Hibernate</strong> in your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_4_9_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> settings.</li>
</ul>
</li>
</ol></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>Some <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_5_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a>, like Home Assistant, don&#x27;t allow the installation of additional software. For these:</p><ul>
<li>Keep <strong>Shutdown Action</strong> set to <strong>Shutdown</strong>.</li>
<li>Use longer timeout values (see timeout recommendations below).</li>
<li>Consider the risks of force-killing these <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_42_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> during updates.</li>
</ul><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Why appliance VMs are different</div><div class="admonitionContent_BuS1"><p>Appliance <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_10_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> are designed to run specific software and often don&#x27;t allow the installation of additional packages, such as <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_3_110_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_6_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a>. This means hibernation isn&#x27;t available, so you&#x27;ll need to rely on proper timeout configuration.</p></div></div></div></div></div>
<p>Now to verify your hibernation works, start your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_49_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> and open some applications. Then stop it from Unraid. When you start it again, it should resume with all applications still open.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Guest Agent is critical</div><div class="admonitionContent_BuS1"><p>Without the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_0_12_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_3_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a> installed, hibernation may not work properly. In that case, the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_6_65_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> will revert to shutdown mode, consuming the full timeout period.</p></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="timeout-configuration">Timeout configuration<a href="#timeout-configuration" class="hash-link" aria-label="Direct link to Timeout configuration" title="Direct link to Timeout configuration">‚Äã</a></h3>
<p>In this section, we‚Äôll cover how to configure timeouts for various systems and processes. This information is important to ensure that your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_140_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> and Docker containers shut down gracefully without data loss.</p>
<table><thead><tr><th>Setting</th><th>Default</th><th>When to increase</th><th>Where to configure</th></tr></thead><tbody><tr><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_0_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> shutdown timeout</td><td>60s</td><td>300s if not using hibernation and VMs crash</td><td><em><strong>Settings ‚Üí VM Manager ‚Üí VM Shutdown (Advanced)</strong></em></td></tr><tr><td>Docker container stop timeout</td><td>10s</td><td>30s if any containers are crashing when stopped</td><td><em><strong>Settings ‚Üí Docker (Advanced)</strong></em></td></tr><tr><td>General shutdown timeout</td><td>90s</td><td>180s if you get unclean shutdowns, 300s+ with VMs</td><td><em><strong>Settings ‚Üí Disk Settings ‚Üí Shutdown time-out</strong></em></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>When to increase timeouts</div><div class="admonitionContent_BuS1"><p>If you&#x27;re experiencing unclean shutdowns or containers that crash during shutdown, consider increasing the general shutdown timeout to <strong>180 seconds</strong> (or <strong>300+ seconds</strong> if you have multiple <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_4_22_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a>). This gives services more time to shut down gracefully.</p></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="shutdown-sequence">Shutdown sequence<a href="#shutdown-sequence" class="hash-link" aria-label="Direct link to Shutdown sequence" title="Direct link to Shutdown sequence">‚Äã</a></h3>
<p>When shutting down, the process happens in the following order:</p>
<ol>
<li>
<p><strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_0_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> shutdown</strong>: This involves three stages, and each one can take up to the VM timeout:</p>
<ul>
<li>Stage 1: Resume any paused <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_27_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a></li>
<li>Stage 2: Hibernate <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_19_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> that are set up for hibernation</li>
<li>Stage 3: Shut down any remaining <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_33_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a></li>
</ul>
<p>All <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_4_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> in each stage are processed at the same time, meaning the total shutdown time can be calculated as: VM timeout √ó 3.</p>
</li>
<li>
<p>Docker containers stop simultaneously (total time = Docker timeout).</p>
</li>
<li>
<p>Other services include tasks like LXC containers and third-party plugins, which usually take a few seconds.</p>
</li>
<li>
<p>Array shutdown: drives need to be unmounted and data synced; this typically takes 15-30 seconds.</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Calculate your general shutdown timeout</div><div class="admonitionContent_BuS1"><p><strong>Formula:</strong> Your general shutdown timeout should be greater than:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(VM timeout √ó 3) + (Docker timeout) + (Other services) + 15-30 seconds</span><br></span></code></pre></div></div><p><strong>Example:</strong> If we follow the formula, it would look like this: <code>(300 √ó 3) + 30 + 10 + 30 = 970 seconds (over 16 minutes)</code>.</p><p><strong>Recommended:</strong> At least <strong>180 seconds (3 minutes)</strong> at minimum and <strong>300+ seconds (5+ minutes)</strong> if you have multiple <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_5_22_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> or complex containers.</p></div></div>
<p>If all your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_12_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> are set to hibernate rather than shutting down, then the VM timeout is less critical since hibernation is nearly immediate. You could use a lower VM timeout (for example, 60-120 seconds) as a backup for any <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_208_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> that don&#x27;t support hibernation.</p>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="detailed-configuration-guide">Detailed configuration guide<a href="#detailed-configuration-guide" class="hash-link" aria-label="Direct link to Detailed configuration guide" title="Direct link to Detailed configuration guide">‚Äã</a></h3>
<p>This section provides in-depth information about configuring timeouts for different system components. Each timeout setting works together to ensure your server shuts down gracefully without data loss.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="vm-timeouts">VM timeouts<a href="#vm-timeouts" class="hash-link" aria-label="Direct link to VM timeouts" title="Direct link to VM timeouts">‚Äã</a></h4>
<p>Configure VM shutdown timeouts in <strong><em>Settings ‚Üí VM Manager ‚Üí VM Shutdown</em></strong> (enable Advanced view).</p>
<p><strong>How it works:</strong></p>
<ul>
<li><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_0_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> go through three shutdown stages, each consuming the full VM timeout</li>
<li>All <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_4_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> in each stage are processed simultaneously</li>
<li>Total VM shutdown time = VM timeout √ó 3</li>
</ul>
<p><strong>Common issues:</strong></p>
<ul>
<li><strong>Windows update interruptions:</strong> Updates during shutdown can be corrupted if timeout expires.</li>
<li><strong>Unsaved work:</strong> Dialog boxes asking to save documents can halt shutdown indefinitely.</li>
<li><strong>Hibernation failures:</strong> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_1_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> without <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_4_9_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_7_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a> may fail to hibernate and use full timeout.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>VM timeout recommendations</div><div class="admonitionContent_BuS1"><ul>
<li><strong>Primary recommendation:</strong> Configure <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_11_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> to hibernate instead of shutting down (requires <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_4_49_1761995547814" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_7_1_1761995547814" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a>).</li>
<li><strong>If VMs crash during shutdown:</strong> Increase timeout to <strong>300 seconds (5 minutes)</strong> for Windows <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_13_1761995547814" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a>.</li>
<li><strong>Windows updates:</strong> Set Windows to install updates at startup rather than during shutdown.</li>
<li><strong>Test your setup:</strong> Manually stop your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_20_1761995547815" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a> to confirm they shut down or hibernate within the timeout period.</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>No safe timeout without hibernation</div><div class="admonitionContent_BuS1"><p>Without hibernation and <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="qemu_0_24_1761995547815" data-tooltip-html="A hardware emulator used by Unraid to run x86/x64 VMs. Handles CPU, memory, and I/O virtualization.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/QEMU&quot;&gt;QEMU - Wikipedia&lt;/a&gt;" data-tooltip-place="top">QEMU</a> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="guest-agent_3_1_1761995547815" data-tooltip-html="A software component installed inside a virtual machine that enables better communication between the VM and the Unraid host system.&lt;br&gt;See &lt;a href=&quot;https://wiki.libvirt.org/Qemu_guest_agent.html&quot;&gt;QEMU Guest Agent | Libvirt&lt;/a&gt;" data-tooltip-place="top">Guest Agent</a>, there isn&#x27;t a truly safe timeout for Windows <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_6_47_1761995547815" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a>. Dialog boxes or ongoing update installations could render any timeout inadequate, leading to forced shutdowns and data corruption risk.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="docker-timeouts">Docker timeouts<a href="#docker-timeouts" class="hash-link" aria-label="Direct link to Docker timeouts" title="Direct link to Docker timeouts">‚Äã</a></h4>
<p>Configure Docker container stop timeouts in <strong><em>Settings ‚Üí Docker</em></strong> (enable Advanced view).</p>
<p><strong>How it works:</strong></p>
<ul>
<li>Containers are stopped in parallel, so total time equals the Docker stop timeout.</li>
<li>Most containers stop within 10 seconds, but some may need more time.</li>
<li>Complex containers with large databases or ongoing operations might require additional time.</li>
<li>If the timer expires, containers are force-stopped.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Docker timeout recommendations</div><div class="admonitionContent_BuS1"><ul>
<li>The <strong>default 10 seconds</strong> works well for most containers.</li>
<li><strong>If containers are crashing when stopped:</strong> Increase timeout to <strong>30 seconds</strong>.</li>
<li>Monitor your containers during shutdown to identify any that consistently need more time.</li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="general-timeouts">General timeouts<a href="#general-timeouts" class="hash-link" aria-label="Direct link to General timeouts" title="Direct link to General timeouts">‚Äã</a></h4>
<p>Configure the general shutdown timeout in <strong><em>Settings ‚Üí Disk Settings ‚Üí Shutdown time-out</em></strong>.</p>
<p><strong>UPS considerations (most critical factor):</strong></p>
<ul>
<li>Your UPS must provide enough runtime to complete the full shutdown sequence before battery runs out.</li>
<li>For <strong>manual shutdown</strong>, you can set longer timeouts since you control when shutdown starts.</li>
<li>With <strong>power outage shutdown</strong>, your timeout is limited by UPS battery life.</li>
<li><strong>Test your UPS</strong> by simulating a power outage to ensure your server shuts down cleanly with time to spare.</li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>General timeout recommendations</div><div class="admonitionContent_BuS1"><ul>
<li><strong>If you get unclean shutdowns:</strong> Increase to <strong>180 seconds (3 minutes)</strong> for systems without <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_3_21_1761995547815" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a>.</li>
<li><strong>For systems with <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_17_1761995547815" data-tooltip-html="‚ÄúVirtual Machine,‚Äù a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VMs</a>:</strong> Use <strong>300+ seconds (5+ minutes)</strong> if not using hibernation.</li>
<li><strong>If using hibernation:</strong> <strong>180-300 seconds</strong> is usually sufficient.</li>
<li>Ensure timeouts are not longer than what your UPS can support during a power outage.</li>
</ul></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-services">Third-party services<a href="#third-party-services" class="hash-link" aria-label="Direct link to Third-party services" title="Direct link to Third-party services">‚Äã</a></h4>
<p><strong>LXC containers:</strong>
The LXC plugin has its own timeout setting for stopping containers. Like Docker containers, LXC containers typically stop within a few seconds, but some may require more time. Check the LXC plugin settings for the container stop timeout and include this timeout in your general shutdown timeout calculation.</p>
<p><strong>Other services:</strong>
Some plugins or custom services may have their own shutdown procedures. Refer to the plugin documentation for specific timeout settings and incorporate them into your calculations.</p>
<p><strong>Updated formula with third-party services:</strong></p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">(VM timeout √ó 3) + (Docker timeout) + (LXC/other timeouts) + 15-30 seconds</span><br></span></code></pre></div></div>
<p><strong>Dynamix Stop Shell plugin:</strong>
If you frequently use SSH or terminal sessions, open sessions can prevent clean shutdowns because Unraid waits for them to close before proceeding.</p>
<p>The <a href="https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository" target="_blank" rel="noopener noreferrer">Dynamix Stop Shell</a> plugin helps by automatically closing lingering bash or SSH sessions when the array is stopped, ensuring a timely shutdown.</p>
<p>You can install it from <a href="https://unraid.net/community/apps/c/tools-system/p2?srsltid=AfmBOoqBXyDNfHxRDCL7Fv9Gcfz8-8CdHmiJSX16PRZpZLLzgQtw2mVk#:~:text=the%20given%20interval.-,Dynamix%20Stop%20Shell,-Dynamix%20Repository" target="_blank" rel="noopener noreferrer">Community Applications (search for &quot;Dynamix Stop Shell&quot;)</a>.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>When to use the plugin</div><div class="admonitionContent_BuS1"><ul>
<li>If you regularly have terminal sessions open.</li>
<li>To prevent forgotten SSH sessions from delaying shutdown.</li>
<li>For automated cleanup during shutdown.</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><ul>
<li>Be cautious if you have scripts or processes running in terminal sessions.</li>
<li>Ensure no critical write operations are in progress before shutdown.</li>
<li>The plugin will forcefully close sessions, which could interrupt work.</li>
</ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/unraid/docs/edit/feat/server-management-docs/docs/unraid-os/troubleshooting/common-issues/unclean-shutdowns.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/boot-and-startup-failures/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Boot &amp; startup failures</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pr-preview/pr-370/unraid-os/troubleshooting/common-issues/system-crashes-and-stability/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">System crashes &amp; stability</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#events-that-cause-unclean-shutdowns" class="table-of-contents__link toc-highlight">Events that cause unclean shutdowns</a><ul><li><a href="#unexpected-power-loss" class="table-of-contents__link toc-highlight">Unexpected power loss</a></li><li><a href="#flash-drive-failure" class="table-of-contents__link toc-highlight">Flash drive failure</a></li><li><a href="#open-terminal-sessions" class="table-of-contents__link toc-highlight">Open terminal sessions</a></li></ul></li><li><a href="#configuring-shutdown-timeouts" class="table-of-contents__link toc-highlight">Configuring shutdown timeouts</a><ul><li><a href="#vm-hibernation-setup" class="table-of-contents__link toc-highlight">VM hibernation setup</a></li><li><a href="#timeout-configuration" class="table-of-contents__link toc-highlight">Timeout configuration</a></li><li><a href="#shutdown-sequence" class="table-of-contents__link toc-highlight">Shutdown sequence</a></li><li><a href="#detailed-configuration-guide" class="table-of-contents__link toc-highlight">Detailed configuration guide</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/pr-preview/pr-370/">Home</a></li><li class="footer__item"><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute on Github<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forums<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.unraid.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Home<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://connect.myunraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Connect<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://newsletter.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Newsletter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://unraid.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">Blog<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer" class="footer__link-item" description="This documentation is available under the Creative Commons Attribution-ShareAlike 4.0 International License. Feel free to share, copy, and use our docs however you need. You can even modify and build upon them for your own projects. Just make sure to give us credit and share any improvements you make under the same license. Note: This license applies only to the documentation content, not to Unraid software or trademarks.">CC BY-SA 4.0<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/pr-preview/pr-370/img/un-mark-gradient.svg" alt="Unraid Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/docs/pr-preview/pr-370/img/un-mark-gradient.svg" alt="Unraid Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div><div class="footer__copyright"><small>Copyright &copy; 2005-2025 Lime Technology, Inc.<br>Unraid&reg; is a registered trademark of Lime Technology, Inc.</small></div></div></div></footer></div></div>
</body>
</html>