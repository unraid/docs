<!doctype html>
<html lang="zh" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-unraid-os/using-unraid-to/manage-storage/file-systems" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">文件系统 | Unraid Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.unraid.net/docs/pr-preview/pr-363/zh/img/meta-unraid.png"><meta data-rh="true" name="twitter:image" content="https://docs.unraid.net/docs/pr-preview/pr-363/zh/img/meta-unraid.png"><meta data-rh="true" property="og:url" content="https://docs.unraid.net/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/file-systems/"><meta data-rh="true" property="og:locale" content="zh"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" name="docusaurus_locale" content="zh"><meta data-rh="true" name="docsearch:language" content="zh"><meta data-rh="true" name="theme-color" content="#242526" media="(prefers-color-scheme: dark)"><meta data-rh="true" name="theme-color" content="#ffffff" media="(prefers-color-scheme: light)"><meta data-rh="true" name="color-scheme" content="dark light"><meta data-rh="true" name="keywords" content="Unraid, server, storage, NAS, Docker, virtualization, array, parity, data protection, file sharing, plugins, management, GUI, disk management, caching, SSD, disk encryption, security, RAID, network configuration, backups, media server, transcoding, monitoring, VMs, GPU passthrough, hardware compatibility"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="文件系统 | Unraid Docs"><meta data-rh="true" name="description" content="选择文件系统类型"><meta data-rh="true" property="og:description" content="选择文件系统类型"><link data-rh="true" rel="icon" href="/docs/pr-preview/pr-363/zh/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://docs.unraid.net/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/file-systems/"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-363/unraid-os/using-unraid-to/manage-storage/file-systems/" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-363/es/unraid-os/using-unraid-to/manage-storage/file-systems/" hreflang="es"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-363/fr/unraid-os/using-unraid-to/manage-storage/file-systems/" hreflang="fr"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-363/de/unraid-os/using-unraid-to/manage-storage/file-systems/" hreflang="de"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/file-systems/" hreflang="zh"><link data-rh="true" rel="alternate" href="https://docs.unraid.net/docs/pr-preview/pr-363/unraid-os/using-unraid-to/manage-storage/file-systems/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://JUYLFQHE7W-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Unraid 操作系统","item":"https://docs.unraid.net/docs/pr-preview/pr-363/zh/category/unraid-os"},{"@type":"ListItem","position":2,"name":"使用 Unraid","item":"https://docs.unraid.net/docs/pr-preview/pr-363/zh/category/using-unraid-to"},{"@type":"ListItem","position":3,"name":"管理存储","item":"https://docs.unraid.net/docs/pr-preview/pr-363/zh/category/manage-storage"},{"@type":"ListItem","position":4,"name":"文件系统","item":"https://docs.unraid.net/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/file-systems"}]}</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CZENQ1ZPEH"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-CZENQ1ZPEH",{anonymize_ip:!0})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Unraid Docs" href="/docs/pr-preview/pr-363/zh/opensearch.xml">



<script src="/js/redirects.js"></script><link rel="stylesheet" href="/docs/pr-preview/pr-363/zh/assets/css/styles.f000b811.css">
<script src="/docs/pr-preview/pr-363/zh/assets/js/runtime~main.7dc1c285.js" defer="defer"></script>
<script src="/docs/pr-preview/pr-363/zh/assets/js/main.d087a75e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/pr-preview/pr-363/zh/"><div class="navbar__logo"><img src="/docs/pr-preview/pr-363/zh/img/un-mark-gradient.svg" alt="我的网站标志" class="themedComponent_mlkZ themedComponent--light_NVdE" style="width:30px"><img src="/docs/pr-preview/pr-363/zh/img/un-mark-gradient.svg" alt="我的网站标志" class="themedComponent_mlkZ themedComponent--dark_xIcU" style="width:30px"></div><b class="navbar__title text--truncate">Unraid 文档</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">更多</a><ul class="dropdown__menu"><li><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">Unraid 首页<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="dropdown__link">论坛<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="dropdown__link">文档 Github<svg width="12" height="12" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文</a><ul class="dropdown__menu"><li><a href="/docs/pr-preview/pr-363/unraid-os/using-unraid-to/manage-storage/file-systems/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/docs/pr-preview/pr-363/es/unraid-os/using-unraid-to/manage-storage/file-systems/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li><li><a href="/docs/pr-preview/pr-363/fr/unraid-os/using-unraid-to/manage-storage/file-systems/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">Français</a></li><li><a href="/docs/pr-preview/pr-363/de/unraid-os/using-unraid-to/manage-storage/file-systems/" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/file-systems/" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh">中文</a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="系统模式" aria-label="切换深色和浅色模式（当前为系统模式）"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索 (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-363/zh/">Unraid 文档</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/pr-preview/pr-363/zh/category/unraid-os/">Unraid 操作系统</a><button aria-label="折叠侧栏类别 &#x27;Unraid 操作系统&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/getting-started-with-unraid/">开始使用 Unraid</a><button aria-label="展开侧栏类别 &#x27;开始使用 Unraid&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/using-unraid-to/">使用 Unraid</a><button aria-label="折叠侧栏类别 &#x27;使用 Unraid&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/manage-storage/">管理存储</a><button aria-label="折叠侧栏类别 &#x27;管理存储&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/shares/">共享</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/array-configuration/">阵列配置</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/cache-pools/">缓存池</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/file-systems/">文件系统</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/apple-time-machine/">Apple 时间机器</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/run-docker-containers/">运行 Docker 容器</a><button aria-label="展开侧栏类别 &#x27;运行 Docker 容器&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/create-virtual-machines/">创建虚拟机</a><button aria-label="展开侧栏类别 &#x27;创建虚拟机&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/customize-your-experience/">自定义您的体验</a><button aria-label="展开侧栏类别 &#x27;自定义您的体验&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/system-administration/">系统管理</a><button aria-label="展开侧栏类别 &#x27;系统管理&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/advanced-configurations/">高级配置</a><button aria-label="展开侧栏类别 &#x27;高级配置&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/unraid-os/troubleshooting/">故障排除</a><button aria-label="展开侧栏类别 &#x27;故障排除&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/pr-preview/pr-363/zh/category/release-notes/">发行说明</a><button aria-label="展开侧栏类别 &#x27;发行说明&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/pr-preview/pr-363/zh/unraid-os/download_list/">版本历史</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-363/zh/category/unraid-connect/">Unraid Connect</a><button aria-label="展开侧栏类别 &#x27;Unraid Connect&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-363/zh/API/">Unraid API</a><button aria-label="展开侧栏类别 &#x27;Unraid API&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-363/zh/Developer/">Developer</a><button aria-label="展开侧栏类别 &#x27;Developer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/pr-preview/pr-363/zh/category/contribute/">贡献</a><button aria-label="展开侧栏类别 &#x27;贡献&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/pr-preview/pr-363/zh/glossary/">词汇表</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="面包屑导航"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="主页" class="breadcrumbs__link" href="/docs/pr-preview/pr-363/zh/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-363/zh/category/unraid-os/"><span>Unraid 操作系统</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-363/zh/category/using-unraid-to/"><span>使用 Unraid</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/pr-preview/pr-363/zh/category/manage-storage/"><span>管理存储</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">文件系统</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页内容</button></div><div class="theme-doc-markdown markdown"><header><h1>文件系统</h1></header>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="选择文件系统类型">选择文件系统类型<a href="#选择文件系统类型" class="hash-link" aria-label="直接链接到 选择文件系统类型" title="直接链接到 选择文件系统类型">​</a></h3>
<p>为您的 Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_11_1761326048919" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 或 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_3_3_1761326048919" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a> 选择正确的文件系统至关重要。它有助于实现性能、数据保护和高级功能之间的平衡。Unraid 支持多种现代 Linux 文件系统，每种都有其独特的优势和特定的使用场景：</p>
<table><thead><tr><th>文件系统</th><th>数据保护</th><th>空间效率</th><th>高级功能</th><th>最佳使用案例</th></tr></thead><tbody><tr><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_0_1761326048919" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a></td><td>没有内置冗余</td><td>100%</td><td>对损坏的强大抗性</td><td>默认的数组驱动器；高可靠性</td></tr><tr><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1761326048919" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a></td><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz1_0_0_1761326048919" data-tooltip-html="ZFS’s implementation of RAID 5, offering single-parity protection with data checksumming for corruption detection.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ1</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz2_2_1_1761326048919" data-tooltip-html="ZFS’s implementation of RAID 6, providing dual-parity protection with data checksumming, allowing survival of two simultaneous drive failures.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ2</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz3_5_1_1761326048919" data-tooltip-html="ZFS’s triple-parity implementation, allowing the array to survive three simultaneous drive failures. Useful for very large arrays.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ3</a>，镜像等。</td><td>根据<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_0_2_1761326048919" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a>级别而有所不同</td><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="checksum_0_0_1761326048919" data-tooltip-html="A small piece of data generated from a larger block of data, used to detect errors during storage or transmission. BTRFS and ZFS file systems use checksums to verify data integrity.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Checksum&quot;&gt;Checksum - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Checksums</a>, <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_2_2_1761326048919" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Snapshots</a>, <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_5_2_1761326048919" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a></td><td>多设备池，<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_5_1761326048919" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">虚拟机</a>，Docker，高级用户</td></tr><tr><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_0_1761326048919" data-tooltip-html="  “B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a></td><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid0_0_0_1761326048919" data-tooltip-html="Striping – A RAID configuration that splits data across drives for faster read/write speeds but offers no redundancy.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_0&quot;&gt;RAID 0 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID 0</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid1_2_1_1761326048919" data-tooltip-html="Mirroring – A redundancy method that duplicates all data across two or more drives. If one drive fails, another contains an exact copy of the data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_1&quot;&gt;RAID 1 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID 1</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid10_5_1_1761326048919" data-tooltip-html="Striped Mirrors – A combination of RAID 1 (mirroring) and RAID 0 (striping) that balances speed and redundancy. Data is striped across mirrored pairs, providing performance and protection against drive failures.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_10&quot;&gt;RAID 10 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">10</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid5_8_1_1761326048919" data-tooltip-html="A storage method that distributes data and parity information across three or more drives. Traditional RAID 5 stripes data across all drives, unlike Unraid which keeps complete files on individual disks.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_5&quot;&gt;RAID 5 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">5</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid6_11_1_1761326048919" data-tooltip-html="Similar to RAID 5 but with dual parity, allowing the array to survive two simultaneous drive failures.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_6&quot;&gt;RAID 6 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">6</a>、镜像</td><td>根据<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_0_2_1761326048919" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a>级别而有所不同</td><td><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="checksum_0_0_1761326048919" data-tooltip-html="A small piece of data generated from a larger block of data, used to detect errors during storage or transmission. BTRFS and ZFS file systems use checksums to verify data integrity.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Checksum&quot;&gt;Checksum - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Checksums</a>, <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_2_2_1761326048919" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Snapshots</a>, <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_5_2_1761326048919" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a></td><td>多设备池，混合SSD/HDD，灵活的池</td></tr></tbody></table>
<!-- -->
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">XFS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">ZFS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BTRFS</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p><strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_0_1761326053172" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a></strong> 是 Unraid 中 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_12_1761326053172" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 驱动器的默认文件系统。它以其稳健性和在意外关机或崩溃后恢复损坏文件系统的能力而闻名。每个用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_4_47_1761326053172" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> 格式化的驱动器都作为一个独立的文件系统运行，这使得在任何 Linux 系统上的数据恢复都很简单。</p>
<ul>
<li><strong>数据保护：</strong> 没有内建冗余；依赖 Unraid 的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_1_20_1761326053172" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> 进行保护。</li>
<li>**性能：**一致且可靠。</li>
<li>**最适合：**特别是当稳定性和数据恢复易用性优先时的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_27_1761326053172" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">Array</a>驱动器。</li>
</ul></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1761326053188" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 是一个现代文件系统，具备高级功能，例如用于检测 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="bit-rot_2_25_1761326053188" data-tooltip-html="The theoretical degradation of disk data over time. File systems like BTRFS and ZFS can detect errors, but practical occurrence rates are debated.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_degradation&quot;&gt;Data Degradation - Wikipedia&lt;/a&gt;" data-tooltip-place="top">bit rot</a> 的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="checksum_5_3_1761326053188" data-tooltip-html="A small piece of data generated from a larger block of data, used to detect errors during storage or transmission. BTRFS and ZFS file systems use checksums to verify data integrity.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Checksum&quot;&gt;Checksum - Wikipedia&lt;/a&gt;" data-tooltip-place="top">checksums</a>、用于备份的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_8_7_1761326053188" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">snapshots</a>，以及本地 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_11_6_1761326053188" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a> 支持选项如 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz1_14_7_1761326053188" data-tooltip-html="ZFS’s implementation of RAID 5, offering single-parity protection with data checksumming for corruption detection.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ1</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz2_17_1_1761326053188" data-tooltip-html="ZFS’s implementation of RAID 6, providing dual-parity protection with data checksumming, allowing survival of two simultaneous drive failures.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ2</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz3_20_1_1761326053188" data-tooltip-html="ZFS’s triple-parity implementation, allowing the array to survive three simultaneous drive failures. Useful for very large arrays.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ3</a> 和镜像。<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_23_5_1761326053188" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 可以用于 Unraid 6.12 及更高版本中的单设备和多设备池。</p>
<ul>
<li>**数据保护：**支持各种<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_0_13_1761326053188" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a>级别以实现冗余。</li>
<li>**性能：**尤其是对多设备池来说表现优异。</li>
<li><strong>最佳用途：</strong> 高性能环境、<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_7_1761326053188" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">虚拟机</a>、Docker 或需要高级功能（如 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="snapshot_4_18_1761326053188" data-tooltip-html="A point-in-time image of a file system, used by BTRFS and ZFS to enable quick rollbacks, backups, or recovery of previous states.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Snapshot_(computer_storage)&quot;&gt;Snapshot (computer storage) - Wikipedia&lt;/a&gt;" data-tooltip-place="top">snapshots</a>）时。</li>
</ul>
<p>深入了解<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_4_1761326053188" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 功能、配置和最佳实践，请查看我们专门的 <a href="/docs/pr-preview/pr-363/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/">ZFS存储</a> 部分。</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_0_1761326053173" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 提供灵活的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid_2_7_1761326053173" data-tooltip-html="“Redundant Array of Independent Disks,” a storage technology combining multiple drives for performance, redundancy, or both.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels&quot;&gt;Standard RAID Levels - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID</a> 支持，<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="checksum_5_4_1761326053173" data-tooltip-html="A small piece of data generated from a larger block of data, used to detect errors during storage or transmission. BTRFS and ZFS file systems use checksums to verify data integrity.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Checksum&quot;&gt;Checksum - Wikipedia&lt;/a&gt;" data-tooltip-place="top">checksums</a> 确保数据完整性，并在池中有效管理不同大小的驱动器。它是<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_8_28_1761326053173" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pools</a> 的默认文件系统，并支持单设备和多设备配置。</p>
<ul>
<li><strong>数据保护：</strong> 支持<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid0_1_3_1761326053173" data-tooltip-html="Striping – A RAID configuration that splits data across drives for faster read/write speeds but offers no redundancy.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_0&quot;&gt;RAID 0 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID 0</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid1_4_1_1761326053173" data-tooltip-html="Mirroring – A redundancy method that duplicates all data across two or more drives. If one drive fails, another contains an exact copy of the data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_1&quot;&gt;RAID 1 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">1</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid10_7_1_1761326053173" data-tooltip-html="Striped Mirrors – A combination of RAID 1 (mirroring) and RAID 0 (striping) that balances speed and redundancy. Data is striped across mirrored pairs, providing performance and protection against drive failures.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_10&quot;&gt;RAID 10 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">10</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid5_10_1_1761326053173" data-tooltip-html="A storage method that distributes data and parity information across three or more drives. Traditional RAID 5 stripes data across all drives, unlike Unraid which keeps complete files on individual disks.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_5&quot;&gt;RAID 5 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">5</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid6_13_1_1761326053173" data-tooltip-html="Similar to RAID 5 but with dual parity, allowing the array to survive two simultaneous drive failures.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_6&quot;&gt;RAID 6 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">6</a> （注意<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid5_16_4_1761326053173" data-tooltip-html="A storage method that distributes data and parity information across three or more drives. Traditional RAID 5 stripes data across all drives, unlike Unraid which keeps complete files on individual disks.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_5&quot;&gt;RAID 5 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">RAID 5</a>/<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raid6_19_1_1761326053173" data-tooltip-html="Similar to RAID 5 but with dual parity, allowing the array to survive two simultaneous drive failures.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Standard_RAID_levels#RAID_6&quot;&gt;RAID 6 - Wikipedia&lt;/a&gt;" data-tooltip-place="top">6</a> 仍然是实验性的）。</li>
<li><strong>性能：</strong> 良好，具有扩展和收缩的灵活性。</li>
<li><strong>最适合：</strong> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_1_1_1761326053173" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Cache pools</a>，尤其是在你计划混合使用SSD和HDD或需要简单扩展时。</li>
</ul></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Additional 笔记</div><div class="admonitionContent_BuS1"><ul>
<li>Mixing different file system types in your Unraid system is perfectly acceptable; the Unraid <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_0_93_1761326048920" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> system works independently of the file system used.</li>
<li>始终在 Unraid 内格式化和分区驱动器以确保兼容性。</li>
<li>Linux  系统可以原生读取这些文件系统；然而，Windows 和 macOS 将需要额外的软件来访问。</li>
<li>你可以对驱动器进行<u>加密</u>以增强安全性，但请记住，加密驱动器可能会给发生损坏时的恢复带来挑战。</li>
<li>对于传输驱动器或外部设备，建议使用支持额外文件系统的 <strong><a href="#using-the-unassigned-devices-plugins">Unassigned Devices</a></strong> 插件。</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Still 需要帮助选择吗？</div><div class="admonitionContent_BuS1"><ul>
<li><strong>对于数组驱动器：</strong> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_1_1_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>通常是大多数用户的最佳选择。</li>
<li><strong>对于高性能或高级功能：</strong> 选择<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_1_3_1761326048920" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>或<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_4_1_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a>用于<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_7_2_1761326048920" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pools</a>或多设备设置。</li>
<li><strong>对于混合或扩展池：</strong> 如果你想使用不同的驱动器大小或轻松地添加或删除设备，<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_1_27_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 是理想选择。</li>
</ul><p>如果不确定，开始默认设置是一种好的方法：对于<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_22_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>驱动器使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_3_6_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> ，对于 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_6_5_1761326048920" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pools</a> 使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_9_4_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a>。</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="设定文件系统类型">设定文件系统类型<a href="#设定文件系统类型" class="hash-link" aria-label="直接链接到 设定文件系统类型" title="直接链接到 设定文件系统类型">​</a></h2>
<p>在向 Unraid 添加新磁盘时，您可以选择最适合您需求的文件系统类型。文件系统决定了磁盘上数据的  组织和保护方式。</p>
<p>设定文件系统类型：</p>
<ol>
<li>
<p><strong>全局设定默认值：</strong></p>
<ul>
<li>导航到 <em><strong>设置 → 磁盘设置</strong></em> ，仅为新 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_6_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 驱动器设定默认文件系统。</li>
<li>Unraid 默认使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_12_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> 作为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_4_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 驱动器。</li>
<li><strong>Note:</strong> There is currently no global default setting for <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_1_50_1761326048920" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pools</a>. They will always default to <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_4_30_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> if left to &quot;auto&quot;.</li>
</ul>
</li>
<li>
<p><strong>为单个驱动器设定文件系统：</strong></p>
<ul>
<li>停止<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_2_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
<li>点击主标签上的驱动器。</li>
<li>从下拉菜单中选择你想要的文件系统类型。</li>
<li>如果选择 <strong>自动</strong> ，Unraid 会使用全局默认值。</li>
<li>对于多设备 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_0_6_1761326048920" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pools</a> ，仅支持 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_3_6_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 或 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_6_3_1761326048920" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>。</li>
</ul>
</li>
</ol>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="创建文件系统格式化">创建文件系统（格式化）<a href="#创建文件系统格式化" class="hash-link" aria-label="直接链接到 创建文件系统（格式化）" title="直接链接到 创建文件系统（格式化）">​</a></h2>
<p>在 Unraid 中使用新磁盘之前，您必须将其格式化为所选的文件系统。<strong>请记住，格式化将擦除驱动器上的所有现有内容。</strong></p>
<p>开始格式化：</p>
<ol>
<li><strong>启动<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_2_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a></strong>。</li>
<li><strong>识别无法挂载的驱动器：<strong>未被识别的驱动器将显示为</strong>不可挂载的</strong>。</li>
<li>**验证驱动器选择：**验证所有无法挂载的驱动器是否是你想要格式化的驱动器。</li>
<li>**确认并格式化：**勾选确认框，仔细阅读警告对话框，然后点击 <strong>格式化</strong>。</li>
<li><strong>监控过程</strong>：格式化过程将开始。对于新磁盘，Unraid 将首先重写分区表。</li>
<li><strong>等待完成</strong>：格式化通常需要几分钟。如果您看不到进度，请刷新 <strong>Main</strong> 选项卡。</li>
</ol>
<p>格式化完成后，驱动器即可存储文件。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="更改文件系统类型">更改文件系统类型<a href="#更改文件系统类型" class="hash-link" aria-label="直接链接到 更改文件系统类型" title="直接链接到 更改文件系统类型">​</a></h2>
<p>你可能想更改特定设备上的文件系统类型以利用新功能或确保与其他设备兼容。</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>更改文件系统类型将 <strong>擦除驱动器上的所有现有数据</strong>。在继续之前，请务必备份任何重要文件。</p></div></div>
<p>要更改特定驱动器上的文件系统类型：</p>
<ol>
<li><strong>停止数组：</strong> 开始时停止你的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_8_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 以确保变更期间没有操作正在进行。</li>
<li><strong>选择驱动器：</strong> 在 <strong>主</strong> 标签中，点击你想要更改格式的驱动器。</li>
<li><strong>选择新的文件系统</strong>：从下拉菜单中选择所需的文件系统格式。如果您有多个驱动器需要更改，请对每个驱动器重复此步骤。</li>
<li><strong>重新启动数组：</strong> 选择新的文件系统后，再次启动你的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_17_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
<li><strong>格式化不可挂载的驱动器</strong>：<strong>Main</strong> 选项卡将显示选项以格式化不可挂载的驱动器。花点时间检查列表，确保仅包含您打算更改的驱动器。</li>
<li><strong>确认并格式化：</strong> 勾选确认框以确认更改，然后点击 <strong>格式化</strong> 按钮继续。</li>
<li><strong>等待过程完成</strong>：格式化通常只需几分钟。如果您发现状态未更新，可以刷新 <strong>Main</strong> 选项卡以检查进度。</li>
</ol>
<p>如果您遇到任何问题，可以随时访问 <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">Unraid 论坛</a>。附上您的系统诊断 zip 文件（位于 <strong>工具 → 诊断</strong> 下）以获取帮助。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="转换到新的文件系统类型">转换到新的文件系统类型<a href="#转换到新的文件系统类型" class="hash-link" aria-label="直接链接到 转换到新的文件系统类型" title="直接链接到 转换到新的文件系统类型">​</a></h2>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>从 Unraid 7.2 开始，<strong>Main</strong> 页面将警告如果任何阵列或池驱动器是以遗留文件系统格式化的：</p><ul>
<li>任何格式化为 ReiserFS 的驱动器需要尽快迁移到另一个文件系统，因为它们在未来版本的 Unraid（可能是 Unraid 7.3）中不可用。</li>
<li>任何以旧版 XFS 格式化的驱动器需要在 2030 年之前迁移。</li>
</ul></div></div>
<p>要更改驱动器的文件系统类型但保留其数据，您必须在重新格式化之前迁移内容。该过程对于从不再支持的 ReiserFS（在旧版 Unraid 中使用）迁移到 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_76_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> 或 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_3_3_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 的用户尤为常见，但它适用于任何文件系统转换。</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>This process requires temporarily moving your data to another location. Make sure you have enough free space elsewhere in your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_127_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> or on an external device before you begin.</p></div></div>
<p>要安全地转换为新的文件系统类型：</p>
<ol>
<li><strong>Copy all data off the drive</strong>: Move your files to another location. This could be another drive in your <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_75_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>, a <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_4_4_1761326048920" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a>, or an external backup.<!-- -->
<ul>
<li>在 Unraid 7.0 之前，您需要手动移动文件。</li>
<li>从 Unraid 7.0 开始，您可以 <a href="/docs/pr-preview/pr-363/zh/unraid-os/release-notes/7.0.0/#using-mover-to-empty-an-array-disk">使用“移动程序”清空阵列磁盘</a> 通过命令行将文件移动到其他阵列驱动器。</li>
<li>从 Unraid 7.2 开始，您可以通过 WebGUI 将一个阵列驱动器清空到其他阵列驱动器中：<!-- -->
<ul>
<li>导航到 <em><strong>主菜单 → 阵列操作</strong></em> 并停止阵列。</li>
<li>导航到 <em><strong>设置 → 全局共享设置</strong></em>。在<strong>清空磁盘</strong>区域，选择要清空的磁盘并点击 <strong>应用</strong>。注意：当阵列停止时，该状态将自动移除。</li>
<li>导航到 <em><strong>主菜单 → 阵列操作</strong></em> 并启动阵列。</li>
<li>在 <em><strong>主菜单 → 阵列操作</strong></em> 上点击 <strong>移动</strong> （或等待移 动程序按其正常计划运行）。</li>
<li>移动程序将根据您的共享设置清空磁盘。注意根目录的文件不包括在任何共享内，因此不会被移动。</li>
<li>检查 <em><strong>工具 → 系统日志</strong></em> 查看文件因正在使用或缺乏空闲空间而无法移动的信息。</li>
</ul>
</li>
<li>导航到 <em><strong>主菜单 → 阵列设备</strong></em> 并浏览磁盘以确认其为空。只有在确定磁盘为空时才能继续。</li>
</ul>
</li>
<li><strong>更改文件系统类型</strong>：遵循<a href="#changing-a-file-system-type">更改文件系统类型</a> 的步骤。这将格式化驱动器并擦除所有内容，留下一个新的空白驱动器。</li>
<li><strong>将数据拷回</strong>：（可选）根据文件移动的位置，您可能需要将它们移回到新格式化的驱动器。</li>
<li><strong>根据需要重复：</strong> 如果有多个驱动器需要转换，则为每个驱动器重复这些步骤，按照需要转移数据。</li>
</ol>
<p>:::note[Timing]</p>
<p>根据数据量和驱动器的速度，整个过程可能需要几个小时。大多数时间花在复制文件上，可以无人值守运行。</p>
<p>:::</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="重新格式化驱动器">重新格式化驱动器<a href="#重新格式化驱动器" class="hash-link" aria-label="直接链接到 重新格式化驱动器" title="直接链接到 重新格式化驱动器">​</a></h2>
<p>在 Unraid 中重新格式化驱动器将擦除所有数据并创建一个新的空文件系统。此过程有助于解决持久的文件系统错误或开始使用新的格式。</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>重新格式化将永久擦除驱动器上的所有数据。在开始之前，务必备份任何重要文件。</p></div></div>
<p>要 <strong>安全地</strong> 重新格式化你的驱动器：</p>
<ol>
<li><strong>停止阵列</strong>。</li>
<li><strong>更改文件系统类型：</strong>
<ul>
<li>转到 <strong>主</strong> 标签并点击你想重新格式化的驱动器。</li>
<li>选择不同的文件系统类型（例如，从<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_16_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>更改为<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_3_3_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a>）。</li>
<li>启动<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_2_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>，驱动器将显示为<strong>不可挂载的</strong>。</li>
<li>在提示时，格式化驱动器。</li>
</ul>
</li>
<li><strong>（可选）更改回原始文件系统类型：</strong>
<ul>
<li>再次停止<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_4_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
<li>将文件系统改回你首选的类型。</li>
<li>启动<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_2_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>并再次格式化驱动器。</li>
</ul>
</li>
</ol>
<p>此简单过程可确保驱动器完全擦除并格式化为所需格式。格式化过程通常只需几分钟。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重新格式化缓存驱动器">重新格式化缓存驱动器<a href="#重新格式化缓存驱动器" class="hash-link" aria-label="直接链接到 重新格式化缓存驱动器" title="直接链接到 重新格式化缓存驱动器">​</a></h3>
<p>有时，你需要重新格式化一个<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_0_13_1761326048920" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a>驱动器，原因如下：</p>
<ul>
<li>更改文件系统类型（例如，从<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_13_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a>转换到<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_3_3_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>或反之亦然）</li>
<li>修复持久的文件系统错误</li>
<li>为新的工作负载重新开始</li>
</ul>
<h4>重新格式化缓存驱动器的推荐程序</h4>
<ol>
<li><strong>停止阵列</strong>。</li>
<li>在<strong>设置</strong>中<strong>禁用 Docker 和<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_11_1761326048920" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 服务</strong>。</li>
<li><strong>启动数组</strong>（这将防止 Docker 和<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_1_14_1761326048920" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 页签出现）。</li>
</ol>
<p>从缓存移动数据：</p>
<ol start="4">
<li><strong>Set share storage and Mover action (cache → array)</strong>: For each share that has files in the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_1_39_1761326048920" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a>, set <strong>Primary storage</strong> to the source <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_6_15_1761326048920" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a> pool and <strong>Secondary storage</strong> to the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_11_8_1761326048920" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>. Set <strong>Mover action</strong> to <strong>cache → array</strong>.<!-- -->
<ul>
<li>记录下您更改的任何共享及其原始设置。</li>
</ul>
</li>
<li><strong>Run <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="mover_0_4_1761326048920" data-tooltip-html="Transfers data between the primary and secondary storage defined for a share in either direction during scheduled runs.&lt;br&gt;See &lt;a href=&quot;https://morsepacific.co.uk/2020/11/15/unraid-data-cache-and-the-mover/&quot;&gt;UnRAID - Data, Cache, and the Mover - An Englishman in Boston&lt;/a&gt;" data-tooltip-place="top">Mover</a></strong>: Run <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="mover_1_6_1761326048920" data-tooltip-html="Transfers data between the primary and secondary storage defined for a share in either direction during scheduled runs.&lt;br&gt;See &lt;a href=&quot;https://morsepacific.co.uk/2020/11/15/unraid-data-cache-and-the-mover/&quot;&gt;UnRAID - Data, Cache, and the Mover - An Englishman in Boston&lt;/a&gt;" data-tooltip-place="top">Mover</a> from the <strong>Main</strong> tab. Wait for it to finish and ensure that the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_6_48_1761326048920" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a> is empty.<!-- -->
<ul>
<li>如果还有文件留存，请停止并在论坛中寻求帮助。</li>
</ul>
</li>
</ol>
<p>重新格式化缓存驱动器：</p>
<ol start="6">
<li><strong>停止阵列</strong>。</li>
<li><strong>设置缓存驱动器格式</strong>（在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_1_3_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> 或 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_4_3_1761326048920" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 之间选择）。<!-- -->
<ul>
<li>对于单驱动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_0_6_1761326048920" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a>，推荐选择 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_3_6_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>。</li>
<li>请注意，<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_4_1761326048920" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> 仅在您有一个 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_3_8_1761326048920" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a> 插槽时可用。</li>
</ul>
</li>
<li><strong>启动阵列</strong>。</li>
<li><strong>格式化缓存驱动器</strong>：<!-- -->
<ul>
<li>确认仅有 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_0_5_1761326048921" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a> 驱动器列为不可挂载。</li>
<li>继续格式化驱动器。</li>
</ul>
</li>
</ol>
<p>还原数据和设置：</p>
<ol start="10">
<li><strong>恢复共享设置</strong>：对于您更改的每个共享，将<strong>主要存储</strong>和<strong>次要存储</strong>恢复到原始值。</li>
<li><strong>Move data back (array → cache)</strong>: Set <strong>Primary storage</strong> to the destination <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_3_20_1761326048921" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a> pool and <strong>Secondary storage</strong> to the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_8_8_1761326048921" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> for each share you changed. Set <strong>Mover action</strong> to <strong>array → cache</strong>, then run the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="mover_15_15_1761326048921" data-tooltip-html="Transfers data between the primary and secondary storage defined for a share in either direction during scheduled runs.&lt;br&gt;See &lt;a href=&quot;https://morsepacific.co.uk/2020/11/15/unraid-data-cache-and-the-mover/&quot;&gt;UnRAID - Data, Cache, and the Mover - An Englishman in Boston&lt;/a&gt;" data-tooltip-place="top">Mover</a> again to move your data back to the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache_18_37_1761326048921" data-tooltip-html="A feature in Unraid that temporarily stores newly written data on faster drives (typically SSDs) before moving it to the array, improving write performance.&lt;br&gt;See &lt;a href=&quot;https://www.britannica.com/technology/cache-memory&quot;&gt;Cache Memory - Computer Science Principles&lt;/a&gt;" data-tooltip-place="top">cache</a>.</li>
<li><strong>停止阵列</strong>。</li>
<li><strong>重新启用 Docker 和 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_14_1761326048921" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">VM</a> 服务</strong>。</li>
<li><strong>启动阵列</strong>。</li>
</ol>
<p>:::note[Timing]</p>
<p>使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="mover_0_3_1761326048921" data-tooltip-html="Transfers data between the primary and secondary storage defined for a share in either direction during scheduled runs.&lt;br&gt;See &lt;a href=&quot;https://morsepacific.co.uk/2020/11/15/unraid-data-cache-and-the-mover/&quot;&gt;UnRAID - Data, Cache, and the Mover - An Englishman in Boston&lt;/a&gt;" data-tooltip-place="top">Mover</a> 移动数据和格式化驱动器所需时间可能从几分钟到几小时不等，具体取决于数据量和驱动器速度。</p>
<p>:::</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="btrfs-操作">BTRFS 操作<a href="#btrfs-操作" class="hash-link" aria-label="直接链接到 BTRFS 操作" title="直接链接到 BTRFS 操作">​</a></h2>
<p>在 Unraid 中维护您的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_15_1761326048921" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 池对于保持其正常运行和确保您的数据安全至关重要。您需要定期使用的两个关键工具是 <strong>平衡</strong> 和 <strong>清理</strong>。这些操作有助于解决空间分配问题，优化存储利用率，并保护数据免受隐藏损坏的影响。</p>
<p>让我们来详细解释每项操作的作用以及何时使用这些操作：</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">平衡</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">校验</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p><strong>平衡</strong>操作在您的<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_1_5_1761326053175" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a>池中重新分配数据和元数据块。该过程有助于释放空间，解决分配问题，并可以修复“设备上没有剩余空间”错误，即使空间似乎可用。</p>
<h4>何时运行平衡</h4>
<ul>
<li>当您遇到“设备上无可用空间”错误，但仍有空闲空间时。</li>
<li>在池中添加或移除驱动器后。</li>
<li>优化空间使用并提升性能。</li>
</ul>
<h4>如何运行平衡</h4>
<ol>
<li><strong>访问池</strong>：在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_1_3_1761326053175" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中，点击“主”选项卡上的池，然后选择 <strong>平衡</strong>。</li>
<li><strong>添加参数（可选）</strong>：可选地，添加高级使用参数（有关详细信息，请参考 Unraid 帮助）。</li>
<li><strong>启动过程</strong>：点击 <strong>开始</strong> 以开始过程。</li>
</ol>
<p>:::note[Timing]</p>
<p>平衡操作可能需要几分钟到几小时，具体取决于池的大小和数据量。</p>
<p>:::</p></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><strong>Scrub</strong> 操作读取所有数据和元数据，检查校验和的完整性，并利用可用的冗余副本修复任何损坏的块。Scrubbing 有助于识别并修复被称为“位腐蚀”的静默数据损坏问题，防止其成为重大问题。</p>
<h4>何时运行清洗</h4>
<ul>
<li>作为常规维护的一部分（请参阅下面的推荐计划）。</li>
<li>在不正常关机后或如果您怀疑有损坏时。</li>
<li>在高使用率池中更频繁地运行。</li>
</ul>
<h4>推荐计划</h4>
<ul>
<li>高使用率池： <strong>每周一次</strong></li>
<li>所有其他池： <strong>每月一次</strong></li>
</ul>
<h4>如何运行清  洗</h4>
<ol>
<li><strong>访问池</strong>：在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_1_3_1761326053174" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中，点击“主”选项卡上的池，然后选择 <strong>清洗</strong>。</li>
<li><strong>启动过程</strong>：点击 <strong>开始</strong> 以启动过程。</li>
</ol>
<p>:::note[Timing]</p>
<p>擦洗操作通常比完全磁盘扫描快，因为它们只会检查已分配的数据。根据池大小和使用情况，这可能需要几分钟到几小时。</p>
<p>:::</p></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p><strong>平衡</strong> 和 <strong>清理</strong> 都可以在系统在线时进行，但请记住，在这些操作期间性能可能会受到影响。您可以在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_3_40_1761326048921" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中监控进度。</p></div></div>
<p>有关高级 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_5_1761326048921" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 功能的更多详细信息，请查阅 <a href="https://btrfs.readthedocs.io/en/latest/Introduction.html" target="_blank" rel="noopener noreferrer">官方 BTRFS 文档</a>。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="未分配的驱动器">未分配的驱动器<a href="#未分配的驱动器" class="hash-link" aria-label="直接链接到 未分配的驱动器" title="直接链接到 未分配的驱动器">​</a></h2>
<p>Unassigned drives are storage devices connected to your Unraid server that aren&#x27;t part of the main <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_99_1761326048921" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> or any <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_3_8_1761326048921" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pool</a>. You can use these drives to transfer files, create backups, or provide fast storage for <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_6_90_1761326048921" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">virtual machines</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>当 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_2_1761326048921" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 启动时，连接到服务器的所有驱动器即使未分配至 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_3_24_1761326048921" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 或池中，也会计入 Unraid 附加设备许可证限制。</p></div></div>
<h4>未分配驱动器的常见用途</h4>
<ul>
<li>连接可移动驱动器以便于文件传输或备份。</li>
<li>使用专用驱动器进行高性能任务，如运行 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="vm_0_19_1761326048921" data-tooltip-html="“Virtual Machine,” a software emulation of a computer that runs its own operating system inside Unraid. Functions as if it were a separate physical computer.&lt;br&gt;See &lt;a href=&quot;https://www.redhat.com/en/topics/virtualization/what-is-a-virtual-machine&quot;&gt;Virtual Machine - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">virtual machines</a> 或临时数据存储。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="使用未分配设备插件">使用未分配设备插件<a href="#使用未分配设备插件" class="hash-link" aria-label="直接链接到 使用未分配设备插件" title="直接链接到 使用未分配设备插件">​</a></h3>
<p>要充分利用您的未分配驱动器，请考虑从<strong>应用程序</strong>选项卡安装以下插件：</p>
<ul>
<li>
<p>**<a href="https://unraid.net/community/apps?q=dlandon&amp;r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices,-dlandon" target="_blank" rel="noopener noreferrer">未分配设备</a>：**此插件允许您挂载、共享和管理具有 Unraid 支持的文件系统（如 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_2_37_1761326048921" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>、<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_5_1_1761326048921" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 或 NTFS）的驱动器。</p>
</li>
<li>
<p>**<a href="https://unraid.net/community/apps?q=dlandon&amp;r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices%20Plus,-(Addon)" target="_blank" rel="noopener noreferrer">未分配设备Plus</a>：**此扩展支持额外的文件系统，包括 ExFAT 和 HFS+。</p>
</li>
</ul>
<p>这些插件启用：</p>
<ul>
<li>使用 Unraid 网页界面轻松挂载和卸载驱动器。</li>
<li>通过网络共享您的未分配驱动器。</li>
<li>在服务器启动时自动挂载。</li>
<li>格式化或擦除驱动器以备将来使用。</li>
<li>安全地断开 USB 或外部驱动器而不产生麻烦。</li>
</ul>
<p>有关插件安装和管理的详细信息，请查阅 <a href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/customize-your-experience/plugins/">插件</a>。</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="故障排除">故障排除<a href="#故障排除" class="hash-link" aria-label="直接链接到 故障排除" title="直接链接到 故障排除">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="驱动器显示为无法挂载">驱动器显示为无法挂载<a href="#驱动器显示为无法挂载" class="hash-link" aria-label="直接链接到 驱动器显示为无法挂载" title="直接链接到 驱动器显示为无法挂载">​</a></h3>
<p>如果您在 Unraid 中看到驱动器为<strong>无法挂载</strong>，可能是由于两个主要原因之一：</p>
<ol>
<li>
<p><strong>添加新驱动器</strong>：如果您刚刚将新驱动器添加到设置中，除非格式化，否则它将显示为不可挂载。格式化会创建一个允许驱动器存储文件的文件系统。您可以在<a href="#%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F">这里</a>找到格式化驱动器的步骤。</p>
</li>
<li>
<p><strong>文件系统问题</strong>：如果之前正常工作的驱动器突然显示为不可挂载，则可能是文件系统问题。这可能由于意外关机、写入数据时的问题或驱  动器被标记为禁用（在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_1_65_1761326048921" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中显示为红色“x”）所导致。</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Do not format an unmountable drive unless you are okay with losing all the data on it. Formatting will erase everything and update the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_0_135_1761326048921" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> information, making recovery impossible. Always try to fix the file system first.</p></div></div>
<p>如果您的驱动器无法挂载：</p>
<ol>
<li><strong>识别情况</strong>：确定这是新驱动器还是先前工作的驱动器。</li>
<li><strong>对于新驱动器</strong>：格式化驱动器以创建一个新的文件系统（查看 <a href="#creating-a-file-system-formatting">格式化步骤</a>）。</li>
<li><strong>对于之前工作的驱动器</strong>：执行文件系统检查或修复（见<a href="#checking-a-file-system">检查文件系统</a>）。如果您希望保留数据，请避免格式化。</li>
</ol>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>备注</div><div class="admonitionContent_BuS1"><p>如果驱动器既不可挂载又被禁用（红色“x”），首先对<strong>模拟</strong>驱动器运行文件系统检查/修复。如果模拟驱动器也不可挂载并尝试重建，新驱动器也将不可挂载。</p></div></div>
<p>修复文件系统通常比重建驱动器所需时间更短，让您可以不丢失任何数据地访问它。请记住，重建驱动器<strong>无法</strong>修复文件系统问题；它仅确保物理驱动器与模拟驱动器相匹配，且将现有问题一同保留。</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Why 奇偶校验不足够吗？</div><div class="admonitionContent_BuS1"><p>While <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_0_6_1761326048921" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> helps recover a failed drive, it cannot fix file system problems. If the file system is corrupted, <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_3_100_1761326048921" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> will simply replicate that corruption to the new drive.</p><p>如果您不确定：</p><ul>
<li>通过导航到 <em><strong>工具 → 诊断</strong></em> 来下载系统日志。</li>
<li>如需专家帮助，请将您的问题连同诊断信息一起发布于 <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">Unraid 论坛</a>。</li>
</ul></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>Just 重申一下</div><div class="admonitionContent_BuS1"><ul>
<li>仅当他们是全新的或想要擦除所有数据时，才格式化无法挂载的驱动器。</li>
<li>使用文件系统检查/修复来解决损坏文件问题；不要依靠 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_0_26_1761326048921" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a> 来解决这些问题。</li>
<li>对于有多个驱动器的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="cache-pool_0_10_1761326048921" data-tooltip-html="High-speed storage for temporary data. Pools can be single-disk or multi-disk. The Mover process transfers data to/from array periodically.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/RAID&quot;&gt;RAID - Wikipedia&lt;/a&gt;" data-tooltip-place="top">cache pools</a>，可以考虑使用 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_3_8_1761326048921" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 或 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_6_3_1761326048921" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>。</li>
<li>在格式化或修复驱动器之前，请再次检查以避免意外的数据丢失。</li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="检查文件系统">检查文件系统<a href="#检查文件系统" class="hash-link" aria-label="直接链接到 检查文件系统" title="直接链接到 检查文件系统">​</a></h3>
<p>如果之前正常挂载的磁盘现在显示为<strong>不可挂载</strong>，这通常表示文件系统损坏。这可能由未清洁的关机、失败的写操作或磁盘在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_2_35_1761326048921" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> 中被标记为禁用所导致。检查和修复文件系统通常比执行重建更快更安全，因此建议在格式化或重建磁盘之前尝试此操作。</p>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>If the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="web-gui_0_7_1761326048921" data-tooltip-html="The web-based graphical user interface for managing your Unraid server through a browser. The primary way most users interact with Unraid." data-tooltip-place="top">WebGUI</a> suggests formatting an unmountable drive, <strong>do not format</strong> unless you intend to erase all data. Formatting will destroy the contents of the drive and update <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_5_99_1761326048921" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a>, making recovery impossible.</p></div></div>
<h4>准备检查  或修复</h4>
<ol>
<li>
<p><strong>识别文件系统类型</strong>：</p>
<ul>
<li>导航到 <strong>主</strong> 选项卡并选择您的磁盘（例如：磁盘 3，缓存）。</li>
<li>找到<strong>文件系统类型</strong>（应为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_2_4_1761326048921" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>、<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_5_1_1761326048921" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 或 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_8_3_1761326048921" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>）。</li>
</ul>
</li>
<li>
<p><strong>以正确模式启动阵列</strong>:</p>
<ul>
<li>对于** <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_5_1761326048921" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> <strong>，在</strong> <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="maintenance-mode_5_1_1761326048921" data-tooltip-html="Feature that starts the array without mounting drives. Enables disk repair, re-assignment, or parity rebuilds without affecting the array&#x27;s active data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Maintenance_mode&quot;&gt;Maintenance Mode - Wikipedia&lt;/a&gt;" data-tooltip-place="top">维护模式</a> **下启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_8_7_1761326048921" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 。</li>
<li>对于 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_0_1761326048921" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> <strong>，请在</strong>正常模式</strong>下启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_4_1761326048921" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 进行 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_5_4_1761326048921" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a> ，或在** <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="maintenance-mode_8_7_1761326048921" data-tooltip-html="Feature that starts the array without mounting drives. Enables disk repair, re-assignment, or parity rebuilds without affecting the array&#x27;s active data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Maintenance_mode&quot;&gt;Maintenance Mode - Wikipedia&lt;/a&gt;" data-tooltip-place="top">维护模式</a> **下进行修复。</li>
<li>对于 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1761326048921" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a></strong> ，请参考下方的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_2_9_1761326048921" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 内容。</li>
</ul>
</li>
<li>
<p><strong>Handle emulated disks</strong>: If the disk is disabled and being emulated, run the check/repair on the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="emulated-disk_1_74_1761326048921" data-tooltip-html="Virtual disk created when a physical drive fails. Uses parity + remaining array drives to emulate the missing drive. The failed drive must be replaced before another one fails." data-tooltip-place="top">emulated disk</a> before attempting a rebuild. If the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="emulated-disk_4_37_1761326048921" data-tooltip-html="Virtual disk created when a physical drive fails. Uses parity + remaining array drives to emulate the missing drive. The failed drive must be replaced before another one fails." data-tooltip-place="top">emulated disk</a> is unmountable, the rebuilt disk will also be unmountable.</p>
</li>
</ol>
<h4>常见错误消息</h4>
<table><thead><tr><th>消息</th><th>意义/行动</th></tr></thead><tbody><tr><td><strong>超级块有错误的幻数</strong></td><td>严重腐败；尝试文件系统修复。</td></tr><tr><td><strong>文件系统脏</strong></td><td>未清关闭；执行文件系统检查。</td></tr><tr><td><strong>元数据损坏检测</strong></td><td>文件系统结构损坏；开始修复。</td></tr><tr><td><strong>未找到有效的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_7_1761326048921" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a></strong></td><td>磁盘可能不属于有效池；检查池分配。</td></tr><tr><td><strong>挂载：错误的文件系统类型、错误的选项等</strong></td><td>文件系统选择错误或磁盘未格式化。</td></tr><tr><td><strong>无法挂载 /dev/mdX：结构需要清理</strong></td><td>文件系统已损坏；执行修复。</td></tr></tbody></table>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="通过-webgui">通过 WebGUI<a href="#通过-webgui" class="hash-link" aria-label="直接链接到 通过 WebGUI" title="直接链接到 通过 WebGUI">​</a></h4>
<ol>
<li><strong>启动阵列</strong>：以正确的模式启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_10_1761326048921" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> （请参阅上面的步骤）。</li>
<li><strong>选择磁盘</strong>：转到 <strong>主</strong> 选项卡并选择您要检查的磁盘。</li>
<li><strong>访问检查选项</strong>：滚动至<strong>检查文件系统状态</strong>。</li>
<li><strong>对于 XFS（Unraid 7.0+）：</strong> 您将看到一个没有选项可供输入的 <strong>检查</strong> 按钮。系统会根据检查结果自动确定必要操作。</li>
<li><strong>对于其他文件系统</strong>：输入必要的选项（详细信息请参阅右上角的<strong>帮助</strong>）。</li>
<li><strong>启动检查</strong>：点击 <strong>检查</strong> 以开始过程。</li>
<li><strong>监控进展</strong>：在输出框中监控进度。如有需要，使用 <strong>刷新</strong>。</li>
<li><strong>查看结果</strong>：查看结果。如果不确定，复制输出并在 <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">论坛</a> 上发帖咨询意见。</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="xfs-自动修复工作流程unraid-70">XFS 自动修复工作流程（Unraid 7.0+）<a href="#xfs-自动修复工作流程unraid-70" class="hash-link" aria-label="直接链接到 XFS 自动修复工作流程（Unraid 7.0+）" title="直接链接到 XFS 自动修复工作流程（Unraid 7.0+）">​</a></h4>
<p>从 Unraid 7.0 开始，通过 WebGUI 完全自动化 XFS 文件系统修复：</p>
<ol>
<li><strong>初始检查</strong>: 点击 <strong>CHECK</strong> 按钮（无需输入选项）</li>
<li><strong>检查结果</strong>:<!-- -->
<ul>
<li><strong>未检测到损坏</strong>：显示“未检测到文件系统损坏”，<strong>CHECK</strong> 按钮保持不变</li>
<li><strong>检测到损坏</strong>：显示“检测  到文件系统损坏”，出现 <strong>FIX</strong> 按钮</li>
</ul>
</li>
<li><strong>修复过程</strong>: 点击 <strong>FIX</strong> 自动修复文件系统</li>
<li><strong>其他操作</strong>: 如有需要，可能会出现 <strong>ZERO LOG</strong> 按钮</li>
<li><strong>完成</strong>: 过程完成后显示“文件系统已修复”</li>
</ol>
<p>此自动系统消除了用户手动输入修复选项的需求，并确保了正确的修复顺序。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="通过命令行">通过命令行<a href="#通过命令行" class="hash-link" aria-label="直接链接到 通过命令行" title="直接链接到 通过命令行">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">XFS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BTRFS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">ZFS</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><p>通过命令行检查 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_8_1761326053182" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a> 文件系统：</p>
<ul>
<li>在<strong>维护模式</strong>下启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_4_1761326053182" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
<li>运行以下命令：<code>xfs_repair -v /dev/mdXp1</code></li>
<li>将 <code>X</code> 替换为磁盘编号（例如 <code>/dev/md1p1</code>）。</li>
<li>对于加密的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_6_1761326053182" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>，使用 <code>/dev/mapper/mdXp1</code>。</li>
<li>对于不在 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_5_1761326053182" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 的驱动器： <code>xfs_repair -v /dev/sdX1</code></li>
<li>确保您使用了正确的设备标识符。</li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>Running this command on an <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_27_1761326053182" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> disk outside of <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="maintenance-mode_0_0_1761326053182" data-tooltip-html="Feature that starts the array without mounting drives. Enables disk repair, re-assignment, or parity rebuilds without affecting the array&#x27;s active data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Maintenance_mode&quot;&gt;Maintenance Mode - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Maintenance Mode</a></strong> will invalidate <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_5_17_1761326053182" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a>.</p></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>通过命令行检查 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_8_1761326053177" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 文件系统：</p>
<ul>
<li>要执行 %%scrub|清除%%（该过程自动检查和修复许多错误），请在 <strong>正常模式</strong> 下启动 %%array|阵列%% 并运行：<code>btrfs scrub start /mnt/diskX</code></li>
<li>如需进行只读检查，请在 <strong>%%Maintenance Mode|维护模式%%</strong> 下启动 %%array|阵列%% 并运行：<code>btrfs check --readonly /dev/mdXp1</code></li>
<li>替换 <code>X</code> 为磁盘编号。</li>
<li>对于不在 %%array|阵列%% 内的磁盘：<code>btrfs check --readonly /dev/sdX1</code></li>
</ul>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>警告</div><div class="admonitionContent_BuS1"><p>Running this command on an <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_27_1761326053177" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> disk outside of <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="maintenance-mode_0_0_1761326053177" data-tooltip-html="Feature that starts the array without mounting drives. Enables disk repair, re-assignment, or parity rebuilds without affecting the array&#x27;s active data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Maintenance_mode&quot;&gt;Maintenance Mode - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Maintenance Mode</a></strong> will invalidate <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="parity_5_17_1761326053177" data-tooltip-html="A redundancy mechanism that protects data against disk failures by storing a checksum across the array.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Parity_bit#RAID_array&quot;&gt;Parity data in RAID arrays | Wikipedia&lt;/a&gt;" data-tooltip-place="top">parity</a>.</p></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p>通过命令行检查 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_8_1761326053195" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 文件系统：</p>
<h4>推荐方法</h4>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1761326053195" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 使用 <strong>scrubbing</strong> 替代传统文件系统检查（如 <code>fsck</code>）。 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_6_3_1761326053195" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a> 会检查池中的所有数据以验证校验和，并在冗余配置中自动修复任何发现的损坏。</p>
<ul>
<li>在 <strong>正常模式</strong> 下启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_5_1761326053195" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 并运行：<code>zpool scrub poolname</code>
<ul>
<li>将 <code>poolname</code> 替换为您的实际 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_2_9_1761326053195" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池名。</li>
</ul>
</li>
</ul>
<p></p><h4>检查池状态</h4>
要查看当前健康状况和进行中的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_1_16_1761326053195" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a> 进度，请使用命令：<code>zpool status -v poolname</code><p></p>
<p>此命令显示有关池健康、任何错误和 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_0_17_1761326053195" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a> 进度的详细信息。</p>
<h4>其他 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1761326053195" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 命令</h4>
<ul>
<li>暂停 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_0_3_1761326053195" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a>：<code>zpool scrub -p poolname</code></li>
<li>停止 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_0_3_1761326053195" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a>：<code>zpool scrub -s poolname</code></li>
<li>列出所有池：<code>zpool list</code></li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1761326053195" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 不需要也不支持传统的 <code>fsck</code> 实用程序。 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_4_7_1761326053195" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 的事务性质意味着它会从一个一致的状态原子性地移动到另一 个状态，使得清除成为首选的完整性检查方法。</p></div></div>
<p>有关 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1761326053195" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 文件系统的全面指南，请查看专用的 <a href="/docs/pr-preview/pr-363/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/">ZFS 存储部分</a>。</p></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><ul>
<li>文件系统修复通常比完整重建更快，并能在不丢失数据的情况下恢复访问。</li>
<li>重建磁盘并 <strong>不会</strong> 解决文件系统损坏；请始终先运行检查或修复。</li>
<li>如果您有疑问，请在 Unraid <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">论坛</a> 上发布您的诊断和错误信息以获取专家协助。</li>
</ul></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="修复文件系统">修复文件系统<a href="#修复文件系统" class="hash-link" aria-label="直接链接到 修复文件  系统" title="直接链接到 修复文件系统">​</a></h3>
<p>如果文件系统检查发现错误，您可能需要进行修复才能再次访问数据。修复通常比完全重建所需的时间少，但重要的是仔细阅读输出，并在不确定任何问题时在 <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">论坛</a> 上寻求帮助。</p>
<p>:::note[Timing]</p>
<p>修复可能需要从几分钟到几个小时，尤其是对于更大或严重受损的文件系统。进度可能看起来很慢，但您可以通过查看主页上的读/写统计来查看活动。</p>
<p>:::</p>
<h4>准备进行修复</h4>
<ol>
<li>
<p><strong>识别文件系统类型</strong>: 进入 <strong>主</strong> 标签页，点击磁盘，查明其文件系统类型是 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_3_21_1761326048922" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>、<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_6_1_1761326048922" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 还是 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_9_4_1761326048922" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>。</p>
</li>
<li>
<p><strong>以正确模式启动阵列</strong>:</p>
<ul>
<li><strong>对于 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_3_1761326048922" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>:</strong> 使用 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="maintenance-mode_0_0_1761326048922" data-tooltip-html="Feature that starts the array without mounting drives. Enables disk repair, re-assignment, or parity rebuilds without affecting the array&#x27;s active data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Maintenance_mode&quot;&gt;Maintenance Mode - Wikipedia&lt;/a&gt;" data-tooltip-place="top">维护模式</a></strong>。</li>
<li><strong>对于 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_3_1761326048922" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a>:</strong> 为 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_1_3_1761326048922" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a> 使用 <strong>正常模式</strong>；为修复使用 <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="maintenance-mode_0_0_1761326048922" data-tooltip-html="Feature that starts the array without mounting drives. Enables disk repair, re-assignment, or parity rebuilds without affecting the array&#x27;s active data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Maintenance_mode&quot;&gt;Maintenance Mode - Wikipedia&lt;/a&gt;" data-tooltip-place="top">维护模式</a></strong>。</li>
<li><strong>For <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_4_1761326048922" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a>:</strong> Use <strong>Normal mode</strong> and run a <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_3_11_1761326048922" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a> to check for errors.  See the <a href="/docs/pr-preview/pr-363/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/">ZFS storage page</a> for guidance on <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_8_17_1761326048922" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> pool maintenance and repair procedures.</li>
</ul>
</li>
<li>
<p><strong>Handle emulated disks</strong>: If the disk is disabled and being emulated, run the repair on the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="emulated-disk_1_68_1761326048922" data-tooltip-html="Virtual disk created when a physical drive fails. Uses parity + remaining array drives to emulate the missing drive. The failed drive must be replaced before another one fails." data-tooltip-place="top">emulated disk</a> before trying to do a rebuild.</p>
</li>
</ol>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="通过-webgui-1">通过 WebGUI<a href="#通过-webgui-1" class="hash-link" aria-label="直接链接到 通过 WebGUI" title="直接链接到 通过 WebGUI">​</a></h4>
<ol>
<li><strong>Start the array</strong>: Start the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_1_12_1761326048922" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> in the correct mode (refer to the section above).</li>
<li><strong>选择磁盘</strong>: 进入 <strong>主</strong> 标签页并点击要修复的磁盘。</li>
<li><strong>访问修复选项</strong>: 向下滚动至 <strong>检查文件系统状态</strong>。</li>
<li><strong>对于 XFS（Unraid 7.0+）</strong>：修复过程是完全自动化的。单击 <strong>检查</strong>，如果检测到损坏，则单击 <strong>修复</strong>，如果提示，则单击 <strong>清零日志</strong>。</li>
<li><strong>对于其他文件系统</strong>: 去除任何会将过程置于仅检查模式的选项（如对于 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_1_25_1761326048922" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 的 <code>--readonly</code>）。</li>
<li><strong>添加建议选项</strong>: 如果提示，根据检查输出添加建议选项。</li>
<li><strong>开始修复</strong>: 点击 <strong>检查</strong> 开始修复。</li>
<li><strong>监控进展</strong>：对输出框中进度保持关注。如需使用 <strong>刷新</strong>。</li>
<li><strong>检查丢失的文件</strong>：如果在修复后注意到一个 <code>lost+found</code> 文件夹，它可能包含不能完全恢复的文件或文件夹。如有必要，可使用备份或 Linux 的 <code>file</code> 命令识别内容。</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>信息</div><div class="admonitionContent_BuS1"><p>如果对输出不确定，将其复制并分享至 <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">Unraid 论坛</a> 寻求专家帮助。使用代码格式选项以保持可读性。</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="通过命令行-1">通过命令行<a href="#通过命令行-1" class="hash-link" aria-label="直接链接到 通过命令行" title="直接链接到 通过命令行">​</a></h4>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">XFS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">BTRFS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">ZFS</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><ul>
<li>在<strong>维护模式</strong>下启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_4_1761326053183" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>。</li>
<li>运行以下命令：<code>xfs_repair /dev/mdXp1</code>。将<code>X</code>替换为磁盘编号（例如，<code>/dev/md1p1</code>）。</li>
<li>对于加密的 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="xfs_0_6_1761326053183" data-tooltip-html="A high-performance filesystem used as the default for array drives in Unraid. Optimized for large files and good handling of random read/write operations.&lt;br&gt;See &lt;a href=&quot;https://docs.redhat.com/en/documentation/red_hat_enterprise_linux/7/html/storage_administration_guide/ch-xfs&quot;&gt;XFS File System - Red Hat Documentation&lt;/a&gt;" data-tooltip-place="top">XFS</a>，使用：<code>/dev/mapper/mdXp1</code>。</li>
<li>如果系统提示使用<code>-L</code>，请重新运行命令如下：<code>xfs_repair -L /dev/mdXp1</code>。通常，这是完成修复所需且安全的操作。</li>
<li>对于不属于<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_5_1761326053183" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>的驱动器：<code>xfs_repair /dev/sdX1</code>。</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>注意</div><div class="admonitionContent_BuS1"><p>Running this command on an <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_27_1761326053183" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> disk outside of <strong><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="maintenance-mode_0_0_1761326053183" data-tooltip-html="Feature that starts the array without mounting drives. Enables disk repair, re-assignment, or parity rebuilds without affecting the array&#x27;s active data.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Maintenance_mode&quot;&gt;Maintenance Mode - Wikipedia&lt;/a&gt;" data-tooltip-place="top">Maintenance Mode</a></strong> will invalidate parity.</p></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><ul>
<li>要执行 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="scrub_0_4_1761326053196" data-tooltip-html="A background maintenance process that checks file system integrity, verifies checksums, and repairs corrupted data when possible (used with BTRFS and ZFS).&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/Data_scrubbing&quot;&gt;Data Scrubbing - Wikipedia&lt;/a&gt;" data-tooltip-place="top">scrub</a>（会自动检测和修复许多错误），请以 <strong>正常模式</strong> 启动 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_5_4_1761326053196" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> 并运行：<code>btrfs scrub start /mnt/diskX</code>。</li>
<li>若需完全修复，请在<strong>维护模式</strong>中启动<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_2_3_1761326053196" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a>并运行：<code>btrfs check --repair /dev/mdXp1</code>。仅在<a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">论坛</a>或文档建议时使用<code>--repair</code>，因为有时可能会导致其他问题。</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Use <code>--repair</code> 使用需谨慎</div><div class="admonitionContent_BuS1"><p>“--repair”选项如果使用不当可能导致数据丢失或加剧损坏。请仅在以下情况下使用：</p><ul>
<li>您已为您的特定错误咨询过 <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">Unraid 论坛</a></li>
<li>您已备份了近期的数据</li>
<li>您了解所涉及的风险</li>
</ul><p>对于大多数 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="btrfs_0_6_1761326053196" data-tooltip-html="“B-Tree File System,” a modern file system option in Unraid that supports features like snapshots and checksumming. Often used for cache pools due to its ability to detect corruption.&lt;br&gt;See &lt;a href=&quot;https://btrfs.readthedocs.io/&quot;&gt;BTRFS File System - Official Documentation&lt;/a&gt;" data-tooltip-place="top">BTRFS</a> 问题，请先尝试运行 <code>scrub</code>（这是更安全的）或在尝试修复之前寻求专家建议。</p></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1761326053351" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池提供内置的完整性检查和自我修复功能，通常不需要传统的文件系统修复。</p>
<h4>对于 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1761326053351" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 池</h4>
<ul>
<li><strong>检查池健康状况：</strong> 使用命令 <code>zpool status poolname</code> 查看池的状态。</li>
<li><strong>运行清理:</strong> 执行 <code>zpool scrub poolname</code>。该命令会自动检测并修复任何损坏。</li>
<li><strong>清除错误：</strong> 排除任何潜在问题后，运行 <code>zpool clear poolname</code> 清除错误状态。</li>
</ul>
<h4>对于 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1761326053351" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 阵列中的磁盘</h4>
<ul>
<li><strong>检查数据集健康状况：</strong> 使用 <code>zfs list -o name,health</code> 查看数据集的健康状况。</li>
<li><strong>运行 scrub:</strong> 您也可以为属于特定池的任何磁盘运行 <code>zpool scrub poolname</code>。</li>
</ul>
<p><a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_0_1761326053351" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 在可用冗余时（例如镜像或 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz1_2_14_1761326053351" data-tooltip-html="ZFS’s implementation of RAID 5, offering single-parity protection with data checksumming for corruption detection.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ1</a> / <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz2_5_3_1761326053351" data-tooltip-html="ZFS’s implementation of RAID 6, providing dual-parity protection with data checksumming, allowing survival of two simultaneous drive failures.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ2</a> / <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="raidz3_8_3_1761326053351" data-tooltip-html="ZFS’s triple-parity implementation, allowing the array to survive three simultaneous drive failures. Useful for very large arrays.&lt;br&gt;See &lt;a href=&quot;https://openzfs.github.io/openzfs-docs/Basic%20Concepts/RAIDZ.html&quot;&gt;RAIDZ - OpenZFS Documentation&lt;/a&gt;" data-tooltip-place="top">RAIDZ3</a> 配置下）自动识别并修复数据损坏。与传统文件系统不同，<a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_11_27_1761326053351" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 通常不需要手动修复命令，因为它会通过校验和来持续监控数据完整性。</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>提示</div><div class="admonitionContent_BuS1"><p>有关 <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="zfs_0_3_1761326053351" data-tooltip-html="“Z File System,” an advanced file system and volume manager with built-in features like snapshots, checksumming, and compression. Available for pools in Unraid.&lt;br&gt;See &lt;a href=&quot;https://en.wikipedia.org/wiki/ZFS&quot;&gt;ZFS - Wikipedia&lt;/a&gt;" data-tooltip-place="top">ZFS</a> 的管理、故障排除和高级修复方案的全面理解，请参考专门的 <a href="/docs/pr-preview/pr-363/zh/unraid-os/advanced-configurations/optimize-storage/zfs-storage/">ZFS 存储页面</a> 以获取详细指南和最佳实践。</p></div></div></div></div></div>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>After 修复</div><div class="admonitionContent_BuS1"><ul>
<li>Stop and restart the <a class="remark-auto-glossary-tooltip-trigger" data-tooltip-id="array_0_21_1761326048922" data-tooltip-html="The collection of data disks managed by Unraid, which can include parity protection. The array is Unraid&#x27;s main storage system, storing data across multiple devices." data-tooltip-place="top">array</a> in <strong>Normal mode</strong>.</li>
<li>驱动器现在应挂载并可访问。</li>
<li>如果您看到一个 <code>lost+found</code> 文件夹，请检查其内容是否有重要文件。</li>
</ul></div></div>
<p>如果您不理解修复输出或过程失败，请在 <a href="https://forums.unraid.net/" target="_blank" rel="noopener noreferrer">Unraid 论坛</a> 上分享您的诊断和修复日志以获得进一步的帮助。</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://translate.unraid.net/unraid-docs/zh" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="文档页面"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/cache-pools/"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">缓存池</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/pr-preview/pr-363/zh/unraid-os/using-unraid-to/manage-storage/apple-time-machine/"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">Apple 时间机器</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#选择文件系统类型" class="table-of-contents__link toc-highlight">选择文件系统类型</a></li><li><a href="#设定文件系统类型" class="table-of-contents__link toc-highlight">设定文件系统类型</a></li><li><a href="#创建文件系统格式化" class="table-of-contents__link toc-highlight">创建文件系统（格式化）</a></li><li><a href="#更改文件系统类型" class="table-of-contents__link toc-highlight">更改文件系统类型</a></li><li><a href="#转换到新的文件系统类型" class="table-of-contents__link toc-highlight">转换到新的文件系统类型</a></li><li><a href="#重新格式化驱动器" class="table-of-contents__link toc-highlight">重新格式化驱动器</a><ul><li><a href="#重新格式化缓存驱动器" class="table-of-contents__link toc-highlight">重新格式化缓存驱动器</a></li></ul></li><li><a href="#btrfs-操作" class="table-of-contents__link toc-highlight">BTRFS 操作</a></li><li><a href="#未分配的驱动器" class="table-of-contents__link toc-highlight">未分配的驱动器</a><ul><li><a href="#使用未分配设备插件" class="table-of-contents__link toc-highlight">使用未分配设备插件</a></li></ul></li><li><a href="#故障排除" class="table-of-contents__link toc-highlight">故障排除</a><ul><li><a href="#驱动器显示为无法挂载" class="table-of-contents__link toc-highlight">驱动器显示为无法挂载</a></li><li><a href="#检查文件系统" class="table-of-contents__link toc-highlight">检查文件系统</a><ul><li><a href="#通过-webgui" class="table-of-contents__link toc-highlight">通过 WebGUI</a></li><li><a href="#xfs-自动修复工作流程unraid-70" class="table-of-contents__link toc-highlight">XFS 自动修复工作流程（Unraid 7.0+）</a></li><li><a href="#通过命令行" class="table-of-contents__link toc-highlight">通过命令行</a></li></ul></li><li><a href="#修复文件系统" class="table-of-contents__link toc-highlight">修复文件系统</a><ul><li><a href="#通过-webgui-1" class="table-of-contents__link toc-highlight">通过 WebGUI</a></li><li><a href="#通过命令行-1" class="table-of-contents__link toc-highlight">通过命令行</a></li></ul></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">文档</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/pr-preview/pr-363/zh/">主页</a></li><li class="footer__item"><a href="https://github.com/unraid/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">在 Github 上贡献<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">社区</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://forums.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">论坛<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.unraid.net/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid 首页<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://connect.myunraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">Unraid Connect<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://newsletter.unraid.net" target="_blank" rel="noopener noreferrer" class="footer__link-item">通讯<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://unraid.net/blog" target="_blank" rel="noopener noreferrer" class="footer__link-item">博客<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">License</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-sa/4.0/" target="_blank" rel="noopener noreferrer" class="footer__link-item" description="This documentation is available under the Creative Commons Attribution-ShareAlike 4.0 International License. Feel free to share, copy, and use our docs however you need. You can even modify and build upon them for your own projects. Just make sure to give us credit and share any improvements you make under the same license. Note: This license applies only to the documentation content, not to Unraid software or trademarks.">CC BY-SA 4.0<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/docs/pr-preview/pr-363/zh/img/un-mark-gradient.svg" alt="Unraid 标志" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="100"><img src="/docs/pr-preview/pr-363/zh/img/un-mark-gradient.svg" alt="Unraid 标志" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="100"></div><div class="footer__copyright"><small>版权所有 &copy; 2005-2025 Lime Technology, Inc.<br>Unraid&reg; 是 Lime Technology, Inc. 的注册商标。</small></div></div></div></footer></div></div>
</body>
</html>