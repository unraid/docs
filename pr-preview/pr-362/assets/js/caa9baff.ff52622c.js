"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2166],{9005:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"unraid-os/release-notes/6.10.2","title":"6.10.2","description":"Version 6.10.2 2022-05-27","source":"@site/docs/unraid-os/release-notes/6.10.2.md","sourceDirName":"unraid-os/release-notes","slug":"/unraid-os/release-notes/6.10.2","permalink":"/docs/pr-preview/pr-362/unraid-os/release-notes/6.10.2","draft":false,"unlisted":false,"editUrl":"https://github.com/unraid/docs/edit/add-7-2-0-rc-2/docs/unraid-os/release-notes/6.10.2.md","tags":[],"version":"current","frontMatter":{},"sidebar":"unraidSidebar","previous":{"title":"6.10.1","permalink":"/docs/pr-preview/pr-362/unraid-os/release-notes/6.10.1"},"next":{"title":"6.10.3","permalink":"/docs/pr-preview/pr-362/unraid-os/release-notes/6.10.3"}}');var s=i(4848),r=i(8453);const o={},l=void 0,a={},d=[{value:"Version 6.10.2 2022-05-27",id:"version-6102-2022-05-27",level:2},{value:"Data Corruption possible with tg3 driver when Intel VT-d is enabled",id:"data-corruption-possible-with-tg3-driver-when-intel-vt-d-is-enabled",level:3},{value:"How to Disable Intel VT-d on HP MicroServer Gen 8 with a E3-1265LV2",id:"how-to-disable-intel-vt-d-on-hp-microserver-gen-8-with-a-e3-1265lv2",level:4},{value:"Security-related Changes",id:"security-related-changes",level:3},{value:"Other Changes",id:"other-changes",level:3},{value:"Change Log vs. Unraid OS 6.10.1",id:"change-log-vs-unraid-os-6101",level:2},{value:"Base distro",id:"base-distro",level:4},{value:"Linux kernel",id:"linux-kernel",level:4},{value:"Management",id:"management",level:4},{value:"Patches",id:"patches",level:2}];function c(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h2,{id:"version-6102-2022-05-27",children:"Version 6.10.2 2022-05-27"}),"\n",(0,s.jsx)(n.h3,{id:"data-corruption-possible-with-tg3-driver-when-intel-vt-d-is-enabled",children:"Data Corruption possible with tg3 driver when Intel VT-d is enabled"}),"\n",(0,s.jsx)(n.p,{children:"The combination of Linux 5.15 kernel, tg3 driver, and Intel VT-d enabled\nappears to be causing data corruption.\xa0 This has been verified on\nseveral platforms which include a Broadcom NetXtreme Gigabit Ethernet\nNIC (note: there may be others).\xa0 This release includes the following\nworkaround:"}),"\n",(0,s.jsx)(n.p,{children:"Very early in server startup (rc.S) if Intel VT-d is detected enabled,\nthen the script will unconditionally create the file:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"/etc/modprobe.d/tg3.conf"})}),"\n",(0,s.jsx)(n.p,{children:"with following content:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"blacklist\xa0tg3"})}),"\n",(0,s.jsxs)(n.p,{children:['Hence by default if VT-d is enabled, which is to say, it has not been\ndisabled in either bios or via kernel "intel',(0,s.jsx)(n.em,{children:'iommu=off", then we are\ngoing to blacklist the tg3 driver on all platforms. What if someone has\na platform where tg3 does not give them any trouble with VT-d enabled?\nIn this case they must create an _empty'})," file on their flash device:"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"config/modprobe.d/tg3.conf"})}),"\n",(0,s.jsx)(n.p,{children:"When the startup sequence continues it will get to the point where it\nexecutes:"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.code,{children:"install\xa0-p\xa0-m\xa00644\xa0/boot/config/modprobe.d/*\xa0/etc/modprobe.d"})}),"\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.em,{children:"blank"})," tg3.conf file stored on the flash then effectively\nun-blacklists it."]}),"\n",(0,s.jsx)(n.p,{children:"There will be users who will lose network connectivity because their NIC\nis blacklisted. If you are running on a problematic platform you should\ngo into your bios and disable VT-d. If this is a platform without issue,\nthen you will need to create the blank tg3.conf file on your flash\nconfig/modprobe.d directory."}),"\n",(0,s.jsx)(n.p,{children:"It may take some time to identify and integrate a proper fix for this\nissue, at which point we will remove the auto-blacklisting code."}),"\n",(0,s.jsx)(n.h4,{id:"how-to-disable-intel-vt-d-on-hp-microserver-gen-8-with-a-e3-1265lv2",children:"How to Disable Intel VT-d on HP MicroServer Gen 8 with a E3-1265LV2"}),"\n",(0,s.jsx)(n.p,{children:"Reboot the server, then:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"During bootup press F9 to enter the bios."}),"\n",(0,s.jsx)(n.li,{children:"Once the bios is loaded enter the menu System Options \u2192 Processor\nOptions \u2192 Intel(R) VT-d"}),"\n",(0,s.jsx)(n.li,{children:"Set it to disabled"}),"\n",(0,s.jsx)(n.li,{children:"Press Esc to get to the top menu again"}),"\n",(0,s.jsx)(n.li,{children:"Press F10 to exit the bios and save"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["The server should now boot again as normal. Hat tip to Community member\n",(0,s.jsx)(n.a,{href:"https://forums.unraid.net/topic/124108-unraid-os-version-6102-available/#comment-1132042",children:"Oceanic for the\ninstructions"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"security-related-changes",children:"Security-related Changes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"The Firefox browser and has been updated to version 100.0.2 to\naddress a very nasty security vulnerability.\xa0 If you use Firefox we\nalso suggest upgrading on all platforms."}),"\n",(0,s.jsx)(n.li,{children:"We fixed an issue where WebGUI login could accept a password from a\nuser other than 'root', if that username included the string\n'root'."}),"\n",(0,s.jsx)(n.li,{children:'The Linux kernel was updated to 5.15.43 to address a "security\nbypass" vulnerability.'}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"other-changes",children:"Other Changes"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'On Management Access page, for the "Use SSL/TLS" setting we\nchanged the word "Auto" to "Strict" in the drop-down menu.\xa0 This\nbetter describes the action of this setting.'}),"\n",(0,s.jsx)(n.li,{children:"Docker manager now uses Docker label for icons as fallback."}),"\n",(0,s.jsx)(n.li,{children:"VM manager now gives the option of using LibVirt networks in\naddition to bridges without having to edit the VM's XML."}),"\n",(0,s.jsx)(n.li,{children:"Improved handling of custom SSL certificates."}),"\n",(0,s.jsx)(n.li,{children:"[6.10.1] Fix regression: support USB flash boot from other than\npartition 1"}),"\n",(0,s.jsx)(n.li,{children:"other misc. bug fixes"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"change-log-vs-unraid-os-6101",children:"Change Log vs. Unraid OS 6.10.1"}),"\n",(0,s.jsx)(n.h4,{id:"base-distro",children:"Base distro"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"firefox AppImage: version: 100.0.r20220519220738 (CVE-2022-1802\nCVE-2022-1529)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"linux-kernel",children:"Linux kernel"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"version 5.15.43-Unraid (CVE-2022-21499)"}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"management",children:"Management"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"nginx: avoid appending default port number to redirect URLs"}),"\n",(0,s.jsx)(n.li,{children:"nginx: self-signed cert file: accept common name and all alternate\nnames"}),"\n",(0,s.jsx)(n.li,{children:"startup: fix multiple network interfaces being assigned the same MAC\naddress"}),"\n",(0,s.jsx)(n.li,{children:"startup: blacklist tg3 by default if Intel VT-d is enabled"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: Management Access: Use SSL/TLS setting: change the word\n'Auto' to 'Strict'"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: Fixed: smGlue not included when selecting a controller"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: Fixed: allow share names with embedded ampersand"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: add LXC terminal support (for LXC Plugin)"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: Docker Web UI to use Docker label for icons as fallback"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: VM Manager: support libvirt networks (make libvirt networks\naccessible via gui)"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: fix issue where 'root' login works with password from\nanother username which includes string 'root'"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: Update OS page spelling corrction: warninging \u2192 warning"}),"\n",(0,s.jsx)(n.li,{children:"WebGUI: helptext review: minor corrections"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"patches",children:"Patches"}),"\n",(0,s.jsxs)(n.p,{children:["With the ",(0,s.jsx)(n.a,{href:"https://forums.unraid.net/topic/185560-unraid-patch-plugin/",children:"Unraid Patch plugin"})," installed, visit ",(0,s.jsx)(n.em,{children:(0,s.jsx)(n.strong,{children:"Tools \u2192 Unraid Patch"})})," to get the following patches / hot fixes:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["A subset of security updates, see ",(0,s.jsx)(n.a,{href:"https://unraid.net/blog/cvd",children:"this blog post"})," for details. We recommend upgrading to the latest stable release for additional security updates."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var t=i(6540);const s={},r=t.createContext(s);function o(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);