# Version 7.0.0 (2025-01-09)

## Overview

This version of Unraid OS includes significant improvements across all subsystems, while attempting to maintain backward compatibility as much as possible.

---

## Key Changes

### Storage

**New Features:**
- unRAID array is now optional. You can set the number of unRAID array slots to 'none', allowing the array to start without any devices assigned. This is ideal for all-SSD/NVMe servers using only ZFS/BTRFS pools.
- Shares can now be configured with pools for both primary and secondary storage, with the mover process transferring files between them.
- Support for hybrid ZFS pools (subpools), except 'spares'.
- LUKS encryption support for ZFS pools and drives.
- Parallel spin up/down for devices in a pool.
- "Delete Pool" button: unassign all devices from a pool and remove the pool without modifying the devices.
- Predefined shares for Docker and VM Managers are auto-created based on available pools.
- Improved default storage allocation profiles for BTRFS and ZFS pools/subpools.
- SSD/NVMe optimization recommendations for all-SSD/NVMe servers.

**Improvements:**
- Pool expansion rules clarified for BTRFS and ZFS.
- Enhanced mover functionality: use mover to empty an array disk with a single command.
- ZFS pool settings: meaningful subpool descriptions and updated terminology ('raid0' now 'stripe').
- LUKS key management: change encryption phrase/keyfile for encrypted disks.
- Improved handling of predefined shares for Docker/VMs.
- Additional USB device passthrough options in webGUI.

**Bug Fixes:**
- Prevent formatting new drives as ReiserFS.
- Correct handling of empty Trial.key on download failure.

**Note:** ReiserFS file system option is now disabled due to upstream kernel removal.

---

### VM Manager

**New Features:**
- VM clones and snapshots: create clones and snapshots directly from the VM Manager.
- evdev passthrough support.
- Inline XML mode: view and edit VM XML directly in the GUI.
- User-created VM templates.
- QEMU enhancements: ppc64 target, override, command-line passthrough, and multifunction devices.
- SR-IOV support for Intel iGPU.
- Storage override for image locations during VM creation.
- SSD flag for vdisks.
- Unmap support for supported devices.
- ZFS compatibility checks for VM names.

**Improvements:**
- Dashboard: VM usage statistics and improved display of graphics cards/IP addresses.
- VM autostart disable option.
- Improved VM template options for Windows VMs.
- Enhanced migratable CPU and timer support.
- Improved noVNC integration (version 1.5).

**Bug Fixes:**
- Fix for blank Discard field on vDisk.
- Memory leak fixes impacting VM Manager and Dashboard.

---

### Docker

**New Features:**
- Docker PID limit: prevents "fork bomb" scenarios by limiting container process IDs (default 2048).
- Overlay2 storage driver: recommended for ZFS volumes; improves stability over legacy 'native' driver.
- Custom registry with port support.
- Lazy unmount to prevent blocking array stop.
- Security updates: CVE-2024-21626, CVE-2024-24557.
- Docker WireGuard bridge: MTU now matches WireGuard default.

**Improvements:**
- Docker Manager: select container networks in WebUI, improved identification of non-dockerman containers.
- rc.docker: only stops Unraid-managed containers, honors 3rd party restart policies.

**Bug Fixes:**
- Fix for unavailable custom Docker networks (requires valid CIDR definitions in settings).

**Note:** See [Add support for overlay2 storage driver](#add-support-for-overlay2-storage-driver) for ZFS-specific guidance.

---

### Networking

**New Features:**
- Tailscale integration: native support via plugin, including HTTPS webGUI access and Tailnet URLs.
- Content-Security-Policy: webGUI can be iframed by domains with valid certificates.
- OpenSSL 3: upgraded for enhanced security.
- IPv4/IPv6 listener improvements: dynamic address changes supported.
- Samba: improved IPv6 support, MacOS Time Machine compatibility restored.
- VPN Manager: all interfaces now added to WireGuard tunnels.

**Improvements:**
- NFS: support for NFS 4.1/4.2, multi-line rule configuration, and improved restart reliability.
- NTP: default server is now time.google.com; update recommended for previous defaults.
- Enhanced shutdown/restart process details.
- More flexible notification and display settings.

**Bug Fixes:**
- Fix for nfsd not restarting properly.
- Fix for MacOS unable to write to 'flash' share.

---

### webGUI

**New Features:**
- Dynamix File Manager, GUI Search, and Unlimited Width Plugin are now integrated.
- Outgoing Proxy Manager: manage outgoing proxies from the webGUI.
- Notification agents: now stored as individual XML files for easier plugin development.
- Favorites: quickly access favorite tools and settings from a new top-level page.
- Display settings: new "width" option for large screens.

**Improvements:**
- Dashboard: server date/time, Docker RAM usage, and improved tile content.
- SMART: enhanced SSD attribute display, including endurance remaining.
- Diagnostics: improved anonymization, new logging, and plugin scan support.
- Local Console Settings: keyboard layout, screen blank time, and persistent Bash history.
- Power Mode: optimize system for efficiency, balance, or performance.
- Web component enhancements for updates, downgrades, and registration.

**Bug Fixes:**
- Various fixes for notifications, JavaScript logging, and translation.
- Always display "delete share" option (disabled if not empty).

---

### Miscellaneous

**Other Changes:**
- Replace very old 'memtest' with Memtest86+ version 6.20.
- Remove support for legacy unraid.net certs and UpdateDNS functionality.
- Various improvements to startup scripts, logging, and system configuration.
- Bug fixes for PHP warnings, console logging, and translation issues.

---

## Upgrade Instructions

### Known Issues

#### ZFS Pools
- Warning about unsupported features in existing ZFS pools due to version upgrade; pools function normally, but upgrading pools prevents mounting in previous Unraid versions.
- New pools created in 7.0 will not mount in 6.12 due to lack of ZFS downgrade support.
- Downgrading from 7.0 to 6.12 may result in hybrid pools not being recognized; use Tools/New Config in 7.0 to preserve slots before rebooting into 6.12.
- ZFS spares not supported; remove 'spares' vdev before upgrading.
- TrueNAS pool imports not currently supported.
- Docker data-root=directory on ZFS: switch to overlay2 storage driver and re-download image layers.
- VM names with invalid ZFS characters will throw errors and disable updates.

#### General Pool Issues
- If pools fail to import with "Wrong Pool State, invalid expansion" or "Too many wrong or missing devices," see this [forum post](https://forums.unraid.net/topic/184435-unraid-os-version-700-available/#findComment-1508012).

#### Drive Spindown Issues
- Drives may not spin down on older Marvell or Intel controllers; may be resolved by a future kernel update.

#### Excessive Flash Drive Activity
- If the system is slow and shows continuous reads from the flash drive, run `touch /boot/config/fastusr` in the web terminal and reboot.

#### Windows Public Share Access
- Windows 11 24H2 changes may prevent guest access to Unraid public shares. Create a user in Unraid matching your Windows account or [re-enable Windows guest fallback](https://techcommunity.microsoft.com/blog/filecab/accessing-a-third-party-nas-with-smb-in-windows-11-24h2-may-fail/4154300) (not recommended).

#### Realtek Network Cards
- Issues reported with Realtek driver plugin. Uninstall before or after upgrade if you have networking issues.

#### Virtual NIC Assignment
- On some systems, a virtual NIC is assigned to eth0 instead of the expected NIC. See this [forum post](https://forums.unraid.net/bug-reports/stable-releases/61214-no-network-after-updating-eth0-assigned-to-virtual-usb-nic-cdc-ethernet-device-with-169-ip-instead-of-mellanox-10gbe-nic-r3407/) for options.

#### Docker Custom Networks
- If custom Docker networks are unavailable, fix CIDR definitions in Docker settings.

---

## Technical Details

### Linux Kernel

- Version: 6.6.68
- Major modules:  
  - CONFIG_MISC_RTSX_PCI: Realtek PCI-E card reader  
  - CONFIG_MISC_RTSX_USB: Realtek USB card reader  
  - CONFIG_DRM_XE: Intel Xe Graphics  
  - CONFIG_DRM_XE_DISPLAY: Enable display support  
  - CONFIG_AUDIT: Auditing support  
  - CONFIG_USB_SERIAL_OPTION: USB driver for GSM and CDMA modems  
  - CONFIG_USB_SERIAL_SIMPLE: USB Serial Simple Driver  
  - CONFIG_USB_UAS: USB Attached SCSI  
  - CONFIG_NFS_V4_1: NFS client support for NFSv4.1  
  - CONFIG_NFS_V4_2: NFS client support for NFSv4.2  
  - CONFIG_DRM_VIRTIO_GPU: Virtio GPU driver  
  - CONFIG_NTFS3_FS: NTFS Read-Write file system support  
  - CONFIG_XFS: XFS file system  
  - CONFIG_BTRFS: BTRFS file system  
  - CONFIG_ZFS: ZFS file system  
  - CONFIG_LUKS: LUKS encryption  
  - CONFIG_LIBVIRT: libvirt virtualization  
  - CONFIG_QEMU: QEMU virtualization  
  - CONFIG_VIRTIO: VirtIO drivers  
  - CONFIG_VFIO: VFIO passthrough  
  - CONFIG_OVMF: OVMF firmware  
  - CONFIG_NTFS_FS: [Removed - legacy read-only NTFS]  
  - Removed XEN support

### Base Distro

- aaa_base: version 15.1
- aaa_glibc-solibs: version 2.40
- aaa_libraries: version 15.1
- acl: version 2.3.2
- acpid: version 2.0.34
- adwaita-icon-theme: version 47.0
- apcupsd: version 3.14.14
- appres: version 1.0.7
- at: version 3.2.5
- at-spi2-atk: version 2.38.0
- at-spi2-core: version 2.54.0
- atk: version 2.38.0
- attr: version 2.5.2
- avahi: version 0.8
- bash: version 5.2.037
- bash-completion: version 2.16.0
- beep: version 1.3
- bin: version 11.1
- bind: version 9.20.4
- bluez-firmware: version 1.2
- bridge-utils: version 1.7.1
- brotli: version 1.1.0
- btrfs-progs: version 6.12
- bzip2: version 1.0.8
- ca-certificates: version 20241120
- cairo: version 1.18.2
- celt051: version 0.5.1.3
- cifs-utils: version 7.1
- coreutils: version 9.5
- cpio: version 2.15
- cpufrequtils: version 008
- cracklib: version 2.10.3
- cryptsetup: version 2.7.5
- curl: version 8.11.1
- cyrus-sasl: version 2.1.28
- db48: version 4.8.30
- dbus: version 1.16.0
- dbus-glib: version 0.112
- dcron: version 4.5
- dejavu-fonts-ttf: version 2.37
- devs: version 2.3.1
- dhcpcd: version 10.0.10
- diffutils: version 3.10
- dmidecode: version 3.6
- dnsmasq: version 2.90
- docker: version 27.0.3
- dosfstools: version 4.2
- e2fsprogs: version 1.47.1
- ebtables: version 2.0.11
- editres: version 1.0.9
- elfutils: version 0.192
- elogind: version 255.5
- elvis: version 2.2_0
- encodings: version 1.1.0
- etc: version 15.1
- ethtool: version 5.19
- eudev: version 3.2.14
- file: version 5.46
- findutils: version 4.10.0
- flex: version 2.6.4
- floppy: version 5.5
- fluxbox: version 1.3.7
- fontconfig: version 2.15.0
- freeglut: version 3.6.0
- freetype: version 2.13.3
- fribidi: version 1.0.16
- fuse3: version 3.16.2
- gawk: version 5.3.1
- gd: version 2.3.3
- gdbm: version 1.24
- gdk-pixbuf2: version 2.42.12
- genpower: version 1.0.5
- git: version 2.47.1
- glew: version 2.2.0
- glib2: version 2.82.4
- glibc: version 2.40
- glibc-zoneinfo: version 2024b
- glu: version 9.0.3
- gmp: version 6.3.0
- gnutls: version 3.8.8
- gptfdisk: version 1.0.10
- graphite2: version 1.3.14
- grep: version 3.11
- gtk+3: version 3.24.43
- gzip: version 1.13
- harfbuzz: version 10.1.0
- hdparm: version 9.65
- hicolor-icon-theme: version 0.18
- hostname: version 3.25
- htop: version 3.3.0
- hwloc: version 2.2.0
- icu4c: version 76.1
- imlib2: version 1.7.1
- inetd: version 1.79s
- infozip: version 6.0
- inih: version 58
- inotify-tools: version 4.23.9.0
- intel-microcode: version 20241112
- iperf3: version 3.17.1
- iproute2: version 6.12.0
- iptables: version 1.8.11
- iputils: version 20240905
- irqbalance: version 1.7.0
- jansson: version 2.14
- jemalloc: version 5.3.0
- jq: version 1.6
- json-c: version 0.18_20240915
- json-glib: version 1.10.6
- kbd: version 2.7.1
- kernel-firmware: version 20241220_9e1d9ae
- keyutils: version 1.6.3
- kmod: version 33
- krb5: version 1.21.3
- lbzip2: version 2.5
- less: version 668
- libICE: version 1.1.2
- libSM: version 1.2.5
- libX11: version 1.8.10
- libXau: version 1.0.12
- libXaw: version 1.0.16
- libXcomposite: version 0.4.6
- libXcursor: version 1.2.3
- libXdamage: version 1.1.6
- libXdmcp: version 1.1.5
- libXevie: version 1.0.3
- libXext: version 1.3.6
- libXfixes: version 6.0.1
- libXfont2: version 2.0.7
- libXfontcache: version 1.0.5
- libXft: version 2.3.8
- libXi: version 1.8.2
- libXinerama: version 1.1.5
- libXmu: version 1.2.1
- libXpm: version 3.5.17
- libXrandr: version 1.5.4
- libXrender: version 0.9.12
- libXres: version 1.2.2
- libXt: version 1.3.1
- libXtst: version 1.2.5
- libXxf86dga: version 1.1.6
- libXxf86misc: version 1.0.4
- libXxf86vm: version 1.1.6
- libaio: version 0.3.113
- libarchive: version 3.7.7
- libcap-ng: version 0.8.5
- libcgroup: version 0.41
- libdaemon: version 0.14
- libdeflate: version 1.23
- libdmx: version 1.1.5
- libdrm: version 2.4.124
- libedit: version 20240808_3.1
- libepoxy: version 1.5.10
- libestr: version 0.1.9
- libevdev: version 1.13.3
- libevent: version 2.1.12
- libfastjson: version 0.99.9
- libffi: version 3.4.6
- libfontenc: version 1.1.8
- libgcrypt: version 1.11.0
- libglvnd: version 1.7.0
- libgpg-error: version 1.51
- libgudev: version 238
- libidn: version 1.42
- libjpeg-turbo: version 3.1.0
- liblogging: version 1.0.6
- libmnl: version 1.0.5
- libnetfilter_conntrack: version 1.1.0
- libnfnetlink: version 1.0.2
- libnftnl: version 1.2.8
- libnl3: version 3.11.0
- libnvme: version 1.11.1
- libpcap: version 1.10.5
- libpciaccess: version 0.18.1
- libpng: version 1.6.44
- libpsl: version 0.21.5
- libpthread-stubs: version 0.5
- libseccomp: version 2.5.5
- libssh: version 0.11.1
- libssh2: version 1.11.1
- libtasn1: version 4.19.0
- libtiff: version 4.7.0
- libtirpc: version 1.3.6
- libtpms: version 0.9.0
- libunistring: version 1.3
- libunwind: version 1.8.1
- libusb: version 1.0.27
- libusb-compat: version 0.1.8
- libuv: version 1.49.2
- libvirt: version 10.7.0
- libvirt-php: version 0.5.8
- libwebp: version 1.5.0
- libwebsockets: version 4.3.2
- libx86: version 1.1
- libxcb: version 1.17.0
- libxcvt: version 0.1.3
- libxkbcommon: version 1.7.0
- libxkbfile: version 1.1.3
- libxml2: version 2.13.5
- libxshmfence: version 1.3.3
- libxslt: version 1.1.42
- libzip: version 1.11.2
- listres: version 1.0.6
- lm_sensors: version 3.6.0
- lmdb: version 0.9.33
- logrotate: version 3.22.0
- lshw: version B.02.19.2
- lsof: version 4.99.4
- lsscsi: version 0.32
- lvm2: version 2.03.29
- lz4: version 1.10.0
- lzip: version 1.24.1
- lzlib: version 1.14
- lzo: version 2.10
- mbuffer: version 20240107
- mc: version 4.8.31
- mcelog: version 202
- mesa: version 24.2.8
- miniupnpc: version 2.1
- mkfontscale: version 1.2.3
- mpfr: version 4.2.1
- mtdev: version 1.1.7
- nano: version 8.3
- ncompress: version 5.0
- ncurses: version 6.5
- net-tools: version 20181103_0eebece
- nettle: version 3.10
- network-scripts: version 15.1
- nfs-utils: version 2.8.2
- nghttp2: version 1.64.0
- nghttp3: version 1.7.0
- nginx: version 1.27.2
- noto-fonts-ttf: version 2024.12.01
- nss-mdns: version 0.14.1
- ntfs-3g: version 2022.10.3
- ntp: version 4.2.8p18
- numactl: version 2.0.13
- nvme-cli: version 2.11
- oniguruma: version 6.9.9
- openssh: version 9.9p1
- openssl: version 3.4.0
- ovmf: version stable202411
- p11-kit: version 0.25.5
- pam: version 1.6.1
- pango: version 1.54.0
- patch: version 2.7.6
- pciutils: version 3.13.0
- pcre: version 8.45
- pcre2: version 10.44
- perl: version 5.40.0
- php: version 8.3.8
- pixman: version 0.44.2
- pkgtools: version 15.1
- procps-ng: version 4.0.4
- pv: version 1.6.6
- qemu: version 9.1.0
- qrencode: version 4.1.1
- readline: version 8.2.013
- reiserfsprogs: version 3.6.27
- rpcbind: version 1.2.6
- rsync: version 3.3.0
- rsyslog: version 8.2102.0
- sakura: version 3.5.0
- samba: version 4.21.1
- sdparm: version 1.12
- sed: version 4.9
- sessreg: version 1.1.3
- setxkbmap: version 1.3.4
- sg3_utils: version 1.48
- shadow: version 4.16.0
- shared-mime-info: version 2.4
- slim: version 1.3.6
- smartmontools: version 7.4
- spice: version 0.15.0
- spirv-llvm-translator: version 19.1.2
- sqlite: version 3.46.1
- ssmtp: version 2.64
- startup-notification: version 0.12
- sudo: version 1.9.16p2
- swtpm: version 0.7.3
- sysfsutils: version 2.1.1
- sysstat: version 12.7.6
- sysvinit: version 3.12
- sysvinit-scripts: version 15.1
- talloc: version 2.4.2
- tar: version 1.35
- tcp_wrappers: version 7.6
- tdb: version 1.4.12
- telnet: version 0.17
- tevent: version 0.16.1
- traceroute: version 2.1.6
- transset: version 1.0.4
- tree: version 2.1.1
- usbredir: version 0.8.0
- usbutils: version 018
- userspace-rcu: version 0.15.0
- utempter: version 1.2.1
- util-linux: version 2.40.2
- vbetool: version 1.2.2
- virtiofsd: version 1.11.1
- vsftpd: version 3.0.5
- vte3: version 0.50.2
- wayland: version 1.23.1
- wget: version 1.25.0
- which: version 2.21
- wireguard-tools: version 1.0.20210914
- wqy-zenhei-font-ttf: version 0.8.38_1
- wsdd2: version 1.8.7
- xauth: version 1.1.3
- xcb-util: version 0.4.1
- xcb-util-keysyms: version 0.4.1
- xclock: version 1.1.1
- xdpyinfo: version 1.3.4
- xdriinfo: version 1.0.7
- xev: version 1.2.6
- xf86-input-evdev: version 2.11.0
- xf86-input-keyboard: version 1.9.0
- xf86-input-mouse: version 1.9.3
- xf86-input-synaptics: version 1.9.2
- xf86-video-ast: version 1.1.5
- xf86-video-mga: version 2.1.0
- xf86-video-vesa: version 2.6.0
- xfsprogs: version 6.12.0
- xhost: version 1.0.9
- xinit: version 1.4.2
- xkbcomp: version 1.4.7
- xkbevd: version 1.1.6
- xkbutils: version 1.0.6
- xkeyboard-config: version 2.43
- xkill: version 1.0.6
- xload: version 1.2.0
- xlsatoms: version 1.1.4
- xlsclients: version 1.1.5
- xmessage: version 1.0.7
- xmodmap: version 1.0.11
- xorg-server: version 21.1.15
- xprop: version 1.2.8
- xrandr: version 1.5.3
- xrdb: version 1.2.2
- xrefresh: version 1.1.0
- xset: version 1.2.5
- xsetroot: version 1.1.3
- xsm: version 1.0.6
- xterm: version 396
- xtrans: version 1.5.2
- xwd: version 1.0.9
- xwininfo: version 1.1.6
- xwud: version 1.0.7
- xxHash: version 0.8.3
- xz: version 5.6.3
- yajl: version 2.1.0
- zfs: version 2.2.7_6.6.68_Unraid
- zlib: version 1.3.1
- zstd: version 1.5.6

---

## Rollback Instructions

- The Dynamix File Manager, GUI Search, and Unlimited Width Plugin plugins are now built into Unraid. If you rollback to an earlier version, you will need to reinstall those plugins to retain their functionality.
- If you disabled the unRAID array, enable it again before rolling back.
- Re-enable outgoing proxies if previously configured.
- If rolling back after enabling the overlay2 storage driver, delete the Docker directory and let Docker re-download image layers.
- If rolling back after installing Tailscale in a Docker container, edit the container, make a dummy change, and **Apply** to rebuild the container without Tailscale integration.
- After rolling back, make a dummy change to each WireGuard config to update settings.
- If rolling back earlier than 6.12.14, see the [6.12.14 release notes](6.12.14.md#rolling-back).

---

## Appendices

### Patch Notes

| Patch                | Description                                              |
|----------------------|----------------------------------------------------------|
| mover                | Fix for shares with spaces in the name from array to pool|
| File Manager         | Allow access to UD remote shares                         |
| Share Listing        | Tooltip showed `%20` instead of space                    |
| VM Manager           | Fix for blank Discard field on vDisk                     |
| Diagnostics          | Include installed patches in diagnostics                 |

**Note:** If you have the Mover Tuning plugin installed, you will be prompted to reboot to apply these patches.

---

## Special Thanks

- @bonienl, @dlandon, @ich777, @JorgeB, @SimonF, @Squid for their direction, support, and development work on this release.
- @bonienl for merging the Dynamix File Manager plugin into the webgui.
- @Squid for merging the GUI Search and Unlimited Width Plugin plugins into the webgui.
- @ludoux (Proxy Editor plugin) and @Squid (Community Applications plugin) for pioneering the work on http proxy support, several ideas of which have been incorporated into the webgui.
- @ich777 for maintaining third-party driver plugins, and for the [Tailscale Docker integration](#tailscale-integration).
- @SimonF for significant new features in the Unraid OS VM Manager.
- @EDACerton for development of the Tailscale plugin.

**Community Contributors:**  
almightyYantao, baumerdev, Commifreak, desertwitch, dkaser, donbuehl, FunkeCoder23, Garbee, jbtwo, jski, Leseratte10, Mainfrezzer, mtongnz, othyn, serisman, suzukua, thecode

Sincere thanks to everyone who has requested features, reported bugs, and tested pre-releases!

[View the contributors to Unraid on GitHub](https://github.com/unraid/webgui/graphs/contributors?from=2023-09-08&to=2025-01-08&type=c)
