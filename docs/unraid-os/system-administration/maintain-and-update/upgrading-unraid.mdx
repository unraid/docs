---
sidebar_position: 2
sidebar_label: Upgrading Unraid
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import UpgradeModern from './partials/upgrade-modern.mdx';
import UpgradeLegacy611612 from './partials/upgrade-legacy-611-612.mdx';
import ManualDowngradeSimplest from './partials/manual-downgrade-simplest.mdx';
import ManualDowngradeCommandLine from './partials/manual-downgrade-command-line.mdx';

# Upgrading Unraid

Upgrading Unraid OS ensures that you have the latest features, security updates, and hardware support. This page outlines the standard upgrade process, along with troubleshooting tips and manual upgrade options.

:::note[Prerequisites]
Before you start upgrading, make sure to create a complete backup of your USB flash device. For more details, refer to [Backing up your flash device](../maintain-and-update/changing-the-flash-device.mdx#backing-up-your-flash-device).
:::

:::tip[Best practices before upgrading]
1. **Make a backup** of your flash drive and any important data.
2. **Read the Release Notes** for the version you plan to install.
3. **Update all plugins** to their latest versions.
4. **Optionally, stop the array** before proceeding.
5. **Update Unraid OS** using the ***Tools → Update OS*** page.
6. **Reboot** your server to complete the upgrade.
:::

## Standard upgrade process

<Tabs>
  <TabItem value="Modern (2025)" label="Unraid 7.x and later" default>
    <UpgradeModern />
  </TabItem>

  <TabItem value="Legacy (6.11 to 6.12)" label="Unraid 6.11 to 6.12">
    <UpgradeLegacy611612 />
  </TabItem>
</Tabs>

:::caution[ZFS pool upgrade warnings]
When upgrading to Unraid 7.x, you may see warnings about [%%ZFS|zfs%%](../../advanced-configurations/optimize-storage/zfs-storage.mdx) pool feature upgrades during boot or in the %%WebGUI|web-gui%%. These warnings are not a sign of a problem; they simply indicate that your %%ZFS|zfs%% pool is using features from an older version of ZFS.

Upgrading your pool isn't urgent, but if you do decide to upgrade, keep in mind that it may not work with previous versions of Unraid. This means you may not be able to revert to a previous Unraid version after making the upgrade.

As always, remember to back up your data before upgrading your %%ZFS|zfs%% pools.
:::

---

## Troubleshooting upgrade issues

If you run into problems after upgrading, check the relevant section below for assistance.

<details>
  <summary><strong>Array or docker containers are slow to start after upgrade</strong> - Click to expand/collapse</summary>

  A one-time migration may be necessary for Docker containers after certain upgrades. This process can take time, especially if you have many images. Be patient during this process; performance should normalize after the initial start.
</details>

<details>
  <summary><strong>Docker containers are not working correctly after upgrade</strong> - Click to expand/collapse</summary>

  If you encounter errors like *"layers from manifest don't match image configuration,"* you may need to rebuild your Docker image file. Here’s how:

  1. Go to ***Settings → Docker*** and stop the Docker service.
  2. Check the box to delete the Docker image and click the delete button.
  3. Restart Docker to recreate the image.
  4. Navigate to the **Apps** tab, **Previous Apps** and check off what you wish to reinstall and click **"Install xx Applications"**.
</details>

<details>
  <summary><strong>VMs show "cannot get interface MTU" or network errors</strong> - Click to expand/collapse</summary>

  If you've used a custom bridge name for %%VM|vm%% networking, update all %%VMs|vm%% to use the default `br0` bridge by following these steps:

  1. Go to the **VMs** tab and edit each %%VM|vm%% (make sure to enable **Advanced View**).
  2. Set the network bridge to `br0` and click **Apply**.
  3. Navigate to ***Settings → VM Manager*** (in **Advanced View**) and set the default bridge to `br0`.
</details>

<details>
  <summary><strong>VNC access to VMs is not working or is slow</strong> - Click to expand/collapse</summary>

  For older %%VMs|vm%%, you may need to update the %%VNC|vnc-session%% video driver:

  1. Edit the %%VM|vm%% from the **VMs** tab (select **Advanced View**).
  2. Set the **%%VNC|vnc-session%% Video Driver** to **QXL** (recommended). Try **Cirrus** or **vmvga** if you have limited success with QXL.
  3. Click **Apply** to save the changes.
</details>

<details>
  <summary><strong>VM will not boot (EFI shell appears)</strong> - Click to expand/collapse</summary>

  If you have %%OVMF|ovmf%%-based %%VMs|vm%% created in older Unraid versions, you might encounter an EFI shell. You can boot the %%VM|vm%% by entering the following commands:

  1. Type `fs0:`.
  2. Then type `cd efi/boot`.
  3. Finally, type `bootx64.efi`.

  If `fs0:` doesn't work, you can try `fs1:` instead. If you continue to have issues, please visit the [Unraid forums](https://forums.unraid.net/) for assistance.
</details>

<details>
  <summary><strong>Trying to start my VM gives an "Invalid machine type" error</strong> - Click to expand/collapse</summary>

  To resolve this, edit the %%VM|vm%% in the %%WebGUI|web-gui%% and click **Apply** without making any changes. This action will update the machine type to the latest supported version.
</details>

<details>
  <summary><strong>Poor VM performance after upgrading</strong> - Click to expand/collapse</summary>

  If your %%VM|vm%% is slow after an upgrade, go to the %%VM|vm%% settings (in **Advanced View**) and update the **Machine** type version to the latest revision (e.g., change from `i440fx-2.5` to `i440fx-2.7`). Make sure not to change the prefix (for example, don't switch from `i440fx` to `Q35`).
</details>

---

## Manual upgrade or downgrade

Manual upgrades are infrequently necessary but may be needed if you can't access the %%WebGUI|web-gui%% or need to revert to a prior version. Before proceeding, it's important to back up your USB flash device, details of which you can find in [Backing up your flash device](../maintain-and-update/changing-the-flash-device.mdx#backing-up-your-flash-device).

### Downgrade using the Downgrade OS tool (if WebGUI is accessible)

If you can reach the WebGUI:

1. Log in to the %%WebGUI|web-gui%%.
2. Navigate to ***Tools → Downgrade OS***.
3. Your previous version will be listed as the available downgrade option.
4. Click **Downgrade** and follow the prompts.
5. Reboot your server when prompted.

:::caution
Keep in mind that downgrading can lead to compatibility issues with plugins or Docker containers. Always back up your USB flash device and any important data beforehand.
:::

### Manual methods (if WebGUI is inaccessible)

Only use these methods if you can't access the %%WebGUI|web-gui%%:

<Tabs>
  <TabItem value="Simplest method" label="Simplest method">
    <ManualDowngradeSimplest />
  </TabItem>

  <TabItem value="Command line method" label="Command line method">
    <ManualDowngradeCommandLine />
  </TabItem>
</Tabs>
