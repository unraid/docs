---
title: Verwendung der Unraid API
description: Erfahren Sie, wie Sie √ºber die GraphQL API mit Ihrem Unraid-Server interagieren k√∂nnen
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ManageApiKeysGui from './partials/manage-api-keys-gui.mdx';
import ManageApiKeysCli from './partials/manage-api-keys-cli.mdx';

# Verwendung der Unraid API

:::tip[Quick Start]
Die Unraid-API bietet eine GraphQL-Schnittstelle, mit der Sie mit Ihrem Unraid-Server interagieren k√∂nnen. Diese Anleitung hilft Ihnen, die Erkundung und Nutzung der API zu beginnen.
:::

Die Unraid-API bietet eine GraphQL-Schnittstelle, mit der Sie mit Ihrem Unraid-Server interagieren k√∂nnen. Diese Anleitung hilft Ihnen, die Erkundung und Nutzung der API zu beginnen.

## üéÆ Aktivieren des GraphQL-Sandkastenes

### WebGUI-Methode (Empfohlen)

:::info[Preferred Methode]
Die Nutzung des WebGUI ist der einfachste Weg, die GraphQL-Sandbox zu aktivieren.
:::

1. Navigieren Sie zu **Einstellungen** ‚Üí **Verwaltungszugriff** ‚Üí **Entwickleroptionen**
2. Schalten Sie den **GraphQL-Sandbox**-Schalter ein
3. Zugriff auf den GraphQL-Spielplatz durch Navigieren zu:

   ```txt
   http://YOUR_SERVER_IP/graphql
   ```

### CLI-Methode

Alternativ k√∂nnen Sie den Entwicklermodus √ºber die CLI aktivieren:

```bash
unraid-api developer --sandbox true
```

Oder den interaktiven Modus nutzen:

```bash
unraid-api developer
```

## üîë Authentifizierung

:::warning[Required f√ºr die meisten Operationen]
Die meisten Abfragen und Mutationen erfordern eine Authentifizierung. F√ºgen Sie immer die entsprechenden Anmeldedaten in Ihre Anfragen ein.
:::

Sie k√∂nnen sich authentifizieren mit:

1. **API-Schl√ºssel** - F√ºr programmgesteuerten Zugriff
2. **Cookies** - Automatisch, wenn beim WebGUI angemeldet
3. **SSO/OIDC** - Wenn mit externen Anbietern konfiguriert

### Verwaltung von API-Schl√ºsseln

<Tabs>
  <TabItem value="GUI" label="Web-GUI (Empfohlen)" default>
    <ManageApiKeysGui />
  </TabItem>

  <TabItem value="CLI" label="CLI-Methode">
    <ManageApiKeysCli />
  </TabItem>
</Tabs>

### Verwendung von API-Schl√ºsseln

Der generierte API-Schl√ºssel sollte als Header in Ihren GraphQL-Anfragen enthalten sein:

```json
{
    "x-api-key": "YOUR_API_KEY"
}
```

## üìä Verf√ºgbare Schemata

Die API bietet Zugang zu verschiedenen Aspekten Ihres Unraid-Servers:

### Systeminformationen

- Systemdetails wie CPU-, Speicher- und Betriebssysteminformationen abfragen
- Systemstatus und -gesundheit √ºberwachen
- Zugriff auf Basisplatten- und Hardwareinformationen

### Array-Verwaltung

- Array-Status und -konfiguration abfragen
- Array-Operationen verwalten (Start/Stopp)
- Festplattenstatus und -gesundheit √ºberwachen
- Parit√§tspr√ºfungen durchf√ºhren

### Docker-Verwaltung

- Docker-Container auflisten und verwalten
- Containerstatus √ºberwachen
- Docker-Netzwerke verwalten

### Fernzugriff

- Fernzugriffseinstellungen konfigurieren und verwalten
- SSO-Konfiguration behandeln
- Erlaubte Urspr√ºnge verwalten

### üíª Beispielanfragen

#### Systemstatus √ºberpr√ºfen

```graphql
query {
    info {
        os {
            platform
            distro
            release
            uptime
        }
        cpu {
            manufacturer
            brand
            cores
            threads
        }
    }
}
```

#### Array-Status √ºberwachen

```graphql
query {
    array {
        state
        capacity {
            disks {
                free
                used
                total
            }
        }
        disks {
            name
            size
            status
            temp
        }
    }
}
```

#### Docker-Container auflisten

```graphql
query {
    dockerContainers {
        id
        names
        state
        status
        autoStart
    }
}
```

## üèóÔ∏è Schema-Typen

Die API umfasst mehrere Kern-Typen:

### Basistypen

- `Node`: Schnittstelle f√ºr Objekte mit eindeutigen IDs - siehe [Objekterkennung](https://graphql.org/learn/global-object-identification/)
- `JSON`: F√ºr komplexe JSON-Daten
- `DateTime`: F√ºr Zeitstempelwerte
- `Long`: F√ºr 64-Bit Ganzzahlen

### Ressourcentypen

- `Array`: Array- und Festplattenverwaltung
- `Docker`: Container- und Netzwerkverwaltung
- `Info`: Systeminformationen
- `Config`: Serverkonfiguration
- `Connect`: Fernzugriffseinstellungen

### Rollenbasierter Zugriff

Verf√ºgbare Rollen:

- `admin`: Voller Zugriff
- `connect`: Fernzugriffsfunktionen
- `guest`: Eingeschr√§nkter Lesezugriff

## ‚ú® Bew√§hrte Verfahren

:::tip[Pro Tipps]
1. Verwenden Sie den Apollo-Sandbox, um das Schema zu erkunden und Abfragen zu testen
2. Beginnen Sie mit kleinen Abfragen und f√ºgen Sie schrittweise Felder hinzu, wie ben√∂tigt
3. √úberwachen Sie die Abfragestruktur, um die Leistung aufrechtzuerhalten
4. Verwenden Sie geeignete Rollen und Berechtigungen f√ºr Ihre API-Schl√ºssel
5. Halten Sie Ihre API-Schl√ºssel sicher und erneuern Sie sie regelm√§√üig
:::

## ‚è±Ô∏è Ratenbegrenzung

:::caution[Rate Grenzen]
Die API implementiert eine Ratenbegrenzung, um Missbrauch zu verhindern. Stellen Sie sicher, dass Ihre Anwendungen die Reaktionen auf die Ratenbegrenzung ordnungsgem√§√ü handhaben.
:::

## üö® Fehlerbehandlung

Die API gibt Standard-GraphQL-Fehler im folgenden Format zur√ºck:

```json
{
  "errors": [
    {
      "message": "Error description",
      "locations": [...],
      "path": [...]
    }
  ]
}
```

## üìö Zus√§tzliche Ressourcen

:::info[Learn Mehr]
- Verwenden Sie den Schema-Explorer von Apollo Sandbox, um alle verf√ºgbaren Typen und Felder zu durchsuchen
- Pr√ºfen Sie die Dokumentationsregisterkarte in der Apollo Sandbox f√ºr detaillierte Felderbeschreibungen
- √úberwachen Sie die Gesundheit der API mit `unraid-api status`
- Berichte mit `unraid-api report` zur Fehlerbehebung generieren

F√ºr weitere Informationen zu spezifischen Befehlen und Konfigurationsoptionen, ziehen Sie die [CLI-Dokumentation](cli.mdx) zurate oder f√ºhren Sie `unraid-api --help` aus.
:::
