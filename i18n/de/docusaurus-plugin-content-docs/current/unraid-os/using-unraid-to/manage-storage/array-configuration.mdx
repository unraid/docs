---
sidebar_position: 2
sidebar_label: Arraykonfiguration
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import AddDataDiskParityProtected from "./partials/add-data-disk-parity-protected.mdx";
import AddDataDiskNoParity from "./partials/add-data-disk-no-parity.mdx";
import ParitySwapWhat from "./partials/parity-swap-what.mdx";
import ParitySwapWhen from "./partials/parity-swap-when.mdx";
import RemoveDataDiskStandard from "./partials/remove-data-disk-standard.mdx";
import RemoveDataDiskParityPreserve from "./partials/remove-data-disk-parity-preserve.mdx";
import ArrayCheckParity from "./partials/array-check-parity.mdx";
import ArrayCheckRead from "./partials/array-check-read.mdx";
import TroubleshootMissingDisks from "./partials/troubleshoot-missing-disks.mdx";
import TroubleshootDeviceLimit from "./partials/troubleshoot-device-limit.mdx";
import TroubleshootLicenseIssues from "./partials/troubleshoot-license-issues.mdx";
import TroubleshootKeyServer from "./partials/troubleshoot-key-server.mdx";
import TroubleshootWithdrawnRelease from "./partials/troubleshoot-withdrawn-release.mdx";

# Arraykonfiguration

Unraid's storage system combines flexibility with data protection through its %%array|array%% and %%cache|cache%% architecture. The %%array|array%% manages your primary storage with optional %%parity|parity%% protection, while cache pools accelerate performance.

Im Folgenden sind einige wichtige Prinzipien der Array-Konfiguration aufgeführt:

<details>
  <summary><strong>Verwenden Sie immer Ihr(e) größte(n) Laufwerk(e) für die Parität.</strong></summary>

  When you add more disks to your %%array|array%% later, remember that you can't use a data disk that's larger than your %%parity disks|parity-drives%%. It's a good idea to buy the biggest hard drive for your %%parity disks|parity-drives%% at the start. This way, you won't be limited by smaller sizes when expanding later.

  If you use two %%parity disks|parity-drives%%, they can be different sizes. However, keep in mind that no disk in your %%array|array%% can be larger than the smallest %%parity disks|parity-drives%% you have.
</details>

<details>
  <summary><strong>Verwenden Sie keine SSDs im Array - Bewahren Sie diese für Pools oder unangewiesene Geräte auf.</strong></summary>

  Unraid does not support TRIM or Discard operations for SSDs in the main array. Over time, this will cause SSD performance to degrade if they are used as array members. For best results, use SSDs in %%cache pools|cache-pool%% or as unassigned devices, where these features are supported and long-term performance is maintained. Most modern SSDs, including NVMe, work well in these roles.
</details>

<details>
  <summary><strong>Die Verwendung eines Caches wird die Schreibgeschwindigkeit des Arrays verbessern.</strong></summary>

  Instead of writing directly to the main storage, data is first sent to a dedicated disk or a group of disks. This data is then moved to the main storage at scheduled times, usually once a day at 3:40 AM. The great thing is that data saved to the %%cache|cache%% still appears through your %%user shares|user-share%%, so you don't have to change how you access your files.
</details>

<details>
  <summary><strong>Ein Cache-Pool hilft, Ihre zwischengespeicherten Daten zu sichern.</strong></summary>

  Using only one cache device puts your cached data at risk until it is moved to the main array. To protect your data at all times, use multiple devices configured as a %%cache pool|cache-pool%%. This setup provides redundancy for cached data, reducing the chance of data loss due to a cache device failure.
</details>

<details>
  <summary><strong>SSD-Cache-Geräte sind ideal für Apps und virtuelle Maschinen.</strong></summary>

  Using SSDs helps applications and virtual machines (VMs) run faster because they can access data more quickly. SSDs work well in a %%cache pool|cache-pool%%, giving you an excellent mix of speed, efficiency, and data security.
</details>

<details>
  <summary><strong>Verschlüsselung ist standardmäßig deaktiviert.</strong></summary>

  Wenn Sie die Verschlüsselung auf Ihrem System verwenden möchten, müssen Sie das Laufwerk mit einem verschlüsselten Dateisystemtyp neu formatieren - dabei werden alle vorhandenen Daten auf dem Laufwerk gelöscht. Bevor Sie die Verschlüsselung aktivieren, verschieben Sie Ihre Daten von der Festplatte, ändern Sie das Dateisystem in eine verschlüsselte Option, formatieren Sie die Festplatte und verschieben Sie dann Ihre Daten zurück. Weitere Einzelheiten finden Sie unter [How to encrypt a drive in Unraid](../../system-administration/secure-your-server/securing-your-data.mdx#how-to-encrypt-a-drive-in-unraid).

  Bedenken Sie, dass die Verwendung von Verschlüsselung die Wiederherstellung von Daten erschweren kann, wenn etwas schief läuft. Verwenden Sie sie daher nur, wenn Sie sie wirklich benötigen.
</details>

:::info[Disk Erkennung und Anschlusserkennung]

Unraid identifiziert Festplatten anhand ihrer Seriennummern und Größen, nicht basierend auf den spezifischen SATA-Ports, an die sie angeschlossen sind. Das bedeutet, dass Sie die Laufwerke zwischen verschiedenen SATA-Ports wechseln können, ohne die Zuweisungen in Unraid zu beeinflussen. Diese Funktion ist besonders nützlich bei der Fehlerbehebung von Hardwareproblemen, wie dem Auffinden eines fehlerhaften Ports oder dem Ersetzen von unzuverlässigen Strom- oder SATA-Kabeln.

:::

:::caution

Ihr Array wird nicht gestartet, wenn Sie mehr Geräte zuweisen oder anschließen, als Ihr Lizenzschlüssel erlaubt.

:::

## Array starten/stoppen

Wenn Ihr System hochfährt, startet es normalerweise automatisch die Festplattenablage. Wenn Sie jedoch kürzlich die Festplattenkonfiguration geändert haben, wie z.B. das Hinzufügen einer neuen Festplatte, bleibt die Ablage ausgeschaltet, um Ihnen die Möglichkeit zu geben, Ihre Konfiguration zu überprüfen.

:::caution

Unraid bietet mehrere Wartungs- und Konfigurationsoptionen für Ihre Speicherablage. Zu den wichtigsten Operationen gehören:

:::

So starten oder stoppen Sie das Array:

1. Klicken Sie auf die Registerkarte **Haupt**.
2. Navigieren Sie zum Abschnitt **Array-Betrieb**.
3. Klicken Sie auf **Start** oder **Stopp**. Möglicherweise müssen Sie das Kontrollkästchen aktivieren, das besagt "Ja, ich möchte dies tun", bevor Sie fortfahren.

---

## Neue Festplatten einrichten

Unraid bietet mehrere Wartungs- und Konfigurationsoptionen für Ihre Speicherablage. Zu den wichtigsten Operationen gehören:

import DocCardList from "@theme/DocCardList";

<DocCardList
  items={[
   {
   type: "link",
   href: "#adding-disks",
   label: "Festplatten hinzufügen",
   description: "Speicherkapazität erweitern",
   },
   {
   type: "link",
   href: "#replacing-disks",
   label: "Festplatten ersetzen",
   description: "Defekte Laufwerke aufrüsten oder austauschen",
   },
   {
   type: "link",
   href: "#removing-disks",
   label: "Festplatten entfernen",
   description: "Arraygröße verringern oder stilllegen",
   },
   {
   type: "link",
   href: "#checking-array-devices",
   label: "Array-Geräte überprüfen",
   description: "SMART-Daten und Diagnosen überwachen",
   },
   {
   type: "link",
   href: "#spinning-disks-down-or-up",
   label: "Festplatten runter- oder hochdrehen",
   description: "Verwaltung des Hoch- oder Herunterfahrens",
   },
   {
   type: "link",
   href: "#reset-the-array-configuration",
   label: "Array-Konfiguration zurücksetzen",
   description: "Array-Struktur neu aufbauen",
   },
  ]}
/>

---

### Festplatten hinzufügen

#### Neue Festplatten einrichten

1. Gehen Sie zu ***Main → Array Devices*** in der Benutzeroberfläche.
2. Wählen Sie den Steckplatz, an dem Sie die Festplatte hinzufügen möchten, und wählen Sie die Festplatte aus der Dropdown-Liste.
3. Standardmäßig werden neue Festplatten der Ablage mit %%XFS|xfs%% formatiert. Wenn Sie stattdessen %%ZFS|zfs%% oder %%BTRFS|btrfs%% verwenden möchten, wählen Sie Ihr bevorzugtes Dateisystem aus dem Dropdown-Menü.

:::tip[Hot-Swap Feature]

Wenn Sie moderne mit Unraid kompatible Hardware verwenden, können Sie Festplatten austauschen, ohne den Server herunterzufahren. Diese Funktion, bekannt als Hot-Swap, ist seit Anbeginn in LimeTech-Servern verfügbar.

:::

#### Clear vs. Pre-Clear

Unraid benötigt Festplatten im gelöschten Zustand - vollständig mit Nullen gefüllt und mit einer speziellen Signatur versehen - bevor sie in eine Parity-geschützte Ablage aufgenommen werden. Dieser Prozess gewährleistet die Parity-Integrität und hält die Ablage während der Festplattenvorbereitung online.

Clearance is mandatory when adding a data disk to a %%parity|parity%%-protected array. If you are adding a %%parity disk|parity-drives%% or working with an array that does not use %%parity|parity%%, clearance is not required.

Der eingebaute Löschvorgang schreibt Nullen im Hintergrund auf die Festplatte, sodass die Ablage verfügbar bleibt. Sobald der Vorgang abgeschlossen ist, muss die Festplatte vor der Verwendung formatiert werden. Diese Methode ist effizient, erfordert keine Drittanbieter-Tools und eignet sich ideal für schnelle Erweiterungen.

Für einen gründlicheren Ansatz führt das Pre-Clear-Verfahren - verfügbar über Plugins wie [Unassigned Devices Preclear](https://unraid.net/community/apps?q=unassigned+devices#r:~:text=enable%20destructive%20mode.-,Unassigned%20Devices%20Preclear,-dlandon) - ein Vorlesen zur Überprüfung auf fehlerhafte Sektoren durch, nullt die Festplatte und überprüft dann die Integrität mit einem Nachlesen. Dieser zusätzliche Schritt hilft, frühe Festplattendefekte zu erkennen, benötigt jedoch deutlich mehr Zeit und erfordert die manuelle Installation des Plugins.

**Faustregel:** Verwenden Sie den integrierten Löschvorgang für schnelle Ergänzungen zu Ihrem Array oder wählen Sie Pre-Clear, wenn Sie umfangreiche Tests der Festplattengesundheit durchführen möchten, bevor Sie eine Festplatte in Betrieb nehmen.

<h4>Clear vs. Pre-Clear Vergleich</h4>

<div
  style={{
   margin: "auto",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  |                            | Löschen                                   | Pre-Clear                                                |                      |                          |   |           |
  | -------------------------- | ----------------------------------------- | -------------------------------------------------------- | -------------------- | ------------------------ | - | --------- |
  | **Zweck**                  | Gewährleistet grundlegende Kompatibilität | Testet das Laufwerk und bereitet es vor                  |                      |                          |   |           |
  | zur Nutzung                |                                           | **Geschwindigkeit**                                      | Funktioniert schnell | Viel langsamerer Vorgang |   | \*\*Array |
  | Auswirkung\*\*             | Läuft im Hintergrund                      | Erfordert, dass das Laufwerk aus dem Array entfernt wird |                      |                          |   |           |
  | **Am besten geeignet für** | Ideal für schnelle Erweiterungen          | Vorteilhaft für die Überprüfung neuer Festplatten        |                      |                          |   |           |
</div>

%%Parity disks|parity-drives%% are a helpful feature that provide an extra layer of protection for your data. They allow your storage system to recover information if a hard drive fails. While using %%parity disks|parity-drives%% is optional, it's highly recommended to keep your data safe.

**Pre-Clear** dauert länger, bietet aber einen gründlichen Test und stellt sicher, dass eine neue Festplatte zuverlässig ist, bevor sie Teil Ihres Arrays wird.

:::caution[Critical Note]

Vermeiden Sie es, eine vorgeklärte Festplatte zu formatieren, bevor Sie sie dem Array hinzufügen, da dies die Clearance-Signatur entfernt.

:::

#### Daten-Festplatten hinzufügen

Das Hinzufügen von Datenfestplatten ist eine großartige Möglichkeit, den Speicherplatz Ihrer Unraid-Ablage zu vergrößern. Indem Sie mehr Festplatten hinzufügen, können Sie mehr Dateien, Anwendungen und Backups aufbewahren und gleichzeitig Ihre Daten schützen.

:::important[Important Note:]

When adding a new data disk, it must be the same size or smaller than your current %%parity disks|parity-drives%%. If you want to use a larger disk, you'll need to replace the %%parity disks|parity-drives%% first with the larger one, then use the old %%parity disks|parity-drives%% as a data disk.

:::

<details>
  <summary><strong>Wie groß muss meine Paritätsfestplatte sein?</strong> - Klicken zum Erweitern/Zusammenklappen</summary>

  ```mdx-code-block

  <Tabs>
    <TabItem value="standard" label="Standard addition (Parity-protected)" default>
      <AddDataDiskParityProtected />
    </TabItem>

    <TabItem value="no-parity" label="Addition without parity">
      <AddDataDiskNoParity />
    </TabItem>
  </Tabs>
  ```
</details>

#### Paritätsfestplatten hinzufügen

%%Parity disks|parity-drives%% are a helpful feature that provide an extra layer of protection for your data. They allow your storage system to recover information if a hard drive fails. While using %%parity disks|parity-drives%% is optional, it's highly recommended to keep your data safe.

:::important\[Requirements]

- **Einzelparität:** Die Festplatte muss mindestens so groß sein wie Ihre größte Datenfestplatte.
- **Dual Parity:** Both %%parity disks|parity-drives%% must also be at least the size of your largest data drive, but they can be different sizes from each other.

:::

Adding a %%parity disk|parity-drives%% is similar to adding a data disk, but there's one important step to keep in mind:

1. After you select the %%parity disk|parity-drives%% and start your storage array, a process called **parity calculation** begins.
2. Während dieses Vorgangs können Sie weiterhin auf Ihre Dateien zugreifen. Allerdings könnte das System etwas langsamer laufen, da es an der Berechnung der Parität arbeitet.

<details>
  <summary><strong>Im Detail: Was ist Parität und warum ist sie wichtig?</strong> - Klicken, um zu erweitern/zu verkleinern</summary>

  %%Parity|parity%% in Unraid protects your data by ensuring that you can recover from a drive failure. With the use of a %%parity disk|parity-drives%%, any single missing disk can be reconstructed by combining the information from all other data drives along with the %%parity|parity%% data.

  Unraid verwendet diese Echtzeit-Parität für zwei primäre Zwecke:

  - Daten wiederherstellen, wenn ein Laufwerk ausfällt
  - Fehler korrigieren, wenn ein defekter Sektor gefunden wird

  Diese Funktion ermöglicht es Ihnen, Ihre Daten sicher zu schützen, auch wenn Festplatten im Laufe der Zeit ausfallen werden.
</details>

<details>
  <summary><strong>Im Detail: Wie funktioniert Unraid Parität?</strong> - Klicken, um zu erweitern/zu verkleinern</summary>

  Unraid works with a special bit called the *parity bit*, which is stored for each bit position across all data disks and is managed by a dedicated %%parity disk|parity-drives%%. The %%parity|parity%% is calculated such that the total number of bits in each position across all disks (including the %%parity disk|parity-drives%%) is always an even number, a process known as even parity.

  Unraid verwendet diese Echtzeit-Parität für zwei primäre Zwecke:

  - Unraid verwendet die XOR (exklusive ODER) Operation für diese Berechnung.
  - Zum Beispiel, wenn Sie vier Laufwerke haben und deren 57. Bits sind 1, 1, 1, 1, dann ist das Paritätsbit für diese Position 0 (weil 1 + 1 + 1 + 1 + 0 = gerade).
  - Wenn die 57. Bits jedoch 1, 0, 0, 0 sind, wird die %%parity|parity%% für diese Position 1 sein (um sicherzustellen, dass die Summe gerade bleibt).

  Beim Hinzufügen eines neuen Laufwerks löscht Unraid es zuerst, indem es Nullen auf alle Bits schreibt. Dadurch kann es schnell in die geschützte Ablage einbezogen werden, da das Schreiben von Nullen die aktuellen Paritätsberechnungen nicht beeinträchtigt.
</details>

<details>
  <summary><strong>Im Detail: Wie funktioniert die Parität bei Unraid?</strong> - Klicken zum Erweitern/Zusammenklappen</summary>

  Unraid works with a special bit called the *parity bit*, which is stored for each bit position across all data disks and is managed by a dedicated %%parity disk|parity-drives%%. The %%parity|parity%% is calculated such that the total number of bits in each position across all disks (including the %%parity disk|parity-drives%%) is always an even number, a process known as even parity.

  - It reads all remaining drives, including the %%parity disk|parity-drives%%.
  - Er wendet die gerade %%parity|parity%% an, um die fehlenden Daten zu rekonstruieren.

  Zum Beispiel, wenn Laufwerk 2 ausfällt:

  - If the related bits are 1, 1, 1 (in addition to the %%parity|parity%%), Unraid calculates: 1 + x + 1 + 1 + 0 = even. Here, x must be 1 to maintain an even total.
  - Wenn die Bits 1, x, 0, 0, 1 = gerade anzeigen, wird x 0 sein.

  This %%parity|parity%% feature allows Unraid to "simulate" the missing disk. You can continue using the array as if the drive were still functional. Once you install a new drive in the failed slot, Unraid will recreate all the missing data based on the current state of %%parity|parity%% and the other disks.

  To ensure ongoing protection and effective recovery, it's important to run regular %%parity checks|parity-check%%.
</details>

<details>
  <summary><strong>Im Detail: Wie werden Daten mit Parität rekonstruiert?</strong> - Klicken zum Erweitern/Zusammenklappen</summary>

  Your %%parity disk|parity-drives%% must be **equal to or larger than your largest data disk**. For instance:

  - If your largest data disk is 10TB, your %%parity disk|parity-drives%% should be at least 10TB.
  - You can use various other data disk sizes freely, as long as none exceeds the size of the %%parity disk|parity-drives%%.
</details>

<details>
  <summary><strong>Wie groß muss meine Paritätsfestplatte sein?</strong> - Klicken zum Erweitern/Zusammenklappen</summary>

  Writing to a %%parity|parity%%-protected array involves four disk operations for each write: reading data, reading %%parity|parity%%, writing data, and writing %%parity|parity%%. This process requires a full rotation from each affected drive, so the overall write speed is limited by the slowest drive involved in the operation.

  Adding a faster %%parity disk|parity-drives%% won't necessarily improve write speeds unless you're writing to multiple slow data disks simultaneously, allowing the %%parity disk|parity-drives%% to handle the load. Typically, the write speed is constrained by the slowest data drive being written to.
</details>

<details>
  <summary><strong>Im Detail: Wie beeinflusst die Parität die Schreibgeschwindigkeit?</strong> - Klicken zum Erweitern/Zusammenklappen</summary>

  Dual %%parity|parity%% enables recovery from **two simultaneous disk failures**. In Unraid, the second %%parity disk|parity-drives%% doesn't simply mirror the first. Instead:

  - **Parity 1:** Employs standard XOR (even) %%parity|parity%% calculations.
  - **Parity 2:** Implements Q-parity using Galois-field syndrome calculations (Reed-Solomon–style), comparable to %%RAID 6|raid6%%. This Galois-field implementation allows Unraid to rebuild from any two simultaneous disk failures. This feature is significant for larger arrays, where the risk of multiple failures increases. Dual %%parity|parity%% significantly boosts resilience without the added overhead of mirrored redundancy.
</details>

:::caution\[Remember]

When setting up a new data storage system, add your data disks **first**, making sure they all use a compatible file system. **After** placing your data disks, you can add a %%parity disk|parity-drives%% to protect against drive failures.

Once your %%parity disk|parity-drives%% is added, remember that any new disk you want to include in the array must be cleared (zeroed) before it's integrated. This is to ensure that the %%parity|parity%% remains valid and continues to protect your data.

:::

#### Laufwerke ersetzen

Sie können Ihr %%parity disk|parity-drives%% Gerät auf ein größeres Gerät aufrüsten, um größere Festplatten im Array zu verwenden, oder ein zusätzliches %%parity disk|parity-drives%% hinzufügen.

:::caution

If you're planning to take the following steps and only have one %%parity disk|parity-drives%%, keep these points in mind:

- Ihre Daten sind ungeschützt, bis der %%parity|parity%% Wiederherstellungsprozess abgeschlossen ist. Wenn während dieser Zeit eine Datenplatte ausfällt, könnten Sie die Informationen auf dieser Platte verlieren.
- Wenn Sie bereits eine ausgefallene Festplatte im System haben, können Sie durch diese Schritte diese nicht mehr neu aufbauen. In diesem Fall sollten Sie das **Paritätstausch**-Verfahren befolgen.

:::

Um ein Paritätslaufwerk zu aktualisieren:

1. **Stoppen Sie das Array:** Verwenden Sie das %%WebGUI|web-gui%%, um das Array zu stoppen.

:::tip

Wenn Ihr Server Hot-Swap unterstützt, müssen Sie nicht herunterfahren, um Festplatten zu wechseln. Sie können die Schritte 2 und 4 sicher überspringen.

:::

2. **Schalten Sie den Server aus:** Schalten Sie Ihren Server aus, um Hardwareänderungen sicher vorzunehmen.
3. **Installieren Sie das neue %%parity disk|parity-drives%%:** Setzen Sie das neue, größere %%parity disk|parity-drives%% in Ihren Server ein.
4. **Schalten Sie den Server ein:** Schalten Sie den Server wieder ein.
5. **Weisen Sie die neue Festplatte zu:** Gehen Sie im Menü zur Paritätsslot und weisen Sie die neue Festplatte zu, indem Sie die alte ersetzen.
6. **Starten Sie das Array:** Verwenden Sie das %%WebGUI|web-gui%%, um das Array erneut zu starten.

Sobald das Array wieder läuft, beginnt Unraid damit, die %%parity|parity%% auf der neuen Festplatte aufzubauen. Sie können während dieser Zeit weiterhin auf Ihre Daten zugreifen, aber bedenken Sie, dass es etwas langsamer sein könnte, bis der Vorgang abgeschlossen ist. Sobald der %%parity|parity%% Aufbau abgeschlossen ist, sind Ihre Daten wieder geschützt!

:::important[Important Tipps]

- **Behalten Sie die alte Festplatte:** Entfernen Sie die alte %%parity disk|parity-drives%% nicht, bis der neue %%parity|parity%% Aufbau abgeschlossen ist. Wenn während des Upgrades eine Datenplatte ausfällt, kann Ihnen die alte Festplatte bei der Datenwiederherstellung helfen.

- **Duale Parität Benutzer:** Wenn Sie zwei %%parity disks|parity-drives%% haben, aktualisieren Sie diese nacheinander für zusätzliche Sicherheit.

- **Repurpose the old disk:** After the upgrade, you can use the old %%parity disk|parity-drives%% as a data disk if it still meets your storage needs.

:::

---

### Laufwerke ersetzen

Möglicherweise müssen Sie aus zwei Hauptgründen Laufwerke in Ihrem Array ersetzen:

1. [**Kapazitätsupgrade**](#upgrading-capacity): Ihr Speicherplatz ist fast voll, und Sie möchten größere Festplatten verwenden.
2. [**Ausfall oder Stilllegung**](#replacing-faileddisabled-disks): Eine Festplatte ist ausgefallen oder wird nicht mehr unterstützt.

Obwohl der Prozess zum Austausch von Disks in beiden Fällen ähnlich ist, sei vorsichtig, da es ein Risiko von Datenverlusten während des Austauschs gibt. Paritätsgeräte helfen, Ihre Daten zu schützen; ein Paritätsgerät kann gegen den Ausfall eines einzelnen Laufwerks sichern, während zwei Geräte gegen Datenverlust schützen können, wenn zwei Laufwerke ausfallen. Seien Sie sich des Schutzniveaus während der Disk-Ersetzungen immer bewusst.

#### Kapazität erweitern

Wenn Sie Ihr Datenlaufwerk gegen ein größeres austauschen, beachten Sie Folgendes:

- **Nicht-montierbare Disks:** Beheben Sie alle nicht montierbaren Disks vor dem Upgrade. Ein nicht montierbarer Status wird während des Wiederaufbaus nicht behoben.

- **Risiken bei Einzelparität:** Wenn Sie eine Einzelparität haben, besteht das Risiko eines Datenverlusts, wenn ein anderes Laufwerk während des Upgrades ausfällt. Suchen Sie Rat in Foren, falls dies geschieht.

- **Schutz durch Dualparität:** Mit Dualparität sind Sie sicher vor Datenverlust, wenn ein Laufwerk ausfällt, während ein einzelnes Laufwerk aufgerüstet wird. Sie können auch zwei Laufwerke gleichzeitig aufrüsten, beachten Sie jedoch, dass dies das Risiko erhöht, da Sie keinen Schutz vor einem weiteren Laufwerksausfall haben.

- **Sichern Sie die alte Disk:** Behalten Sie die Originaldisk solange intakt, bis das Upgrade erfolgreich bestätigt wurde. Dies bietet Ihnen eine Rückfalloption, falls etwas schiefgeht.

:::warning

Der Austausch von Festplatten birgt immer ein gewisses Risiko. Fällt während des Upgrades eine weitere Festplatte aus, insbesondere bei nur einer Parität, kann es zu Datenverlust kommen. Überprüfen Sie immer den Zustand Ihrer Festplatten, bevor Sie den Prozess starten, und stellen Sie sicher, dass Sie die alte Festplatte intakt lassen, bis das Upgrade abgeschlossen und Ihre Daten als sicher bestätigt sind.

:::

Um eine vorhandene Datenfestplatte aufzurüsten:

1. **Run a parity check:** First, ensure the integrity of your data by running a %%parity check|parity-check%%. Go to [***Tools → Parity Check***](#checking-array-devices) and make sure there are **zero errors**. If parity isn't valid, rebuilding the disk will corrupt its file system.

2. **Stoppen Sie das Array:** Als Nächstes möchten Sie das Array stoppen. Navigieren Sie zu ***Main → Array Operation*** und wählen Sie **Stop**.

3. **Entfernen Sie die zu ersetzende Festplatte:** Sobald das Array gestoppt ist, suchen Sie die Festplatte, die Sie ersetzen möchten. Entfernen Sie sie aus ihrem Slot in ***Main → Array Devices***.

4. **Starten Sie das Array:** Starten Sie nun das Array erneut. Unraid wird die fehlende Festplatte mithilfe der vorhandenen Paritäts- und Datenträger emulieren. Sie haben zwei Modi zur Auswahl:
   - **%%Wartungsmodus|maintenance-mode%%:** Dieser Modus verhindert jegliche Schreibvorgänge auf die %%emulierte Festplatte|emulated-disk%%.
   - **Normaler Modus:** Wenn Sie Lese-/Schreibzugriff auf die %%emulierte Festplatte|emulated-disk%% benötigen, wählen Sie diese Option.

:::note

Das Starten des Arrays im Normalmodus ist an diesem Punkt optional. Sie können es verwenden, um zu überprüfen, ob die emulierte Festplatte gemountet wird und die Daten korrekt aussehen, bevor Sie fortfahren, aber es ist nicht erforderlich für den Upgrade-Prozess.

:::

5. Bevor Sie beginnen, stellen Sie sicher, dass das zu ersetzende Datenlaufwerk deaktiviert ist. Wenn die Festplatte ausgefallen ist (zeigt einen roten Indikator), ist sie bereits deaktiviert. Wenn die Festplatte in Ordnung ist, Sie sie jedoch ersetzen möchten, weisen Sie das Laufwerk ab und starten Sie das Array einmal ohne es, um Unraid zu zwingen, es als deaktiviert zu markieren.

6. Wenn Ihre Ersatzdatenfestplatte nicht größer als Ihre Paritätsfestplatte ist, verwenden Sie das Standardverfahren [Ersetzen einer Datenfestplatte](#replacing-faileddisabled-disks).

7. **Starten Sie das Array zum Wiederaufbau:** Starten Sie abschließend das Array erneut. Unraid wird nun den Inhalt des %%emulierten Laufwerks|emulated-disk%% auf die neue Festplatte wiederherstellen. Das Dateisystem passt sich automatisch an, um die volle Kapazität der größeren Festplatte zu nutzen.

#### Fehlerhafte/deaktivierte Festplatten ersetzen

<details>
  <summary><strong>Was ist eine ausgefallene/deaktivierte Festplatte?</strong></summary>

  Eine ausgefallene oder deaktivierte Festplatte ist eine, die Unraid nicht mehr zum Schreiben von Daten verwendet. Das liegt normalerweise an einem Schreibfehler. Beachten Sie, dass dies nicht immer bedeutet, dass die Festplatte selbst defekt ist; manchmal kann es an schlechten Verbindungen, Stromproblemen oder nur einem vorübergehenden Fehler liegen.

  Einige Anzeichen hierfür sind:

  <div class="text--center">
    ![Rotes „X“ zeigt einen Schreibfehler an](/img/Diskfailureindicator.png)

    <p class="caption-center">
      *Dieses rote „X“ zeigt an, welche Festplatte ersetzt werden muss.*
    </p>
  </div>

  <br />

  <div class="text--center">
    ![Fehlermeldungsbenachrichtigung](/img/Diskfailurenotification.png)
    <p class="caption-center">*Achten Sie auf diese Warnungen.*</p>
  </div>

  <br />

  <details>
    <summary><strong>Klicken Sie, um zu sehen, wie verschiedene Paritätskonfigurationen mit Ausfällen umgehen</strong></summary>

    | Ausfallszenario | Keine Parität | Einzelparität | Doppelte Parität |
    | --------------- | ------------- | ------------- | ---------------- |

    \| **1 Festplattenausfall**  | Datenverlust | Wiederherstellbar   | Wiederherstellbar |
    \| **2 Festplattenausfälle** | Datenverlust | Datenverlust     | Wiederherstellbar |

    :::tip[Tipps für sichere Wiederherstellungen]

    - **Für Einzelparität:** Sie können nur eine Festplatte gleichzeitig ersetzen. Wenn eine andere Festplatte während der Wiederherstellung ausfällt, könnten Sie Daten verlieren.
    - **Für Dualparität:** Sie können ein oder zwei Festplatten gleichzeitig ersetzen, aber seien Sie vorsichtig, wenn mehr als zwei Festplatten ausfallen.
      :::

    :::wichtig
    Wenn Sie auf eine Situation stoßen, in der **mehr Festplatten ausfallen, als Ihre Parität schützen kann:**

    1. **Stoppen Sie sofort alle Schreibvorgänge**, um weiteren Datenverlust zu verhindern.
    2. Suchen Sie Hilfe, indem Sie Ihr Problem im [Unraid-Forum](https://forums.unraid.net/) zusammen mit Diagnosedaten posten.
    3. **Versuchen Sie keinen Wiederaufbau**, bis Sie Rat erhalten haben - konzentrieren Sie sich zuerst darauf, Ihre Daten zu retten.
       :::
  </details>
</details>

<details>
  <summary><strong>Wie man das Problem diagnostiziert</strong></summary>

  Um das Problem zu diagnostizieren, beginnen Sie mit der Überprüfung des %%syslog|syslog%% und der %%SMART-Berichte|smart-report%%:

  - Wenn das %%syslog|syslog%% zeigt, dass das Laufwerk zurückgesetzt wurde, könnte es ein Problem mit der Verbindung oder den Kabeln geben.
  - %%SMART reports|smart-report%% can help assess the drive's health, but the best way to check is by running a %%SMART|smart%% extended test. If it completes without errors, the drive is likely fine.
  - Wenn Sie %%CRC-Fehler|crc-errors%% sehen, deutet dies normalerweise auf Probleme mit der Verkabelung hin. Beobachten Sie diese Fehler, da sie sich im Laufe der Zeit ansammeln und nicht zurückgesetzt werden.

    :::Tipp
    Um über Probleme mit Laufwerken informiert zu bleiben, [benachrichtigungen aktivieren](../../getting-started/set-up-unraid/customize-unraid-settings.mdx#notification-settings) in Unraid. So werden Sie sofort gewarnt, wenn etwas schief läuft, was das Risiko für Ihre Daten verringert.
    :::
</details>

<details>
  <summary><strong>Was ist Emulation?</strong></summary>

  Wenn eine Festplatte deaktiviert ist, wird Unraid ihre Parität und andere funktionierende Festplatten verwenden, um die ausgefallene Festplatte zu emulieren. Dies bedeutet, dass Ihr System weiterhin arbeitet und Sie auf die auf der %%emulierten Festplatte|emulierte-Festplatte%% gespeicherten Daten zugreifen können:

  - Unraid wird nicht mehr auf das physische Laufwerk schreiben und alle Updates werden stattdessen in der Parität und der Emulation gespeichert.
  - Bevor Sie das ausgefallene Laufwerk ersetzen, können Sie Daten vom %%emulierten Laufwerk|emulated-disk%% überprüfen und wiederherstellen, was das physische Laufwerk intakt für eine potenzielle Wiederherstellung hält.
  - Falls Sie nicht auf das %%emulierte Laufwerk|emulated-disk%% zugreifen können, muss das Dateisystem vor jedem Neuaufbau repariert werden, da das Reparieren des Dateisystems schneller und effektiver als ein Neuaufbau ist.
</details>

<details>
  <summary><strong>Was ist eine ausgefallene/deaktivierte Festplatte?</strong></summary>

  Eine ausgefallene oder deaktivierte Festplatte ist eine, die Unraid nicht mehr zum Schreiben von Daten verwendet. Das liegt normalerweise an einem Schreibfehler. Beachten Sie, dass dies nicht immer bedeutet, dass die Festplatte selbst defekt ist; manchmal kann es an schlechten Verbindungen, Stromproblemen oder nur einem vorübergehenden Fehler liegen.

  While it's not mandatory, many users choose to pre-clear new drives to test them and help prevent early failure. You can do this with the Preclear plugin, a %%SMART|smart%% extended test, or manufacturer tools.

  :::Achtung
  Wenn Sie versuchen, mit einem nicht einbindbaren %%emulierten Laufwerk|emulated-disk%% wiederherzustellen, wird auch das neue Laufwerk nicht einbindbar. Reparieren Sie immer das Dateisystem, bevor Sie versuchen, wiederherzustellen.
  :::
</details>

Wenn eine Festplatte in Ihrem Unraid-System ausgefallen oder deaktiviert ist, keine Sorge! Sie können sie ersetzen und Ihre Daten wiederherstellen. Folgen Sie einfach diesen einfachen Schritten. Denken Sie daran, dass Sie eine neue Festplatte benötigen, die die gleiche Größe oder größer als die zu ersetzende Festplatte hat, aber nicht größer als Ihre kleinste %%parity disk|parity-drives%% sein darf.

:::important

Bevor Sie beginnen, stellen Sie sicher, dass keine Festplattenfehler oder Warnungen vorliegen. Unraid muss in der Lage sein, alle verbleibenden Festplatten ohne Probleme zu lesen, damit der Wiederaufbau korrekt funktioniert. Wenn eine andere Festplatte ausfällt, könnte dies zu Datenverlust führen.

:::

Um eine Festplatte zu ersetzen und neu zu bauen:

1. Wenn die Fertigstellung der Array wird gestoppt und bereit für einen Daten-Neuaufbau sein.
   - Melden Sie sich beim Unraid %%WebGUI|web-gui%% (der Webschnittstelle) an.
   - Sie können das Array während des Neuaufbaus verwenden, sollten aber für beste Leistung die Nutzung einschränken.

:::tip

Nach Abschluss haben Sie eine größere Paritätsfestplatte und eine ersetzte Datenplatte. Viele Benutzer führen anschließend eine %%parity check|parity-check%% durch, um zusätzliche Sicherheit zu gewinnen, obwohl dies optional ist.

:::

2. **Schalten Sie Ihren Server aus** (nur wenn **kein** Hot-Swap genutzt wird):
   - Falls Ihr Server Hot-Swap nicht unterstützt, müssen Sie ihn komplett herunterfahren.

3. **Ersetzen Sie die ausgefallene Festplatte:**
   - Entfernen Sie die alte, ausgefallene Festplatte aus Ihrem Server.
   - Setzen Sie die neue Festplatte ein. Beachten Sie nur, dass sie mindestens die gleiche Größe wie die alte Festplatte haben muss, aber nicht größer sein darf als Ihre kleinste %%parity disk|parity-drives%%.

4. **Schalten Sie den Server ein** (falls Sie ihn heruntergefahren haben):
   - Schalten Sie Ihren Server wieder ein, wenn Sie ihn heruntergefahren haben.

5. **Weisen Sie die neue Festplatte zu:**
   - Gehen Sie zurück zur Unraid %%WebGUI|web-gui%%.
   - Finden Sie den Slot für die ausgefallene Festplatte und weisen Sie Ihre neue Festplatte diesem Slot zu.

6. **Bestätigen Sie Ihre Aktion:**
   - Sie sehen ein Bestätigungsfenster. Markieren Sie das Kästchen mit der Aufschrift **Ja, ich möchte das tun** und bestätigen Sie.

7. **(Optional) Wählen Sie %%Wartungsmodus|maintenance-mode%%:**
   - Sie können den %%Wartungsmodus|maintenance-mode%% wählen, was den Wiederherstellungsprozess beschleunigen kann. Während dieser Zeit haben Sie jedoch keinen Zugriff auf das Array.
   - Wenn Sie %%Wartungsmodus|maintenance-mode%% wählen, klicken Sie im nächsten Schritt trotzdem auf **Start**, um die Wiederherstellung zu beginnen.

8. **Starten Sie den Neuaufbau:**
   - Klicken Sie auf **Start**, um den Vorgang zu beginnen. Unraid wird Ihre Daten vom %%emulierten Laufwerk|emulated-disk%% auf die neue Festplatte kopieren.
   - Falls Ihre neue Festplatte größer ist, wird Unraid den zusätzlichen Speicherplatz für Sie verwalten.

:::warning

Wenn Unraid Sie während des Wiederaufbaus auffordert, die neue Festplatte zu formatieren, **tun Sie es nicht**. Das Formatieren löscht alle Daten und macht eine Wiederherstellung unmöglich.

:::

<h4>Was Sie während des Neuaufbaus erwarten können</h4>

- **Den Array stoppen:** Beginnen Sie mit dem Zugriff auf die WebGUI und stoppen Sie den Array.
- **Unassign the %%parity drives|parity-drives%%:** Locate the %%parity drives|parity-drives%% slot and set it to "Unassigned."
- **Starten Sie das Array:** Starten Sie das Array schließlich neu, um die Änderungen zu bestätigen und die %%parity drives|parity-drives%% erfolgreich aus der Konfiguration zu entfernen.
- Wenn die alte Festplatte aufgrund von Dateisystemproblemen nicht einbindbar war, wird auch die neue Festplatte nicht einbindbar sein. Bitte lösen Sie alle Dateisystemprobleme, bevor Sie mit dem Wiederaufbau beginnen.

:::note[Additional anmerkungen]

- Mit doppelter Parität können Sie von einem einzelnen ausgefallenen Laufwerk wiederherstellen, aber beachten Sie, dass Sie einen weiteren Ausfall während des Wiederherstellungsprozesses nicht überleben werden.
- Mit einfacher Parität verlieren Sie jegliche Redundanz, was bedeutet, dass zusätzliche Laufwerkausfälle zum Datenverlust führen können.
  :::

:::

#### Ein deaktiviertes Laufwerk wieder aktivieren (auf sich selbst wiederherstellen)

Manchmal wird ein Laufwerk nicht aufgrund eines tatsächlichen Defekts deaktiviert, sondern wegen Problemen wie lockeren Kabeln, Stromproblemen oder vorübergehende Störungen. Falls dies der Fall ist, können Sie versuchen, das deaktivierte Laufwerk wieder zu aktivieren, indem Sie es auf sich selbst wiederherstellen, anstatt es zu ersetzen.

:::important[When um dieses Verfahren zu verwenden]

Verwenden Sie dieses Verfahren nur, wenn:

- Das Laufwerk wurde aufgrund externer Faktoren (wie Kabel oder Stromprobleme) deaktiviert.
- Sie den Gesundheitszustand des Laufwerks mit [%%SMART-Berichten|smart-report%%](../../system-administration/monitor-performance/smart-reports-and-disk-health.mdx) überprüft haben.
- Sie alle externen Probleme behoben haben, die zur Deaktivierung des Laufwerks geführt haben.
- Das Laufwerk scheint normal zu funktionieren.

:::

:::warning[Important Überlegungen]

- Wenn Sie ein Datenlaufwerk wiederherstellen, stellen Sie sicher, dass das %%emulierte Laufwerk|emulated-disk%% den richtigen Inhalt anzeigt, bevor Sie fortfahren. Der Wiederherstellungsprozess gewährleistet, dass das physische Laufwerk dem emulierten exakt entspricht.
- Das %%emulierte Laufwerk|emulated-disk%% kann in einigen Fällen als 'nicht montierbar' angezeigt werden. Einige Benutzer vermuten, dass eine Wiederherstellung ein nicht montierbares emuliertes Laufwerk automatisch reparieren wird, aber es ist wichtig, die Situation zuerst zu überprüfen. Wenn das emulierte Laufwerk als 'nicht montierbar' angezeigt wird oder der Inhalt nicht stimmig aussieht, bitten Sie im [Unraid-Forum](https://forums.unraid.net/) um Hilfe, bevor Sie mit der Wiederherstellung fortfahren.
- Führen Sie immer einen [%%SMART|smart%% erweiterten Test](../../system-administration/advanced-tools/command-line-interface.mdx#smartctl) auf dem deaktivierten Laufwerk durch, um sicherzustellen, dass es gesund ist, bevor Sie diesen Prozess starten.
- Wenn das %%emulierte Laufwerk|emulated-disk%% Dateisystemprobleme zeigt, verwenden Sie die [automatisierte XFS-Reparaturfunktion](../../troubleshooting/common-issues/data-recovery.mdx#running-the-repair) für XFS-formatierte Laufwerke oder die entsprechenden Dateisystem-Reparaturoptionen für andere Dateisysteme im %%WebGUI|web-gui%%, bevor Sie mit der Wiederherstellung beginnen.
- Während der Wiederherstellungsprozess Ihre Daten bewahren sollte, ist es ratsam, wichtige Dateien zu sichern, wenn Sie können.

:::

Um ein deaktiviertes Laufwerk durch Wiederherstellung auf sich selbst zu reaktivieren:

1. **Überprüfen Sie den Laufwerkszustand:**
   - Führen Sie einen [%%SMART|smart%% erweiterten Test](../../system-administration/advanced-tools/command-line-interface.mdx#smartctl) auf dem deaktivierten Laufwerk durch, um zu bestätigen, dass es tatsächlich gesund ist.
   - Check for and acknowledge any warning icons in the dashboard that indicate %%SMART|smart%% warnings.

2. **Stoppen Sie das Array:** Verwenden Sie das %%WebGUI|web-gui%%, um das Array zu stoppen.

3. **Deaktivieren Sie die deaktivierte Festplatte:** Gehen Sie zu ***Main → Array Devices*** und ändern Sie den Slot der deaktivierten Festplatte auf "Nicht zugewiesen."

4. **Starten Sie das Array:** Starten Sie das Array, damit Unraid das fehlende Laufwerk registrieren kann. Das Array wird das Laufwerk als "Nicht installiert" anzeigen.

5. **Überprüfen Sie emulierte Inhalte (nur für Datenlaufwerke)**: Bestätigen Sie, dass das %%emulierte Laufwerk|emulated-disk%% den erwarteten Inhalt zeigt.

6. **Stoppen Sie das Array:** Stoppen Sie das Array, um sich auf die nächsten Schritte vorzubereiten.

7. **Deaktiviertes Laufwerk erneut zuweisen:** Weisen Sie dasselbe Laufwerk seinem ursprünglichen Slot wieder zu.

8. **(Optional) Wählen Sie [%%Wartungsmodus|maintenance-mode%%](../../troubleshooting/common-issues/data-recovery.mdx#maintenance-mode):**
   - Die Wahl von %%Wartungsmodus|maintenance-mode%% kann den Wiederherstellungsprozess beschleunigen, indem sie den Array-Zugang während der Wiederherstellung verhindert.
   - Wenn Sie sich im %%Wartungsmodus|maintenance-mode%% befinden, können Sie das Array nicht verwenden, bis die Wiederherstellung abgeschlossen ist.
   - %%Wartungsmodus|maintenance-mode%% ändert nicht, wie die Wiederherstellung gestartet wird – Sie klicken im nächsten Schritt weiterhin auf **Start**.

9. **Starten Sie die Wiederherstellung:** Klicken Sie auf **Start**, um den Wiederherstellungsprozess zu starten. Unraid wird die Inhalte vom %%emulierten Laufwerk|emulated-disk%% nehmen und sie auf das physische Laufwerk rekonstruieren.

:::info[Rebuild Zeiterwartungen]

Eine Wiederherstellung eines Laufwerks auf sich selbst kann mehrere Stunden bis mehr als einen Tag für größere Laufwerke dauern, abhängig von der Laufwerksgröße und der Systemaktivität. Faktoren, die die Wiederherstellungszeit beeinflussen können, umfassen die Laufwerkskapazität, Laufwerksgeschwindigkeit und Systemlast. Sie können den Fortschritt im %%WebGUI|web-gui%% beobachten.

:::

This procedure works for both data drives and %%parity drives|parity-drives%% that have been disabled.

#### Paritätstausch

```mdx-code-block

<Tabs>
  <TabItem value="what" label="What is parity swap?">
    <ParitySwapWhat />
  </TabItem>

  <TabItem value="when" label="When to use parity swap?">
    <ParitySwapWhen />
  </TabItem>
</Tabs>
```

<details>
  <summary><strong>Beispielszenario</strong></summary>

  Sie haben eine Unraid-Konfiguration mit einer **2 TB Paritätsfestplatte** und einer **1 TB Datenfestplatte** und möchten die 1 TB Festplatte durch eine **4 TB Festplatte** ersetzen.

  Zuerst ordnen Sie das neue 4TB-Laufwerk als Paritätslaufwerk zu, das das 2TB-Laufwerk ersetzen wird. Dann verschieben Sie das ursprüngliche 2TB-Laufwerk in den Datenslot und entfernen das 1TB-Laufwerk vollständig.

  Nach diesen Änderungen haben Sie ein 4TB-Laufwerk als neues Parität, das sicherstellt, dass Sie zukünftig Datenlaufwerke bis zu 4TB hinzufügen können. Das 2TB-Laufwerk beherbergt nun Ihre vorhandenen Daten, während das 1TB-Laufwerk anderweitig verwendet werden kann.

  Dieser Tausch hält Ihre Daten sicher und Ihr Array geschützt, wodurch zukünftige Upgrades möglich werden.
</details>

:::important\[Prerequisites]

- Bevor Sie beginnen, stellen Sie sicher, dass das zu ersetzende Datenlaufwerk deaktiviert ist. Wenn die Festplatte ausgefallen ist (zeigt einen roten Indikator), ist sie bereits deaktiviert. Wenn die Festplatte in Ordnung ist, Sie sie jedoch ersetzen möchten, weisen Sie das Laufwerk ab und starten Sie das Array einmal ohne es, um Unraid zu zwingen, es als deaktiviert zu markieren.
- Wenn Ihre Ersatzdatenfestplatte nicht größer als Ihre Paritätsfestplatte ist, verwenden Sie das Standardverfahren [Ersetzen einer Datenfestplatte](#replacing-faileddisabled-disks).
- Dieses Verfahren ist nur für den Austausch von Festplatten in einer Unraid-Ablage erforderlich, wenn eine Festplatte größer als die aktuelle Paritätsfestplatte eingesetzt wird. Wenn Sie lediglich Ihre Paritätsfestplatte aufrüsten müssen, entfernen Sie einfach die alte Paritätsfestplatte, fügen Sie die neue hinzu und starten Sie das System. Die Parität wird automatisch neu aufgebaut.

:::

:::warning\[Warnings]

- Überprüfen Sie immer den Gesundheitszustand aller Laufwerke mithilfe von %%SMART-Berichten|smart-report%%, bevor Sie einen %%parity swap|parity-swap%% durchführen. Dieser Vorgang erhöht das Risiko eines Datenverlusts, wenn ein weiteres defektes oder gesundes Laufwerk dabei ist.
- Beräumen Sie die neue Festplatte, falls möglich. Obwohl nicht erforderlich, reduziert das Bereinigen die Belastung der Festplatte und das Risiko eines Frühausfalls.
- Identifizieren Sie vor Beginn korrekt alle Festplatten. Notieren Sie sich die Modellnummern und die letzten vier Zeichen jeder Seriennummer, um Fehler bei der Zuweisung zu vermeiden.

:::

Um einen Paritätstausch durchzuführen:

:::note

Wenn die zu ersetzende Festplatte bereits deaktiviert (ausgefallen) ist, müssen Sie möglicherweise die Schritte 1–4 nicht ausführen. Wenn Sie das neue Ersatzlaufwerk bereits installiert haben (z. B. nach dem Preclear), können Sie die Schritte 5–8 überspringen.

:::

1. :::
2. **Weisen Sie das alte Datenlaufwerk nicht zu,** falls es noch zugewiesen ist. Wenn das Laufwerk zuvor gesund war, sehen Sie möglicherweise Fehlerbenachrichtigungen für eine fehlende Festplatte - dies wird erwartet.
3. **Starten Sie das Array.** Wenn Sie aufgefordert werden, überprüfen Sie das Kästchen zur Bestätigung Ihrer Aktion. Das Datenlaufwerk sollte nun als "Nicht installiert" angezeigt werden.
4. Das Datenlaufwerk sollte nun als "Nicht installiert" angezeigt werden.
5. **Server herunterfahren.**

   :::tip
   Wenn Ihr System **Hot-Swap** unterstützt, müssen Sie nicht herunterfahren, um Festplatten zu entfernen oder zu installieren. Stellen Sie nur sicher, dass das Array gestoppt ist, bevor Sie Hardwareänderungen vornehmen.
   :::

:::

6. *(Optional)* **Remove the old drive.** You may wish to keep it installed for testing or reassignment.
7. **Install the new drive.** Pre-clearing is strongly recommended, but formatting is not needed.
8. **Power on the server.**
9. **Stop the array** if it started automatically. If you see a message about retrying to unmount disk shares, disable Docker and/or VM services in Settings, reboot, and try again.
10. **Unassign the parity drive.**
11. **Assign the new drive to the parity slot.** You may receive error notifications - this is normal.
12. **Assign the old %%parity drive|parity-drives%% to the data slot** of the drive being replaced. Both the parity and replacement data drives should now display blue status indicators.
13. **Go to *Main → Array Operation.*** You should see a **Copy** button and a message stating "Copy will copy the parity information to the new %%parity disk|parity-drives%%."
14. **Confirm and start the copy process.** Check the confirmation box and click **Copy**. The array will not be available during this operation.

- Der Kopiervorgang kann viele Stunden dauern, je nach Festplattengröße. Wenn er abgeschlossen ist, wird das Array gestoppt und ist bereit für einen Datenwiederaufbau.

15. Wenn die Fertigstellung der Array wird gestoppt und bereit für einen Daten-Neuaufbau sein.
    - Bestätigen Sie Ihre Aktion, falls Sie dazu aufgefordert werden. Das Array ist nun gestartet, und die Daten werden auf der neuen Datenfestplatte rekonstruiert.
    - Sie können das Array während des Neuaufbaus verwenden, sollten aber für beste Leistung die Nutzung einschränken.
    - Der Neuaufbauprozess wird auch mehrere Stunden dauern.

:::warning

Formatieren Sie niemals ein Laufwerk während dieses Prozesses. Das Formatieren löscht alle Daten und aktualisiert die Parität, wodurch eine Wiederherstellung unmöglich wird.

:::

Nach Abschluss haben Sie eine größere Paritätsfestplatte und eine ersetzte Datenplatte. Viele Benutzer führen anschließend eine %%parity check|parity-check%% durch, um zusätzliche Sicherheit zu gewinnen, obwohl dies optional ist.

---

### So entfernen Sie eine %%Paritätenfestplatte|parity-drives%%:

Es kann eine Zeit kommen, in der Sie eine Festplatte aus Ihrem Unraid-Array entfernen möchten. Ob Sie Energie sparen, ein altes oder unzuverlässiges Laufwerk außer Betrieb nehmen oder Hardware für eine andere Nutzung umfunktionieren möchten, der Prozess ist relativ einfach.

#### Entfernen von Paritätsplatten

If you find that you no longer need the level of %%parity|parity%% protection in your setup, you can remove a %%parity disk|parity-drives%% whenever you want.

Um eine %%parity drives|parity-drives%% zu entfernen:

1. **Den Array stoppen:** Beginnen Sie mit dem Zugriff auf die WebGUI und stoppen Sie den Array.
2. **Unassign the %%parity drives|parity-drives%%:** Locate the %%parity drives|parity-drives%% slot and set it to "Unassigned."
3. **Starten Sie das Array:** Starten Sie das Array schließlich neu, um die Änderungen zu bestätigen und die %%parity drives|parity-drives%% erfolgreich aus der Konfiguration zu entfernen.

:::warning

Before you make any changes, please keep this in mind: If you already have any failed data drives in your array, removing a %%parity disk|parity-drives%% can decrease the number of failures Unraid can handle without risking data loss.

- Mit doppelter Parität können Sie von einem einzelnen ausgefallenen Laufwerk wiederherstellen, aber beachten Sie, dass Sie einen weiteren Ausfall während des Wiederherstellungsprozesses nicht überleben werden.
- Mit einfacher Parität verlieren Sie jegliche Redundanz, was bedeutet, dass zusätzliche Laufwerkausfälle zum Datenverlust führen können.

:::

#### Entfernen von Datenträgern

Removing a data disk is a straightforward process, but it's important to remember that you'll need to perform a %%parity|parity%% sync afterwards. Until this sync is complete, there's a risk of data loss if another disk fails.

Sie können zwischen zwei Methoden wählen, um einen Datenträger zu entfernen:

1. **Standardmethode** - Empfohlen für die meisten Benutzer.
2. **Paritätserhaltende Methode** - Geeignet für fortgeschrittene Benutzer, die die Parität während des Entfernens beibehalten möchten.

```mdx-code-block

<Tabs>
  <TabItem value="standard" label="Standard method" default>
    <RemoveDataDiskStandard />
  </TabItem>

  <TabItem value="parity-preserve" label="Parity-preserve method (Advanced)">
    <RemoveDataDiskParityPreserve />
  </TabItem>
</Tabs>
```

---

### Array-Geräte überprüfen

Regularly checking your Unraid array is crucial for maintaining data integrity and identifying potential issues before they result in data loss. You can initiate a check using the **Check** button under ***Array Operations***. Depending on your array's configuration, this button allows you to conduct either a %%parity check|parity-check%% or a %%read check|read-check%%.

<div
  style={{
   margin: "auto",
   maxWidth: "400px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![Die Überprüfungsschaltfläche ermöglicht es Ihnen, Paritäts- und Leseüberprüfungen durchzuführen.](/img/Check_button.PNG)
</div>

Zur Bequemlichkeit können Sie diese Prüfungen automatisch in Intervallen durchführen lassen, die Ihnen passen, indem Sie zu ***Einstellungen → Planer*** navigieren. Es wird empfohlen, automatisierte, korrigierende Prüfungen monatlich oder vierteljährlich durchzuführen, um die Gesundheit Ihres Datenbestandes aufrechtzuerhalten und gefundene Synchronisationsfehler zu beheben.

#### Paritäts- & Leseprüfungen

```mdx-code-block

<Tabs>
  <TabItem value="parity-check" label="Parity checks" default>
    <ArrayCheckParity />
  </TabItem>

  <TabItem value="read-check" label="Read checks">
    <ArrayCheckRead />
  </TabItem>
</Tabs>
```

#### Verlauf prüfen

Whenever the system performs a %%parity check|parity-check%% or a %%read check|read-check%%, it keeps a record of what happened. You can view these details easily by clicking the **History** button found under ***Array Operations*** in the interface.

Unraid bietet verschiedene Schreibmodi zum Verwalten von Array-Operationen, die jeweils ihre eigenen Vor- und Nachteile in Bezug auf Geschwindigkeit, Stromverbrauch und Laufwerksverschleiß haben. Zu wissen, wie diese Modi funktionieren, zusammen mit der Rolle eines Cache-Laufwerks oder Pools, kann Ihnen helfen, Ihren Server optimal an Ihre Anforderungen anzupassen.

---

### Laufwerke herunter oder hoch drehen

Unraid allows you to control the power states of your hard drives. You can easily %%spin them up or down|spin-state%%, and manage SSDs to be active or in standby. This helps save energy, extend the life of your drives, and reduce noise when the disks are not being used.

<h4>Warum runter- oder hochdrehen?</h4>

- **Hinunterdrehen:** Wenn Sie Laufwerke haben, die nicht oft benutzt werden, kann das Hinunterdrehen Energie sparen und ihre Lebensdauer verlängern.
- **Hochdrehen:** Wenn Sie wissen, dass Sie bald Dateien benötigen, kann das Hochdrehen der Festplatten im Voraus die Wartezeiten verkürzen.

<h4>Wie man Drehzustände kontrolliert</h4>

Sie können die Drehzustände der Festplatten über den **Main**-Tab im WebGUI steuern:

1. **Gehen Sie zum Main-Tab** und suchen Sie Ihre Array-Geräte
2. **Finden Sie die Drehkontrolltasten** – jede Festplatte zeigt entweder an:
   - Klicken Sie auf die 🔘-Schaltfläche, um **hochzudrehen**, wenn die Festplatte derzeit heruntergedreht ist.
   - Klicken Sie auf die 🟢-Schaltfläche, um **runterzudrehen**, wenn die Festplatte derzeit dreht.
3. **Klicken Sie auf die entsprechende Schaltfläche** für die gewünschte Aktion:
   - Klicken Sie auf **Runterdrehen** 🟢, um eine inaktive Festplatte abzuschalten und Energie zu sparen.
   - Klicken Sie auf **Hochdrehen** 🔘, um eine derzeit heruntergedrehte Festplatte hochzufahren.

Denken Sie daran, dass eine Festplatte, die gerade zugegriffen wird (z. B. wenn Sie eine Datei öffnen), aktiv bleibt und eine Runterdreh-Anfrage ignoriert.

Wenn eine Festplatte heruntergefahren ist, wird ihre Temperatur in der %%WebGUI|web-gui%% nicht angezeigt. Sobald jedoch eine Anwendung oder ein Benutzer darauf zugreift, wird sie automatisch hochgefahren.

:::tip

Um den Schreibmodus zu ändern:

:::

---

### Array-Konfiguration zurücksetzen

Das Zurücksetzen Ihrer Array-Konfiguration ist ein wichtiger Schritt, der sorgfältig durchgeführt werden sollte. Dieser Prozess ist normalerweise erforderlich, wenn eine Festplatte entfernt, ein neues Array-Layout erstellt oder Festplattenzuweisungsprobleme behoben werden. Beachten Sie bitte, dass diese Aktion den Datenschutz und die Parität beeinflussen kann. Gehen Sie daher nur dann vor, wenn es wirklich nötig ist.

Häufige Gründe, um Ihr Array zurückzusetzen, sind:

- **Entfernen oder Ersetzen von Festplatten:** Wenn Sie Festplatten aus Ihrem Array entfernen oder austauschen müssen.
- **Neubeginn:** Wenn Sie ein völlig neues Layout für Ihr Array erstellen wollen.
- **Behebung von Zuordnungsfehlern:** Um Probleme bei der aktuellen Zuordnung von Festplatten zu korrigieren.
- **Wiederherstellung von Konfigurationsproblemen:** Bei Herausforderungen mit Ihrer bestehenden Konfiguration.

<div
  style={{
   margin: "auto",
   maxWidth: "650px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![Das Zurücksetzen Ihrer Laufwerkskonfiguration kann über die neue Konfigurationsseite vorgenommen werden](/img/Newconfig.png)
</div>

Um Ihre Array-Konfiguration zurückzusetzen:

1. **Typische einzelne Festplatte:** 70–250 MB/s (abhängig vom Laufwerksmodell, Alter und Datensatzstandort)
2. **Typische SATA SSD:** 400–550 MB/s
3. **NVMe SSD (in einem Pool):** 250–7.000 MB/s (PCIe-Generation und Netz-/PCIe-Beschränkungen gelten; z. B. 10 GbE-Netzwerk begrenzt auf ~1.100 MB/s)
4. Kehren Sie zum **Main** Tab zurück. Nach dem Anwenden der Änderungen wird Ihre Konfiguration zurückgesetzt.
5. Nehmen Sie alle erforderlichen Änderungen an Ihrer Konfiguration vor, indem Sie Festplatten zuweisen oder freigeben, wie es angemessen ist.
6. Starten Sie das Array im Normal- oder Wartungsmodus, um Ihre Updates abzuschließen.

:::important

- Wenn ein Datenträger deaktiviert ist und seine Daten rekonstruiert werden, verwendet Unraid die verbleibenden Laufwerke zusammen mit den Paritätsinformationen, um die Daten wiederherzustellen. Während dieses Prozesses kann die Lesegeschwindigkeit auf 30–60 MB/s oder sogar weniger sinken, abhängig von der langsamsten Festplatte in Ihrem System.
- Any ongoing operations in the array, such as a %%parity check|parity-check%% or rebuilding a drive, can also affect read performance. This is due to increased movement of the drive heads and overall contention for resources.
- **Neusortierung von Festplatten:** Das Ändern der Reihenfolge von Festplatten beeinflusst die Parität1 nicht, kann jedoch die Parität2 ungültig machen.

:::

:::caution

Wenn Sie die **Start**-Schaltfläche sehen, gibt es ein Kontrollkästchen mit der Aufschrift **Parität ist gültig**. Markieren Sie dieses Kontrollkästchen nur, wenn Sie sich sicher sind, dass es korrekt ist, oder wenn ein erfahrener Unraid-Benutzer Ihnen dies während der Wiederherstellung empfohlen hat. Ein fehlerhaftes Markieren dieser Option kann zu Datenverlust führen.

%%Cache-Pools|cache-pool%% in Unraid bieten erhebliche Vorteile, insbesondere für schreibintensive Aufgaben, virtuelle Maschinen (VMs) und Docker-Container. Diese Pools arbeiten separat vom Hauptarray und können mit mehreren Laufwerken entweder mit dem %%BTRFS|btrfs%% oder %%ZFS|zfs%% Dateisystem eingerichtet werden, wobei verschiedene %%RAID|raid%% Konfigurationen zur Geschwindigkeits- und Datensicherheit unterstützt werden.

:::

#### Rückgängigmachen eines Resets

\*Die tatsächlichen NVMe-Geschwindigkeiten hängen von der PCIe-Generation, Kühlung und Netzwerkbandbreite ab (z. B. 10 GbE begrenzt auf ~1.100 MB/s).\*

1. Zugriff auf Ihr Flash-Gerät über das Netzwerk (SMB).
2. Suchen und öffnen Sie den `config`-Ordner.
3. Benennen Sie die Datei `super.old` in `super.dat` um.
4. Starten Sie Ihren Server neu und Ihre vorherige Array-Konfiguration sollte wiederhergestellt sein.

---

### Statusberichte

Unraid bietet Statusberichte, die Ihnen helfen, den Zustand Ihres Speichera arrays im Blick zu behalten. Diese Berichte sind eine schnelle Möglichkeit, zu überprüfen, ob einer Ihrer Datenträger deaktiviert ist oder Probleme mit dem Lesen oder Schreiben von Daten hat.

- **Aktueller Status:** Statusberichte zeigen den aktuellen Zustand Ihres Arrays an. Es ist wichtig zu beachten, dass diese Informationen nach einem Neustart Ihres Systems zurückgesetzt werden. Sie speichern also keine Historie vergangener Probleme.

- **Keine historischen Daten:** Wenn Sie sehen möchten, was vor einem Neustart passiert ist, müssen Sie an anderer Stelle nachsehen, da diese Berichte keine vergangenen Zustände speichern.

:::important

Denken Sie daran, dass die Statusberichte keine %%SMART|smart%% Daten enthalten. %%SMART-Berichte|smart-report%% geben Ihnen eine detailliertere Ansicht des Gesundheitszustands einzelner Festplatten. Auch wenn Ihr Statusbericht zeigt, dass alles in Ordnung ist, ist es dennoch ratsam, die %%SMART-Berichte|smart-report%% regelmäßig zu überprüfen, um potenzielle Probleme frühzeitig zu erkennen.

:::

---

## Array-Schreibmodi

Unraid bietet verschiedene Schreibmodi zum Verwalten von Array-Operationen, die jeweils ihre eigenen Vor- und Nachteile in Bezug auf Geschwindigkeit, Stromverbrauch und Laufwerksverschleiß haben. Zu wissen, wie diese Modi funktionieren, zusammen mit der Rolle eines Cache-Laufwerks oder Pools, kann Ihnen helfen, Ihren Server optimal an Ihre Anforderungen anzupassen.

Wenn während des Wiederaufbaus einer Festplatte eine zweite Festplatte ausfällt, hängt das weitere Vorgehen von Ihrer Paritätskonfiguration ab.

| Schreibmodus                     | Geschwindigkeit (typisch)                | Energieverbrauch | Wenn Laufwerke hochfahren    | Datenschutz       | Beste Einsatzmöglichkeit                                                             |
| -------------------------------- | ---------------------------------------- | ---------------- | ---------------------------- | ----------------- | ------------------------------------------------------------------------------------ |
| Lesen/Modifizieren/Schreiben     | 20–40 MB/s                               | Niedrig          | Nur Parität und Ziellaufwerk | Ja                | Die meisten Arbeitslasten, Energieeinsparungen, kleine Schreibvorgänge               |
| Turbo-Schreiben (Rekonstruktion) | 40–120 MB/s                              | Hoch             | Alle Laufwerke               | Ja                | Große Dateiübertragungen, Array-Wiederherstellungen, %%parity checks\|parity-check%% |
| Cache-Schreiben (SSD/NVMe)       | 50–110 MB/s (SSD), 250–900 MB/s (NVMe)\* | Variiert         | Nur Cache-Laufwerke          | Nein (bis bewegt) | Apps, VMs, häufiges Schreiben, Maximieren der Geschwindigkeit                        |

<h3>Lesen/Modifizieren/Schreiben</h3>

<details>
  <summary>Klicken zum Erweitern/Reduzieren</summary>

  <h4>How it works</h4>
  This mode reads the existing data and the parity, calculates the new parity, and
  then writes the updated data. Only the %%parity drive|parity-drives%% and the
  target data drive spin up, which results in lower power usage and less wear on
  the drives. However, it can be slower due to the additional read/write cycles.

  <h4>Wann zu verwenden</h4>

  - Jederzeit, besonders wenn Sie Energieeinsparungen wünschen und Leerlaufzeit der Laufwerke nutzen möchten.
  - Ideal für kleine oder seltene Schreibvorgänge.
</details>

<h3>Turbo Write (Rekonstruktionsschreiben)</h3>

<details>
  <summary>Klicken zum Erweitern/Reduzieren</summary>

  Turbo Write, auch bekannt als Reconstruct Write, ist eine Funktion, die darauf abzielt, die Schreibgeschwindigkeit Ihres Unraid-Arrays zu erhöhen. Es funktioniert, indem alle Datenträger gelesen und die Parität gleichzeitig aktualisiert werden. Dieser Vorgang eliminiert die Verzögerungen, die durch das Warten auf die Drehung der Platten im Standard-Schreibmodus entstehen. Es ist jedoch wichtig zu beachten, dass alle Array-Laufwerke in Betrieb und funktionstüchtig sein müssen, damit dies effektiv funktioniert.

  <h4>Wie es funktioniert</h4>

  - Wenn Sie neue Daten schreiben, liest Unraid von allen anderen Datenlaufwerken und berechnet gleichzeitig die Parität neu. Sowohl die neuen Daten als auch die aktualisierte Parität werden zusammen geschrieben.
  - Alle Laufwerke im Array müssen betriebsbereit und aktiv drehend sein.
  - Diese Methode verbessert die Schreibgeschwindigkeit erheblich im Vergleich zum Standard-Schreibmodus.

  <h4>Wann sollte Turbo-Schreiben verwendet werden?</h4>

  - Nutzen Sie Turbo-Schreiben, wenn Sie große, sequentielle Dateien auf das Array übertragen.
  - Es ist effektiv während Array-Wiederherstellungen oder %%parity checks|parity-check%%, da alle Laufwerke bereits laufen.
  - Dieser Modus ist sehr nützlich, wenn es wichtig ist, die Schreibzeit zu minimieren, und Sie können bestätigen, dass alle Laufwerke funktionsfähig sind.

  <h4>Wann sollte man Turbo-Schreiben vermeiden?</h4>

  - Vermeiden Sie diesen Modus, wenn Sie möchten, dass Ihre Laufwerke während der Leerlaufzeiten energieeinsparend herunterfahren.
  - Turbo-Schreiben ist nicht ideal für kleine oder seltene Schreiboperationen, da es dazu führt, dass alle Laufwerke für jede Schreibvorgang hochfahren, was den Energieverbrauch und den Verschleiß der Laufwerke erhöht.
  - Wenn Sie vermuten, dass eine Festplatte fehlerhaft ist oder unzuverlässig, ist es am besten, Turbo-Schreiben zu meiden, da es darauf angewiesen ist, dass jedes Laufwerk betriebsbereit ist.

    :::Info
    Turbo-Write eignet sich am besten für Massenoperationen und Szenarien mit hohem Durchsatz. Es ist jedoch möglicherweise nicht die beste Wahl für alltägliche Aufgaben, wenn Energieeinsparung und Minimierung des Laufwerksverschleißes im Fokus stehen.
    :::
</details>

<h3>Cache-Schreiben</h3>

<details>
  <summary>Klicken zum Erweitern/Reduzieren</summary>

  <h4>Wie es funktioniert</h4>

  Data is written first to a fast SSD or NVMe %%cache|cache%% and can then be moved to the main array later by a process called the %%Mover|mover%%. The speeds vary:

  - SSD: 50–110 MB/s
  - NVMe: 250–900 MB/s (kann 10GbE-Netzwerke nutzen)

  Sobald die Daten in das Array verschoben werden, werden sie durch die Parität geschützt.

  <h4>Wann sollte man Cache-Schreiben verwenden?</h4>

  - Für Freigaben mit häufigen Schreiboperationen, wie Anwendungen, virtuelle Maschinen oder Downloads.
  - Um die Leistung zu verbessern und gespürte Schreibverzögerungen zu reduzieren.

  <h4>Leistungserwartungen</h4>

  - Ohne Cache-Laufwerk: Durchschnittlich 20–30 MB/s, mit Spitzen bis zu 40 MB/s.
  - Mit SSD-Cache: 50–110 MB/s.
  - Mit NVMe-Cache: 250–900 MB/s, abhängig von Netzwerk- oder Laufwerkseinschränkungen.

    :::Tipp
    Ziehen Sie in Betracht, einen Cache-Pool (mehrere Geräte) für zusätzliche Redundanz und Datensicherheit zu verwenden, bevor der %%Mover|mover%% läuft.
    :::
</details>

:::info[Automated Zeit

- Der **Auto**-Modus (eine zukünftige Funktion) wird Turbo-Schreiben nur dann aktivieren, wenn alle Laufwerke bereits drehen.
- Community-Plugins ("Turbo Write" im Apps-Tab suchen) bieten möglicherweise erweiterte Automatisierungs- oder Planungsoptionen.

:::

Um den Schreibmodus zu ändern:

1. Navigieren Sie zu ***Einstellungen → Laufwerkseinstellungen***.
2. Suchen Sie **Tunable (md_write_method)**.
3. Wählen Sie Ihren bevorzugten Modus:
   - **Lesen/Modifizieren/Schreiben** (Standard)
   - **Rekonstruieren Schreiben** (Turbo Write)
   - **Auto** (zukünftige Funktion)
4. Klicken Sie auf **Anwenden**, um Ihre Wahl zu bestätigen.

:::important[Quick Zusammenfassung

- Verwenden Sie **Turbo Write**, wenn Sie Geschwindigkeit benötigen, beachten Sie jedoch, dass der Stromverbrauch und das Hochfahren der Laufwerke zunehmen.
- Nutzen Sie **Cache-Schreiben** für optimale Leistung, insbesondere mit SSD oder NVMe-Laufwerken.
- Für die meisten Benutzer bietet der Standard-Schreibmodus das beste Gleichgewicht, es sei denn, Sie benötigen speziell höhere Geschwindigkeiten.

:::

---

## Lese-Modi

Bei der Verwendung von Unraid wird die Geschwindigkeit, mit der Sie Dateien lesen können, hauptsächlich durch das individuelle Laufwerk bestimmt, das jede Datei hält. Im Gegensatz zu herkömmlichen %%RAID|raid%%-Systemen, die mehrere Laufwerke kombinieren, um die Leistung zu verbessern, speichert Unraid jede Datei auf einer einzigen Festplatte. Dies bedeutet, dass die Lesegeschwindigkeit nicht durch die kombinierten Geschwindigkeiten mehrerer Laufwerke erhöht wird.

<h3>Leistungserwartungen</h3>

- **Typische einzelne Festplatte:** 70–250 MB/s (abhängig vom Laufwerksmodell, Alter und Datensatzstandort)
- **Typische SATA SSD:** 400–550 MB/s
- **NVMe SSD (in einem Pool):** 250–7.000 MB/s (PCIe-Generation und Netz-/PCIe-Beschränkungen gelten; z. B. 10 GbE-Netzwerk begrenzt auf ~1.100 MB/s)

:::note[Special Fälle

- Wenn ein Datenträger deaktiviert ist und seine Daten rekonstruiert werden, verwendet Unraid die verbleibenden Laufwerke zusammen mit den Paritätsinformationen, um die Daten wiederherzustellen. Während dieses Prozesses kann die Lesegeschwindigkeit auf 30–60 MB/s oder sogar weniger sinken, abhängig von der langsamsten Festplatte in Ihrem System.
- Any ongoing operations in the array, such as a %%parity check|parity-check%% or rebuilding a drive, can also affect read performance. This is due to increased movement of the drive heads and overall contention for resources.

:::

---

## Cache-Pools

%%Cache-Pools|cache-pool%% in Unraid bieten erhebliche Vorteile, insbesondere für schreibintensive Aufgaben, virtuelle Maschinen (VMs) und Docker-Container. Diese Pools arbeiten separat vom Hauptarray und können mit mehreren Laufwerken entweder mit dem %%BTRFS|btrfs%% oder %%ZFS|zfs%% Dateisystem eingerichtet werden, wobei verschiedene %%RAID|raid%% Konfigurationen zur Geschwindigkeits- und Datensicherheit unterstützt werden.

<h3>Cache-Pools vs. Hauptarray</h3>

| Funktion                          | Cache-Pool (BTRFS)                                                                                                    | Cache-Pool (ZFS)                                                                                                                                                                    | Hauptarray (Unraid)                                               |
| --------------------------------- | --------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------- |
| **Lesegeschwindigkeit**           | SSD: 400–550 MB/s, NVMe: 250–7.000 MB/s\*                                                                             | SSD: 400–550 MB/s, NVMe: 250–7.000 MB/s\*                                                                                                                                           | HDD: 70–250 MB/s (pro Festplatte)                                 |
| **Schreibgeschwindigkeit**        | SSD: 400–550 MB/s, NVMe: 250–7.000 MB/s\*                                                                             | SSD: 400–550 MB/s, NVMe: 250–7.000 MB/s\*                                                                                                                                           | 20–120 MB/s (abhängig vom Paritätsmodus)                          |
| **Datenschutz**                   | %%RAID 1\|raid1%%/%%RAID 10\|raid10%%; %%RAID 5\|raid5%%/%%RAID 6\|raid6%% (experimentell, nicht für kritische Daten) | %%RAID 1\|raid1%%/%%RAID 10\|raid10%%; %%RAIDZ1\|raidz1%%/%%RAIDZ2\|raidz2%%/%%RAIDZ3\|raidz3%% (stabil, produktionsbereit)                                                         | Paritätsbasiert, Dateisystemunabhängig                            |
| **Erweiterung**                   | Mischen von Laufwerksgrößen; Geräte dynamisch hinzufügen/entfernen                                                    | Unterstützung für das Hinzufügen/Entfernen von Geräten beschränkt; kein Entfernen aus RAIDZ; Hinzufügen eines Einzellaufwerks zur Erweiterung eines einzel-VDEV RAIDZ in Unraid 7.2 | Laufwerke hinzufügen, aber kein Striping oder Leistungsskalierung |
| **Wiederherstellungskomplexität** | Higher risk of data loss; %%BTRFS\|btrfs%% tools required                                                             | Höheres Risiko von Datenverlusten; %%ZFS\|zfs%%-Werkzeuge erforderlich                                                                                                              | Einfachere paritätsbasierte Wiederherstellungen                   |
| **Am besten geeignet für**        | Apps, VMs, häufige Schreibvorgänge                                                                                    | Apps, VMs, häufige Schreibvorgänge, Unternehmens-Workloads                                                                                                                          | Massenspeicher, Mediatheken                                       |

\*Die tatsächlichen NVMe-Geschwindigkeiten hängen von der PCIe-Generation, Kühlung und Netzwerkbandbreite ab (z. B. 10 GbE begrenzt auf ~1.100 MB/s).\*

<h4>Vorteile von Cache-Pools</h4>

- **Höhere Leistung:** NVME-Pools können 10GbE/40GbE Netzwerke sättigen (1.100–3.500 MB/s).
- **Flexibles RAID:** Sowohl %%BTRFS|btrfs%% als auch %%ZFS|zfs%% unterstützen %%RAID 1|raid1%%/%%RAID 10|raid10%% für Redundanz ohne übereinstimmende Laufwerksgrößen.
- **Niedrige Latenz:** Ideal für Datenbanken, VMs und Docker-Container.
- **Vorteile von ZFS:** %%ZFS|zfs%% bietet Unternehmens-Features wie Datenintegritätsprüfung, Komprimierung und Snapshots.

<h4>Nachteile von Cache-Pools</h4>

- **Kein Paritätsschutz:** Daten sind ungeschützt, bis sie ins Array verschoben werden.
- **Wiederherstellungsrisiken:** %%BTRFS|btrfs%% %%RAID 5|raid5%%/%%RAID 6|raid6%% ist instabil; Einzellaufwerk-Pools fehlen Redundanz.
- **ZFS-Anforderungen:** %%ZFS|zfs%% benötigt mehr RAM und hat strengere Hardwarevoraussetzungen als %%BTRFS|btrfs%%.

For more detailed information about %%cache pools|cache-pool%%, including how to set them up, manage them, and advanced features, check the [Cache pools](./cache-pools.mdx) page.

---

## Fehlerbehebung

### Fehlerbehebung bei Array-Startproblemen

Wenn Ihr Array nicht startet, folgen Sie diesen Schritten, um häufige Probleme zu identifizieren und zu beheben. Suchen Sie nach Fehlermeldungen unter ***Main → Array Operation***.

```mdx-code-block

<Tabs>
  <TabItem value="missing-disks" label="Missing disks" default>
    <TroubleshootMissingDisks />
  </TabItem>

  <TabItem value="device-limit" label="Device limit">
    <TroubleshootDeviceLimit />
  </TabItem>

  <TabItem value="key-issues" label="License issues">
    <TroubleshootLicenseIssues />
  </TabItem>

  <TabItem value="key-server" label="Key server connection">
    <TroubleshootKeyServer />
  </TabItem>

  <TabItem value="withdrawn" label="Withdrawn release">
    <TroubleshootWithdrawnRelease />
  </TabItem>
</Tabs>
```

### Festplattenausfall während eines Wiederaufbaus

Wenn während des Wiederaufbaus einer Festplatte eine zweite Festplatte ausfällt, hängt das weitere Vorgehen von Ihrer Paritätskonfiguration ab.

<h4>Einzelnes %%parity disk|parity-drives%%</h4>

Wenn während des Wiederaufbaus einer anderen Festplatte eine Festplatte ausfällt, wird der Wiederaufbau gestoppt, da die Daten nicht genau wiederhergestellt werden können. Leider können Sie Ihre Daten in dieser Situation nicht wiederherstellen.

<h4>Duales %%parity disk|parity-drives%%</h4>

Wenn Sie zwei %%parity drives|parity-drives%% haben, haben Sie mehr Möglichkeiten:

- Sie können warten, bis der erste Neuaufbau abgeschlossen ist, und sich dann mit der zweiten fehlgeschlagenen Festplatte befassen.
- Oder Sie können den aktuellen Wiederaufbau stoppen, die zweite ausgefallene Festplatte ersetzen und dann das Array starten, um beide Festplatten gleichzeitig wieder aufzubauen.

Wenn der erste Wiederaufbau fast abgeschlossen ist, ist es normalerweise besser, ihn fertigstellen zu lassen. Wenn er gerade erst begonnen hat, könnte es schneller sein, beide zusammen wiederherzustellen.

:::warning

Der Wiederaufbau von Festplatten belastet alle Laufwerke stark, was die Chance auf neue Ausfälle erhöht. Überprüfen Sie immer die Laufwerkgesundheit mithilfe der %%SMART-Berichte|smart-report%%, bevor Sie mit einem Wiederaufbau beginnen.

:::

:::info[Rebuild Zeit

Seien Sie darauf vorbereitet, dass der Wiederherstellungsprozess mehrere Stunden dauern kann. Die Dauer kann je nach Festplattengröße und Systemauslastung variieren. Größere Festplatten und ausgelastete Systeme benötigen möglicherweise länger.

:::
