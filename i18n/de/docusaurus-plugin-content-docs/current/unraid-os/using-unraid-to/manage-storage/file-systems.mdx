---
sidebar_position: 4
sidebar_label: Dateisysteme
---

# Dateisysteme

## Auswahl eines Dateisystemtyps

Die Wahl des richtigen Dateisystems für Ihr Unraid-%%array|array%% oder %%cache pool|cache-pool%% ist entscheidend. Es hilft Ihnen, ein Gleichgewicht zwischen Leistung, Datenschutz und erweiterten Funktionen zu erreichen. Unraid unterstützt mehrere moderne Linux-Dateisysteme, von denen jedes seine eigenen Stärken und spezifischen Anwendungsfälle hat:

| Dateisystem      | Datenschutz                                                                                | Speichereffizienz                     | Erweiterte Funktionen                                            | Bester Anwendungsfall                                             |
| ---------------- | ------------------------------------------------------------------------------------------ | ------------------------------------- | ---------------------------------------------------------------- | ----------------------------------------------------------------- |
| %%XFS\|xfs%%     | Keine eingebaute Redundanz                                                                 | 100%                                  | Robust gegen Korruption                                          | Standard für Array-Laufwerke; hohe Zuverlässigkeit                |
| EXT4             | Keine eingebaute Redundanz                                                                 | 100%                                  | Mature, stable, journaled                                        | Array drives or single-drive pools; alternative to XFS            |
| %%ZFS\|zfs%%     | %%RAIDZ1\|raidz1%%/%%RAIDZ2\|raidz2%%/%%RAIDZ3\|raidz3%%, Spiegel, usw.                    | Variiert je nach %%RAID\|raid%%-Level | %%Checksums\|checksum%%, %%Snapshots\|snapshot%%, %%RAID\|raid%% | Multigeräte-Pools, %%VMs\|vm%%, Docker, fortgeschrittene Benutzer |
| %%BTRFS\|btrfs%% | %%RAID 0\|raid0%%/%%RAID 1\|raid1%%/%%10\|raid10%%/%%5\|raid5%%/%%6\|raid6%%, Spiegelungen | Variiert je nach %%RAID\|raid%%-Level | %%Checksums\|checksum%%, %%Snapshots\|snapshot%%, %%RAID\|raid%% | Multigeräte-Pools, gemischte SSD/HDD, flexible Pools              |
| NTFS             | Keine eingebaute Redundanz                                                                 | 100%                                  | Windows compatibility                                            | Adding existing Windows drives without data migration             |
| exFAT            | Keine eingebaute Redundanz                                                                 | 100%                                  | Plattformübergreifende Kompatibilität                            | Adding existing exFAT drives without data migration               |

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FsCheckCliXfs from './partials/fs-check-cli-xfs.mdx';
import FsCheckCliBtrfs from './partials/fs-check-cli-btrfs.mdx';
import FsCheckCliZfs from './partials/fs-check-cli-zfs.mdx';
import FsRepairCliXfs from './partials/fs-repair-cli-xfs.mdx';
import FsRepairCliBtrfs from './partials/fs-repair-cli-btrfs.mdx';
import FsRepairCliZfs from './partials/fs-repair-cli-zfs.mdx';

### XFS

%%XFS|xfs%% is the default file system for %%array|array%% drives in Unraid. It's known for its robustness and ability to recover from corruption after unexpected shutdowns or crashes. Each drive formatted with %%XFS|xfs%% acts as a self-contained file system, making data recovery straightforward on any Linux system.

- **Datenschutz:** Keine integrierte Redundanz; verlässt sich auf die %%parity|parity%% von Unraid für den Schutz.
- **Leistung:** Konsistent und zuverlässig.
- **Besonders geeignet für:** Array-Laufwerke, besonders wenn Stabilität und einfache Datenwiederherstellung Priorität haben.

### EXT4

EXT4 is a mature and stable file system that offers excellent compatibility and reliability. It is fully supported and stands on par with %%XFS|xfs%%, %%BTRFS|btrfs%%, and %%ZFS|zfs%%, making it a strong choice for array drives or single-drive pools.

- **Data protection:** It does not have built-in redundancy and relies on Unraid's %%parity|parity%% for protection.
- **Performance:** It provides consistent and reliable performance with journaling to ensure data integrity.
- **Best for:** %%Array|array%% drives or single-drive pools when you are looking for an alternative to %%XFS|xfs%%.

### ZFS

%%ZFS|zfs%% is a modern file system that comes with advanced features such as %%checksums|checksum%% to detect %%bit rot|bit-rot%%, %%snapshots|snapshot%% for backups, and native %%RAID|raid%% support options like %%RAIDZ1|raidz1%%/%%RAIDZ2|raidz2%%/%%RAIDZ3|raidz3%% and mirrors. %%ZFS|zfs%% can be utilized for both single-device and multi-device pools.

- **Datenschutz:** Unterstützt verschiedene %%RAID|raid%%-Level für Redundanz.
- **Leistung:** Hervorragend, besonders bei Multigeräte-Pools.
- **Am besten geeignet für:** Hochleistungsumgebungen, %%virtual machines|vm%%, Docker oder wenn erweiterte Funktionen wie %%snapshots|snapshot%% erforderlich sind.

For comprehensive guidance on %%ZFS|zfs%% features, configuration, and best practices, see the dedicated [ZFS storage](../../advanced-configurations/optimize-storage/zfs-storage.mdx) page.

### BTRFS

%%BTRFS|btrfs%% provides flexible %%RAID|raid%% support, %%checksums|checksum%% for data integrity, and efficient management of mixed-size drives in pools. It serves as the default file system for %%cache pools|cache-pool%% and supports both single-device and multi-device configurations.

- **Datenschutz:** Unterstützt %%RAID 0|raid0%%/%%1|raid1%%/%%10|raid10%%/%%5|raid5%%/%%6|raid6%% (beachten Sie, dass %%RAID 5|raid5%%/%%6|raid6%% noch experimentell sind).
- **Leistung:** Gut, mit Flexibilität für Erweiterung und Verkleinerung.
- **Am besten geeignet für:** %%Cache pools|cache-pool%%, insbesondere wenn Sie planen, SSDs und HDDs zu mischen oder eine einfache Möglichkeit zur Erweiterung benötigen.

### NTFS and exFAT (limited support)

NTFS and exFAT file systems are supported with some limitations. This is mainly to help you add existing drives with data to your Unraid system without needing to transfer the data elsewhere first.

:::warning

Drives formatted with NTFS or exFAT must be added to the %%array|array%% **before** you add any parity drives. Once a parity drive has been added to your %%array|array%%, any new data drives you add will be zeroed out, regardless of their file system format.

If you want to use existing NTFS or exFAT drives:

- Add them to the %%array|array%% first (or run ***Tools → New Config*** to reset your array configuration).
- After adding your NTFS/exFAT data drives, you can then add parity drives.
- The existing data on these drives will be preserved and protected by parity.

:::

- **Data protection:** These drives do not offer built-in redundancy; they rely on Unraid's %%parity|parity%% for protection once parity is added.
- **Performance:** Adequate for basic storage needs.
- **Best for:** Adding existing Windows-formatted drives (NTFS) or cross-platform formatted drives (exFAT) without the need for data migration. They can also be used for single-drive pools.
- **Limitations:** These file systems are not recommended for regular use; they are intended primarily for migrating existing drives. For new drives, consider using %%XFS|xfs%%, EXT4, %%BTRFS|btrfs%%, or %%ZFS|zfs%% instead.

For more details on adding existing drives, see the [release notes](../../release-notes/7.2.0.md#ext234-ntfs-and-exfat-support).

:::note[Additional Anmerkungen]

- Mixing different file system types in your Unraid system is perfectly acceptable; the Unraid %%parity|parity%% system works independently of the file system used.
- Immer innerhalb von Unraid formatieren und partitionieren, um Kompatibilität zu gewährleisten.
- Linux-Systeme können diese Dateisysteme nativ lesen; Windows und macOS benötigen jedoch zusätzliche Software für den Zugriff.
- You can **encrypt** drives for enhanced security, but keep in mind that encrypted drives might pose challenges for recovery if corruption occurs.
- Für Übertragungslaufwerke oder externe Geräte wird empfohlen, das **[Nicht zugewiesene Geräte](#using-the-unassigned-devices-plugins)** Plugin zu verwenden, welches zusätzliche Dateisysteme unterstützt.
  :::

:::

:::tip[Still Brauchen Sie Hilfe bei der Auswahl?]

- **For array drives:** %%XFS|xfs%% is generally the best choice for most users. EXT4 is also a solid option if you prefer a more traditional Linux file system.
- **For high-performance or advanced features:** Choose %%ZFS|zfs%% or %%BTRFS|btrfs%% for %%cache pools|cache-pool%% or multi-device setups. See the [ZFS storage](../../advanced-configurations/optimize-storage/zfs-storage.mdx) page for detailed %%ZFS|zfs%% guidance.
- **Für gemischte oder erweiternde Pools:** %%BTRFS|btrfs%% ist ideal, wenn Sie unterschiedliche Laufwerksgrößen verwenden oder Geräte einfach hinzufügen oder entfernen möchten.
- **For existing drives:** Use NTFS or exFAT only when adding existing drives with data; add them before adding parity.

If you're uncertain, starting with the defaults is a good approach: use %%XFS|xfs%% for %%array|array%% drives and %%BTRFS|btrfs%% for %%cache pools|cache-pool%%.

:::

---

## Festlegen eines Dateisystemtyps

Beim Hinzufügen eines neuen Laufwerks zu Unraid können Sie den Dateisystemtyp auswählen, der am besten zu Ihren Anforderungen passt. Das Dateisystem bestimmt, wie Daten auf der Festplatte organisiert und geschützt werden.

To set the file system type globally, navigate to ***Settings → Disk Settings*** to set the default file system for new %%array|array%% drives only. Unraid defaults to %%XFS|xfs%% for %%array|array%% drives.

:::note

There is currently no global default setting for %%cache pools|cache-pool%%. They will always default to %%BTRFS|btrfs%% if left to "auto".

:::

:::important

If you're adding drives with existing NTFS or exFAT data, they must be added to the %%array|array%% before any parity drives are added. Once parity is present, all newly added data drives will be zeroed out regardless of their file system type.

:::

To set the file system for an individual drive:

1. Stop the %%array|array%% before making changes.
2. In the **Main** tab, click the drive you want to configure.
3. Select the desired file system type from the drop-down menu.
4. (Optional) If you select **auto**, Unraid uses the global default.
5. Für Mehrgerätige %%cache pools|cache-pool%% werden nur %%BTRFS|btrfs%% oder %%ZFS|zfs%% unterstützt.
6. If adding existing NTFS or exFAT data drives to the %%array|array%%, add them before adding any parity drives.

---

## Erstellen eines Dateisystems (Formatierung)

Bevor Sie eine neue Festplatte in Unraid verwenden können, müssen Sie sie mit dem ausgewählten Dateisystem formatieren.

:::warning

Formatting will erase all existing content on the drive. Make sure you've backed up any important data before proceeding.

:::

To format a drive:

1. Starten Sie das %%array|array%%.
2. Identify unmountable drives (they appear as **unmountable**).
3. Verify that all unmountable drives are the ones you want to format.
4. Check the confirmation box, read the warning dialog, and click **Format**.
5. Monitor the process. For new disks, Unraid first rewrites the partition table.
6. Wait for completion. If progress stalls, refresh the **Main** tab.

Sobald die Formatierung abgeschlossen ist, ist das Laufwerk bereit zur Dateispeicherung.

---

## Ändern eines Dateisystemtyps

Um den Dateisystemtyp eines bestimmten Laufwerks zu ändern:

:::warning

Sollten Sie auf Probleme stoßen, besuchen Sie gerne die [Unraid-Foren](https://forums.unraid.net/). Fügen Sie die ZIP-Datei mit den Systemdiagnosen (zu finden unter ***Tools → Diagnosen***) zur Unterstützung bei.

:::

Um den Dateisystemtyp eines bestimmten Laufwerks zu ändern:

1. Stoppen Sie das %%array|array%%.
2. In the **Main** tab, click the drive you want to change.
3. Choose the new file system from the drop-down (repeat for multiple drives as needed).
4. Starten Sie das %%array|array%%.
5. In the **Main** tab, review the unmountable drives list and ensure only the intended drives are included.
6. Check the confirmation box and click **Format**.
7. Wait for completion. If status doesn’t update, refresh the **Main** tab.

Sollten Sie auf Probleme stoßen, besuchen Sie gerne die [Unraid-Foren](https://forums.unraid.net/). Fügen Sie die ZIP-Datei mit den Systemdiagnosen (zu finden unter ***Tools → Diagnosen***) zur Unterstützung bei.

---

## Konvertierung in einen neuen Dateisystemtyp

:::important

The ***Main*** page will warn if any array or pool drives are formatted in legacy filesystems:

- Any drives formatted in ReiserFS need to be migrated to another filesystem ASAP as they will not be usable in future releases of Unraid.
- Any drives formatted in older XFS versions need to be migrated before 2030.

:::

Dieser Prozess ist besonders häufig bei Nutzern, die vom veralteten ReiserFS (in älteren Unraid-Versionen verwendet) zu %%XFS|xfs%% oder %%BTRFS|btrfs%% wechseln, gilt aber für jede Dateisystemkonvertierung.

:::important

This process requires temporarily moving your data to another location. Make sure you have enough free space elsewhere in your %%array|array%% or on an external device before you begin.

:::

Um sicher in einen neuen Dateisystemtyp zu konvertieren:

1. Move all data off the drive to another location (another %%array|array%% drive, %%cache pool|cache-pool%%, or external backup). Use one of these methods:

   **Via the WebGUI:**

   - Navigieren Sie zu ***Haupt → Array-Betrieb*** und stoppen Sie das Array
   - Navigieren Sie zu ***Einstellungen → Globale Freigabeeinstellungen***. Wählen Sie im Bereich **Leeren von Festplatte(n)** die zu leerende(n) Festplatte(n) aus und **Anwenden**. Hinweis: Dieser Status wird automatisch entfernt, wenn das Array gestoppt wird.
   - Navigieren Sie zu ***Haupt → Array-Betrieb*** und starten Sie das Array
   - Klicken Sie auf ***Haupt → Array-Betrieb*** auf **Verschieben** (oder warten Sie, bis der Mover über seinen normalen Zeitplan läuft)
   - Mover leert die Festplatte gemäß Ihren Freigabeeinstellungen. Beachten Sie, dass Dateien im Stammverzeichnis des Laufwerks außerhalb jeglicher Freigaben liegen und nicht verschoben werden.
   - Überprüfen Sie ***Werkzeuge → Systemprotokoll*** auf Nachrichten über Dateien, die aufgrund von Verwendung oder mangelndem Speicherplatz nicht verschoben werden konnten.

   **Or via the command line:**

   - Move files [using 'mover' to empty an array disk](../../release-notes/7.0.0.md#using-mover-to-empty-an-array-disk) to other array drives

   **Or manually:**

   - Move files manually to another location

   Once completed, navigate to ***Main → Array Devices*** and browse the disk to confirm it is empty. Proceed only when you are certain the disk is empty.
2. Follow the procedure for [changing a file system type](#changing-a-file-system-type). This formats the drive and erases all content, leaving a blank drive in the new format.
3. (Optional) Move your data back to the newly formatted drive, depending on where you moved the files.
4. If you have multiple drives to convert, repeat these steps for each drive.

:::note\[Timing]

Dieser einfache Prozess stellt sicher, dass das Laufwerk vollständig gelöscht und nach Ihren Wünschen formatiert wird. Der Formatierungsprozess dauert normalerweise nur ein paar Minuten.

:::

---

## Neusformatiert eines Laufwerks

Ein Laufwerk in Unraid neu zu formatieren, löscht alle Ihre Daten und erstellt ein neues leeres Dateisystem. Dieser Prozess ist nützlich, um anhaltende Dateisystemfehler zu beheben oder mit einem neuen Format von vorne zu beginnen.

:::warning

Um Daten vom Cache zu verschieben:

:::

Um das Cache-Laufwerk neu zu formatieren:

1. **Stoppen Sie die Array**.
2. **Stellen Sie das Cache-Laufwerksformat ein** (wählen Sie zwischen %%XFS|xfs%% oder %%BTRFS|btrfs%%).
   - Für ein Einzellaufwerks-%%cache|cache%% wird %%XFS|xfs%% empfohlen.
   - Wählen Sie einen anderen Dateisystemtyp (zum Beispiel Wechsel von %%XFS|xfs%% zu %%BTRFS|btrfs%%).
   - Starten Sie das %%array|array%%, und das Laufwerk wird als **nicht einbindbar** angezeigt.
   - Wenn Sie dazu aufgefordert werden, formatieren Sie das Laufwerk.
3. **Starten Sie die Array**.
   - Stoppen Sie das %%array|array%% erneut.
   - Ändern Sie den Dateisystemtyp zurück zu Ihrem bevorzugten Typ.
   - Starten Sie das %%array|array%% und formatieren Sie das Laufwerk erneut.

Um Daten und Einstellungen wiederherzustellen:

### Neues Format eines Cache-Laufwerks

Sometimes, you'll need to reformat a %%cache|cache%% drive for the following reasons:

- Um den Dateisystemtyp zu ändern (zum Beispiel Wechsel von %%BTRFS|btrfs%% zu %%XFS|xfs%% oder umgekehrt)
- Um anhaltende Dateisystemfehler zu beheben
- Um frisch für neue Workloads zu starten

#### Preparation

Before reformatting, prepare the system:

1. Stoppen Sie das %%array|array%%.
2. Go to **Settings** and disable Docker and %%VM|vm%% services (this prevents their tabs from appearing during the process).
3. Start the %%array|array%% again.

#### Move data off the cache

Um Daten vom Cache zu verschieben:

1. Set share storage and Mover action (cache → array):
   - Gehen Sie zur **Shares**-Registerkarte.
   - For each share with files in the %%cache|cache%%, set **Primary storage** to the source %%cache|cache%% pool and **Secondary storage** to the %%array|array%%.
   - Setzen Sie die **Mover-Aktion** auf **Cache → Array**.
   - Note the shares you changed and their original settings.
2. In the **Main** tab, click **Move Now** and wait for completion. Ensure the %%cache|cache%% is empty.
   - If files remain, stop and check the forums for help.

#### Reformat the cache drive

Schauen wir uns an, was jede Operation macht und wann sie verwendet wird:

1. Stoppen Sie das %%array|array%%.
2. Set the cache drive format:
   - In the **Main** tab, click the cache drive.
   - Choose between %%XFS|xfs%%, EXT4, or %%BTRFS|btrfs%%.
   - For a single-drive %%cache|cache%%, %%XFS|xfs%% or EXT4 are recommended.
   - Note that %%XFS|xfs%% and EXT4 are only available with one %%cache|cache%% slot.
3. Starten Sie das %%array|array%%.
4. Formatieren Sie das Cache-Laufwerk:
   - Confirm only the %%cache|cache%% drive is listed as unmountable.
   - Check the confirmation box and click **Format**.

#### Restore data and settings

Um Daten und Einstellungen wiederherzustellen:

1. For each share you changed, set **Primary storage** and **Secondary storage** back to their original values.
2. Move data back (array → cache):
   - For each share you changed, set **Primary storage** to the destination %%cache|cache%% pool and **Secondary storage** to the %%array|array%%.
   - Setzen Sie **Mover-Aktion** auf **Array → Cache**.
   - In the **Main** tab, click **Move Now** to move data back to the %%cache|cache%%.
3. Stoppen Sie das %%array|array%%.
4. Go to **Settings** and re-enable Docker and %%VM|vm%% services.
5. Start the %%array|array%% to complete the process.

:::note\[Timing]

Die Zeit, die das Verschieben von Daten mit dem %%Mover|mover%% und das Formatieren des Laufwerks in Anspruch nimmt, kann je nach Datenmenge und Laufwerksgeschwindigkeit von mehreren Minuten bis zu mehreren Stunden variieren.

:::

---

## BTRFS-Aktionen

Maintaining your %%BTRFS|btrfs%% pools in Unraid is essential for keeping them running well and ensuring your data stays safe. Two key tools you’ll want to use regularly are **Balance** and **Scrub**. These operations help solve space allocation problems, optimize your storage use, and protect your data from hidden corruption.

Let's break down what each operation does and when to use them:

### Gleichgewicht

The **Balance** operation redistributes data and metadata chunks across your %%BTRFS|btrfs%% pool. This process helps free up space, resolves allocation issues, and can fix "no space left on device" errors even when space seems available.

#### Wann Balance durchgeführt werden sollte

- When you encounter "no space left on device" errors but have free space.
- Nach dem Hinzufügen oder Entfernen von Laufwerken in einem Pool.
- Um den Platzverbrauch zu optimieren und die Leistung zu verbessern.

#### Wie man Balance durchführt

1. In the %%WebGUI|web-gui%%, click the pool in the **Main** tab and select **Balance**.
2. (Optional) Add parameters for advanced use (refer to Unraid Help for details).
3. Click **Start** to begin.

:::note\[Timing]

Balance-Aktionen können je nach Poolgröße und Datenmenge einige Minuten bis zu mehreren Stunden dauern.

:::

### Scrub

The **Scrub** operation reads all data and metadata, checks the integrity of checksums, and repairs any corrupt blocks using available redundant copies. Scrubbing helps identify and fix silent data corruption, known as "bit rot," before it becomes a significant issue.

#### Wann Scrub durchgeführt werden sollte

- Als Teil der regelmäßigen Wartung (siehe empfohlener Zeitplan unten).
- Nach unsauberen Shutdowns oder wenn Sie Korruption vermuten.
- Häufiger auf Pools mit hoher Nutzung.

#### Empfohlener Zeitplan

- Hoch genutzte Pools: **Einmal pro Woche**
- Alle anderen Pools: **Einmal pro Monat**

#### Wie man Scrub durchführt

1. In the %%WebGUI|web-gui%%, click the pool in the **Main** tab and select **Scrub**.
2. Click **Start** to initiate.

:::note\[Timing]

Bereinigungsvorgänge sind in der Regel schneller als ein vollständiger Festplattenscan, da sie nur die zugewiesenen Daten überprüfen. Abhängig von der Poolgröße und Nutzung kann dies von wenigen Minuten bis zu mehreren Stunden dauern.

:::

:::tip

Sowohl **Balance** als auch **Scrub** können bei laufendem System durchgeführt werden, jedoch beachten Sie, dass die Leistung während dieser Operationen beeinträchtigt werden kann. Sie können den Fortschritt im %%WebGUI|web-gui%% überwachen.

:::

For more details on advanced %%BTRFS|btrfs%% features, check out the [official BTRFS documentation](https://btrfs.readthedocs.io/en/latest/Introduction.html).

---

## Fehlerbehebung

Unassigned drives are storage devices connected to your Unraid server that aren't part of the main %%array|array%% or any %%cache pool|cache-pool%%. You can use these drives to transfer files, create backups, or provide fast storage for %%virtual machines|vm%%.

:::note

All drives connected to your server when the %%array|array%% starts count toward your Unraid Attached Devices license limit, even if they aren't assigned to the %%array|array%% or a pool.

:::

### Häufige Verwendungen für nicht zugewiesene Laufwerke

- **Identifizieren Sie die Situation**: Bestimmen Sie, ob es sich um ein neues oder ein zuvor funktionierendes Laufwerk handelt.
- **Für neue Laufwerke**: Formatieren Sie das Laufwerk, um ein neues Dateisystem zu erstellen (siehe die [Formatierungsschritte](#creating-a-file-system-formatting)).

### Verwendung der Plugins für nicht zugewiesene Geräte

Die Behebung des Dateisystems dauert in der Regel weniger Zeit als der Neuaufbau des Laufwerks, sodass Sie auf Ihre Daten zugreifen können, ohne etwas zu verlieren. Denken Sie daran, dass der Neuaufbau eines Laufwerks **nicht** Dateisystemprobleme behebt; er stellt lediglich sicher, dass das physische Laufwerk dem emulierten entspricht und alle bestehenden Probleme mitübernimmt.

- **[Unassigned Devices](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices,-dlandon):** Dieses Plugin ermöglicht es Ihnen, Laufwerke mit Dateisystemen, die von Unraid unterstützt werden, wie %%XFS|xfs%%, %%BTRFS|btrfs%% oder NTFS, zu mounten, freizugeben und zu verwalten.

- **[Unassigned Devices Plus](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices%20Plus,-\(Addon\)):** Diese Erweiterung bietet Unterstützung für zusätzliche Dateisysteme, einschließlich ExFAT und HFS+.

Wenn Sie unsicher sind:

- Einfaches Mounten und Unmounten von Laufwerken über die Unraid-Weboberfläche.
- Für fachkundige Hilfe posten Sie Ihr Problem zusammen mit den Diagnosen im [Unraid-Forum](https://forums.unraid.net/).
  :::
- Automatisierung des Mount-Vorgangs beim Serverstart.
- Formatieren oder Löschen von Laufwerken für die zukünftige Nutzung.
- Sicheres Entfernen von USB- oder externen Laufwerken ohne Probleme.

Für weitere Details zur Installation und Verwaltung von Plugins, schauen Sie sich [Plugins](../customize-your-experience/plugins.mdx) an.

---

## Fehlerbehebung

### Überprüfen eines Dateisystems

Wenn Sie sehen, dass ein Laufwerk in Unraid als **nicht mountbar** angezeigt wird, könnte dies an einem der beiden Hauptgründe liegen:

1. If you just added a new drive to your setup, it will show as unmountable until you format it. Formatting creates a file system that allows the drive to store files. You can find the steps to format a drive [here](#creating-a-file-system-formatting).

2. If a drive that was previously working suddenly shows as unmountable, it likely has a file system issue. This can happen due to unexpected shutdowns, problems while writing data, or if the drive has been marked as disabled (which appears as a red 'x' in the %%WebGUI|web-gui%%).

:::important

Do not format an unmountable drive unless you are okay with losing all the data on it. Formatting will erase everything and update the %%parity|parity%% information, making recovery impossible. Always try to fix the file system first.

:::

Wenn Ihr Laufwerk nicht montierbar ist:

1. Determine if it's a new drive or a previously working drive.
2. For new drives: Format the drive to create a new file system (see [formatting steps](#creating-a-file-system-formatting)).
3. For previously working drives: Perform a file system check or repair (see [Checking a file system](#checking-a-file-system)). Avoid formatting if you want to keep the data.

:::note

Wenn ein Laufwerk sowohl nicht montierbar als auch deaktiviert ist (rotes 'x'), führen Sie zuerst die Dateisystemprüfung/-reparatur auf dem **emulierten** Laufwerk durch. Wenn das emulierte Laufwerk ebenfalls nicht montierbar ist und Sie versuchen, es wiederherzustellen, wird das neue Laufwerk ebenfalls nicht montierbar sein.

:::

Die Behebung des Dateisystems dauert in der Regel weniger Zeit als der Neuaufbau des Laufwerks, sodass Sie auf Ihre Daten zugreifen können, ohne etwas zu verlieren. Denken Sie daran, dass der Neuaufbau eines Laufwerks **nicht** Dateisystemprobleme behebt; er stellt lediglich sicher, dass das physische Laufwerk dem emulierten entspricht und alle bestehenden Probleme mitübernimmt.

:::important[Why Ist Parität nicht genug?]

Während %%parity|Parität%% beim Wiederherstellen eines ausgefallenen Laufwerks hilft, kann es keine Dateisystemprobleme beheben. Wenn das Dateisystem beschädigt ist, wird %%parity|Parität%% diese Beschädigung einfach auf das neue Laufwerk replizieren.

Wenn Sie unsicher sind:

- Laden Sie Ihre Systemprotokolle herunter, indem Sie zu ***Tools → Diagnosen*** navigieren.
- Für fachkundige Hilfe posten Sie Ihr Problem zusammen mit den Diagnosen im [Unraid-Forum](https://forums.unraid.net/).

:::

:::note[Just Um es noch einmal zu sagen]

- Formatieren Sie nur nicht montierbare Laufwerke, wenn sie neu sind oder wenn Sie alle Daten löschen möchten.
- Verwenden Sie die Dateisystemprüfung/-reparatur, um beschädigte Dateien zu beheben; verlassen Sie sich nicht auf %%parity|parity%%, um diese Probleme zu lösen.
- Für %%cache pools|cache-pool%% mit mehreren Laufwerken sollten Sie entweder %%BTRFS|btrfs%% oder %%ZFS|zfs%% verwenden.
- Überprüfen Sie immer doppelt, bevor Sie Laufwerke formatieren oder reparieren, um versehentlichen Datenverlust zu vermeiden.

:::

---

### Überprüfen eines Dateisystems

Wenn ein zuvor ohne Probleme gemountetes Laufwerk jetzt als **nicht mountierbar** angezeigt wird, deutet dies typischerweise auf eine Dateisystemkorruption hin. Dies kann durch einen unsaubere Abschaltung, einen fehlgeschlagenen Schreibvorgang oder die Deaktivierung der Festplatte im %%WebGUI|web-gui%% verursacht werden. Das Überprüfen und Reparieren des Dateisystems ist in der Regel schneller und sicherer als ein vollständiger Wiederaufbau, daher wird empfohlen, dies vor dem Formatieren oder Wiederaufbau des Laufwerks zu versuchen.

:::important

If the %%WebGUI|web-gui%% suggests formatting an unmountable drive, **do not format** unless you intend to erase all data. Formatting will destroy the contents of the drive and update %%parity|parity%%, making recovery impossible.

:::

#### Vorbereitung zum Überprüfen oder Reparieren

1. Identify the file system type:
   - In the **Main** tab, select your disk (e.g., Disk 3, Cache).
   - Find the **File system type** (should be %%XFS|xfs%%, EXT4, %%BTRFS|btrfs%%, or %%ZFS|zfs%%).

2. Starten Sie das Array im richtigen Modus:
   - For **%%XFS|xfs%%** or **EXT4**, start the %%array|array%% in **%%Maintenance Mode|maintenance-mode%%**.
   - Für **%%BTRFS|btrfs%%** starten Sie das %%array|array%% im **Normalmodus** für einen %%scrub|scrub%% oder im **%%Wartungsmodus|maintenance-mode%%** für eine Reparatur.
   - Für **%%ZFS|zfs%%**, siehe den %%ZFS|zfs%%-Abschnitt unten.

3. If the disk is disabled and being emulated, run the check/repair on the %%emulated disk|emulated-disk%% before attempting a rebuild. If the %%emulated disk|emulated-disk%% is unmountable, the rebuilt disk will also be unmountable.

#### Häufige Fehlermeldungen

| Nachricht                                                       | Bedeutung / Aktion                                                                                  |
| --------------------------------------------------------------- | --------------------------------------------------------------------------------------------------- |
| **Superblock hat eine schlechte magische Zahl**                 | Schwere Beschädigung; versuchen Sie, das Dateisystem zu reparieren.                                 |
| **Dateisystem ist schmutzig**                                   | Unsauberer Shutdown; führen Sie eine Dateisystemprüfung durch.                                      |
| **Metadatabeschädigung erkannt**                                | Dateisystemstrukturen sind beschädigt; initialisieren Sie eine Reparatur.                           |
| **Kein gültiges %%BTRFS\|btrfs%% gefunden**                     | Festplatte gehört möglicherweise nicht zu einem gültigen Pool; überprüfen Sie die Pool-Zuweisungen. |
| **Mount: falscher FS-Typ, schlechte Option, etc.**              | Falsche Auswahl des Dateisystems oder die Festplatte ist nicht formatiert.                          |
| **Kann /dev/mdX nicht mounten: Struktur muss gereinigt werden** | Dateisystem ist beschädigt; führen Sie eine Reparatur durch.                                        |

#### Checking via the WebGUI

1. Start the %%array|array%% in the correct mode (refer to the steps above).
2. In the **Main** tab, select the disk you wish to check.
3. Scroll to **Check Filesystem Status**.
4. For XFS: You will see a **CHECK** button without any options to enter. The system automatically determines the necessary actions based on the check results.
5. For other file systems: Enter any necessary options (for details, see **Help** in the upper right).
6. Click **Check** to initiate the process.
7. Monitor progress in the output box. Use **Refresh** if required.
8. Review results. If uncertain, copy the output and post it on the [forums](https://forums.unraid.net/) for advice.

#### XFS automatic repair workflow

XFS file system repair is fully automated through the WebGUI:

1. Click the **CHECK** button (no options to enter)
2. Check results:
   - **Keine Beschädigung erkannt**: Zeigt "keine Dateisystembeschädigung erkannt" an und der **PRÜFEN**-Button bleibt
   - **Beschädigung erkannt**: Zeigt "Dateisystembeschädigung erkannt" an und ein **FIX**-Button erscheint
3. Click **FIX** to automatically repair the file system
4. If needed, a **ZERO LOG** button may appear
5. Shows "filesystem repaired" when the process is complete

Dieses automatisierte System eliminiert die Notwendigkeit für Benutzer, manuell Reparaturoptionen einzugeben, und stellt sicher, dass die korrekte Reparatursequenz eingehalten wird.

#### Checking via the command line

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsCheckCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsCheckCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsCheckCliZfs />
  </TabItem>
</Tabs>

:::tip

- Dateisystemreparaturen sind im Allgemeinen schneller als ein vollständiger Wiederaufbau und können den Zugriff ohne Datenverlust wiederherstellen.
- Wiederaufbau einer Festplatte löst **nicht** die Dateisystembeschädigung; führen Sie immer zuerst eine Überprüfung oder Reparatur durch.
- Wenn Sie Zweifel haben, posten Sie Ihre Diagnosen und Fehlermeldungen im Unraid [Forums](https://forums.unraid.net/) für fachkundigen Rat.

:::

---

### Reparatur eines Dateisystems

Wenn eine Überprüfung Ihres Dateisystems Fehler findet, müssen Sie möglicherweise eine Reparatur durchführen, um wieder Zugriff auf Ihre Daten zu erhalten. Reparaturen dauern normalerweise weniger Zeit als ein vollständiger Wiederaufbau, aber es ist wichtig, den Ausgabe sorgfältig zu lesen und bei Unsicherheiten Hilfe in den [Foren](https://forums.unraid.net/) zu suchen.

:::note\[Timing]

Reparaturen können je nach Größe oder starkem Schaden des Dateisystems von mehreren Minuten bis zu mehreren Stunden dauern. Der Fortschritt mag langsam erscheinen, aber Sie können die Aktivität überprüfen, indem Sie die Lese-/Schreibstatistiken auf der Hauptseite betrachten.

:::

#### Vorbereitungen zur Reparatur

1. In the **Main** tab, click the disk and identify the file system type (%%XFS|xfs%%, EXT4, %%BTRFS|btrfs%%, or %%ZFS|zfs%%).

2. Starten Sie das Array im richtigen Modus:

   - **For %%XFS|xfs%% or EXT4:** Use **%%Maintenance Mode|maintenance-mode%%**.
   - **Für %%BTRFS|btrfs%%:** Verwenden Sie den **Normalmodus** für ein %%scrub|scrub%%; verwenden Sie den **%%Wartungsmodus|maintenance-mode%%** für eine Reparatur.
   - **For %%ZFS|zfs%%:** Use **Normal mode** and run a %%scrub|scrub%% to check for errors. See the [ZFS storage page](../../advanced-configurations/optimize-storage/zfs-storage.mdx) for guidance on %%ZFS|zfs%% pool maintenance and repair procedures.

3. If the disk is disabled and being emulated, run the repair on the %%emulated disk|emulated-disk%% before trying to do a rebuild.

#### Repairing via the WebGUI

1. Start the %%array|array%% in the correct mode (refer to the section above).
2. In the **Main** tab, click the disk you want to repair.
3. Scroll down to **Check Filesystem Status**.
4. For XFS: The repair process is fully automated. Click **CHECK**, then **FIX** if corruption is detected, and **ZERO LOG** if prompted.
5. For other file systems: Remove any options that would run the process in check-only mode (like `--readonly` for %%BTRFS|btrfs%%).
6. If prompted, add the suggested options as indicated in the check output.
7. Click **Check** to begin the repair.
8. Monitor progress in the output box. Use **Refresh** if needed.
9. If you notice a `lost+found` folder after the repair, it may contain files or folders that couldn't be fully recovered. Use backups or the Linux `file` command to identify the contents if necessary.

:::info

Wenn Sie unsicher bezüglich der Ausgabe sind, kopieren und teilen Sie sie in den [Unraid-Foren](https://forums.unraid.net/) für professionelle Hilfe. Verwenden Sie die Codeformatierungsoption, um sie lesbar zu halten.

:::

#### Repairing via the command line

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsRepairCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsRepairCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsRepairCliZfs />
  </TabItem>
</Tabs>

:::info[After die Reparatur]

- Stop and restart the %%array|array%% in **Normal mode**.
- Das Laufwerk sollte jetzt gemountet und zugänglich sein.
- Wenn Sie einen `lost+found`-Ordner sehen, überprüfen Sie dessen Inhalt auf wichtige Dateien.

:::

Wenn Sie die Reparaturausgabe nicht verstehen oder der Prozess fehlschlägt, teilen Sie Ihre Diagnosen und das Reparaturlog im [Unraid Forum](https://forums.unraid.net/) für weitere Unterstützung.
