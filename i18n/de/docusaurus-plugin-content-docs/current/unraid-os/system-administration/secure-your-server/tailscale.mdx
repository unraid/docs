---
sidebar_position: 6
sidebar_label: Tailscale
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Tailscale

Unraid bietet jetzt eine nahtlose Integration mit [%%Tailscale|tailscale%%](https://tailscale.com/), dank einer technologischen Partnerschaft, die ein nahtloses, sicheres Netzwerk direkt mit Ihrem Server verbindet. %%Tailscale|tailscale%% ist kein traditionelles VPN - es ist ein modernes, Peer-to-Peer Overlay-Netzwerk, das auf %%WireGuard|wireguard%% basiert. Damit können Sie Geräte, Server und individuelle Docker-Container in Ihr sicheres privates Netzwerk (%%Tailnet|tailnet%%) einbinden, unabhängig von deren physischem Standort oder Netzwerkumgebung. Die Partnerschaft mit Unraid stellt sicher, dass das %%Tailscale|tailscale%% Plugin vollständig gewartet und eng integriert ist, mit nativem Zertifikatsupport und erweiterten Funktionen in Unraid 7 und neuer.

- **Einfache Einrichtung:** Kein Port-Forwarding oder Firewall-Kopfschmerzen.
- **Starke Sicherheit:** Nutzt %%WireGuard|wireguard%%-Verschlüsselung im Hintergrund.
- **Flexibles Teilen:** Gewähren Sie Zugriff auf bestimmte Geräte oder Container, nicht nur auf Ihr gesamtes Netzwerk.
- **Erstklassiger Support:** Offiziell gewartetes Plugin mit ständigen Verbesserungen.

---

## Erste Schritte mit Tailscale

Um zu beginnen, [melden Sie sich für ein kostenloses Tailscale-Konto an](https://login.tailscale.com/start) und installieren den Client auf mindestens einem Gerät (Windows, macOS, Linux, iOS, Android, und mehr). Kostenlose Konten unterstützen bis zu drei Benutzer und 100 Geräte.

Vor dem Hinzufügen von Unraid beachten Sie:

- [Benennen Sie Ihr %%Tailnet|tailnet%% um](https://tailscale.com/kb/1217/tailnet-name) für eine einfachere Identifizierung.
- Aktivieren Sie [%%MagicDNS|magicdns%%](https://tailscale.com/kb/1081/magicdns) für vereinfachtes Gerätemanagement.
- Aktivieren Sie [HTTPS-Zertifikate](https://tailscale.com/kb/1153/enabling-https) für sicheren, vertrauenswürdigen Zugriff.

:::note

Maschinennamen in HTTPS-Zertifikaten sind öffentlich. Verwenden Sie Namen, die Sie gerne teilen möchten.

:::

### Hinzufügen von Tailscale zu Unraid

Die folgenden Schritte sind aktuell und korrekt für Unraid 7 und höher:

1. Überprüfen Sie Ihre Tailscale-Kontoeinstellungen wie oben beschrieben.
2. Suchen Sie in Unraid im Tab [**Community Apps**](../../using-unraid-to/run-docker-containers/community-applications.mdx) nach dem offiziellen %%Tailscale|tailscale%%-Plugin und installieren Sie es.
3. Öffnen Sie ***Einstellungen → Tailscale*** und klicken Sie auf Reauthentifizieren. Melden Sie sich mit Ihrem %%Tailscale|tailscale%%-Konto an.
4. Klicken Sie auf **Verbinden**, um Ihren Unraid-Server zu Ihrem %%Tailnet|tailnet%% hinzuzufügen.
5. Besuchen Sie ***Settings → Management Access***, um Ihre %%Tailscale|tailscale%%-URLs für das WebGUI anzuzeigen.
6. In ***Einstellungen → Tailscale***, finden Sie den %%Tailnet|tailnet%%-Namen und die IP Ihres Servers. Verwenden Sie diese, um SMB/NFS-Freigaben, Docker-Container und mehr von jedem Gerät in Ihrem %%Tailnet|tailnet%% zuzugreifen.
   \+7. (Optional) Aktivieren Sie **Tailscale-Peers in /etc/hosts aufnehmen** (siehe [Erweiterte Namensauflösung](#enhanced-hostname-resolution)), um Tailscale-Geräte automatisch in die Namensauflösung Ihres Servers aufzunehmen, was den Zugriff auf andere Geräte in Ihrem %%Tailnet|tailnet%% erleichtert.

### Subnet-Routing (optional)

Um auf Ihren Unraid-Server über seine Haupt-LAN-IP zuzugreifen (oder um Docker-Container mit ihren eigenen IPs zu erreichen):

1. Gehen Sie zu ***Einstellungen → Tailscale***, klicken Sie auf **Neu authentifizieren** und melden Sie sich mit Ihrem Tailscale-Konto an.
2. Finden Sie in den Tailscale-Einstellungen den Abschnitt **Werbe-Routen** und fügen Sie hinzu:
   - Die IP Ihres Unraid-Servers (z. B. `192.168.0.12/32`), oder
   - Das Subnetz Ihres gesamten Netzwerks (z. B. `192.168.0.0/24`).
3. Klicken Sie auf **Anwenden**, um die Änderungen zu speichern.
4. Melden Sie sich bei Ihrem [Tailscale Admin-Console](https://login.tailscale.com/admin) an und navigieren Sie zur Seite **Maschinen**.
5. Finden Sie Ihren Unraid-Server und genehmigen Sie die ausstehende Route für das beworbene Subnetz.
6. Sobald genehmigt, können Geräte in Ihrem %%Tailnet|tailnet%% auf Ihren Unraid-Server und/oder LAN-Geräte über ihre üblichen IP-Adressen zugreifen.

:::note

Für erweiterte Details siehe die [%%Tailscale|tailscale%% %%Subnet-Routing|subnet-routing%% Dokumentation](https://tailscale.com/kb/1019/subnets).

:::

### Erweiterte Namensauflösung

Das Tailscale-Plugin enthält eine Option, um Tailscale-Peers automatisch zur `/etc/hosts`-Datei Ihres Servers hinzuzufügen. Diese Funktion vereinfacht den Gerätezugriff, indem hostname-basierte Verbindungen zu anderen Geräten in Ihrem %%Tailnet|tailnet%% aktiviert werden.

Vorteile sind:

- Zugriff auf andere Tailscale-Geräte mit benutzerfreundlichen Hostnamen anstelle von IP-Adressen.
- Automatische Updates, wenn Geräte Ihrem %%Tailnet|tailnet%% beitreten oder es verlassen.
- Verbesserte Kompatibilität mit Anwendungen, die auf Namensauflösung angewiesen sind.

Um diese Funktion zu aktivieren:

1. Gehen Sie zu ***Einstellungen → Tailscale*** in der %%WebGUI|web-gui%%.
2. Aktivieren Sie die Option **Tailscale-Peers in /etc/hosts einschließen**.
3. Klicken Sie auf **Anwenden**, um die Änderungen zu speichern.

Sobald diese aktiviert ist, können Sie auf andere Geräte in Ihrem %%Tailnet|tailnet%% von Ihrem Unraid-Server aus mit ihren Tailscale-Hostnamen zugreifen, was die Konfiguration von Diensten, den Zugriff auf freigegebene Ressourcen und das Management Ihres Netzwerks erleichtert.

---

## Hinzufügen von Tailscale zu Docker-Containern

Unraid erleichtert es, [Docker-Container](../../using-unraid-to/run-docker-containers/overview.mdx) mit Ihrem %%Tailnet|tailnet%% zu verbinden, indem jedem Container eine eindeutige Geräteidentität für sicheren, flexiblen Fernzugriff zugewiesen wird. Mit dieser Integration können Sie den Zugriff auf einzelne Container freigeben, ohne Ihren gesamten Server offenzulegen, und Funktionen wie Exit-Knoten, Serve und Funnel auf Containerbasis nutzen. Das Setup ist vollständig automatisiert, sodass Benutzer aller Qualifikationsstufen von erhöhter Sicherheit und optimiertem Networking profitieren können.

<details>
  <summary><strong>Wie die Tailscale-Docker-Integration funktioniert</strong> - Klicken, um zu erweitern/zusammenklappen</summary>

  Wenn Sie **Use %%Tailscale|tailscale%%** für einen Docker-Container aktivieren und Änderungen anwenden, automatisiert Unraid folgende Schritte für nahtlose Integration:

  1. **Entrypoint-Extraktion:** Unraid identifiziert den ursprünglichen Entrypoint und CMD des Containers und bewahrt dessen beabsichtigtes Startverhalten.
  2. **Integrationsskript-Injektion:** Das `tailscale_container_hook`-Skript wird innerhalb des Containers montiert und der Entrypoint wird aktualisiert, um dieses Skript zuerst auszuführen.
  3. **Umgebungseinrichtung:** Der ursprüngliche Entrypoint, CMD und alle erforderlichen %%Tailscale|tailscale%%-Variablen werden an den Docker-Run-Befehl übergeben.
  4. **%%Tailscale|tailscale%%-Initialisierung:** Beim Start installiert das Hook-Skript alle Abhängigkeiten, lädt herunter und startet den %%Tailscale|tailscale%%-Client innerhalb des Containers.
  5. **Normaler Start:** Das Skript startet dann den ursprünglichen Entrypoint und CMD des Containers, sodass Ihre Anwendung wie gewohnt ausgeführt wird - mit Tailscale-Netzwerk, das automatisch hinzugefügt wird.

  Einmal aktiviert, erscheint der Container als eigenes Gerät in Ihrem Tailnet, bereit für sicheren Zugriff und erweiterte Tailscale-Funktionen, ohne manuelle Netzwerkkonfiguration oder Port-Weiterleitung.
</details>

:::warning[Container kompatibilität]

Die Tailscale-Integration funktioniert nicht mit allen Containern. Einige Container funktionieren möglicherweise überhaupt nicht, wenn Tailscale aktiviert ist, insbesondere solche mit:

- Installieren Sie zuerst %%Tailscale|tailscale%% auf jedem Computer, der auf Ihre Docker-Container zugreift.
- Während das Unraid-Tailscale-Plugin für die Docker-Integration nicht zwingend erforderlich ist, wird dringend empfohlen, es zu installieren und sich auf Ihrem Unraid-Server anzumelden, um die beste Erfahrung zu erzielen.
- Anwendungen, die mit den Netzwerkänderungen von Tailscale in Konflikt stehen

Testen Sie die Tailscale-Integration zuerst mit nicht kritischen Containern und seien Sie bereit, sie zu deaktivieren, wenn der Container nicht mehr ordnungsgemäß funktioniert.

:::

:::note\[Prerequisites]

- Installieren Sie zuerst %%Tailscale|tailscale%% auf jedem Computer, der auf Ihre Docker-Container zugreift.
- Während das Unraid-Tailscale-Plugin für die Docker-Integration nicht zwingend erforderlich ist, wird dringend empfohlen, es zu installieren und sich auf Ihrem Unraid-Server anzumelden, um die beste Erfahrung zu erzielen.

:::

Um %%Tailscale|tailscale%% zu einem Docker-Container hinzuzufügen:

1. **Serve**: Ermöglicht den sicheren Zugriff auf die Website oder den Webservice eines Containers von Ihrem Tailnet aus mit einer benutzerfreundlichen HTTPS-URL. Keine Portweiterleitung erforderlich, und nur Tailnet-Geräte können eine Verbindung herstellen.
2. Gehen Sie in Unraid zum Tab **Docker** und [bearbeiten Sie den gewünschten Container](../../using-unraid-to/run-docker-containers/managing-and-customizing-containers.mdx).
3. Aktivieren Sie den **Use Tailscale**-Schalter.
4. Geben Sie einen **Tailscale-Hostname** für den Container ein (muss eindeutig in Ihrem Tailnet sein).

:::warning

Ein HTTPS-Zertifikat wird für diesen Hostnamen generiert und in einem öffentlichen Zertifikatsregister veröffentlicht. Wählen Sie einen Namen, den Sie gerne öffentlich teilen. Einzelheiten finden Sie in den [Tailscale HTTPS-Dokumenten](https://tailscale.com/kb/1153/enabling-https).

:::

5. Entscheiden Sie, ob dieser Container ein Exit-Node sein soll (nützlich für VPN-Container).
6. Wählen Sie, ob der Container einen Exit-Node für seinen ausgehenden Datenverkehr verwenden soll. Wenn das Tailscale-Plugin installiert ist, sehen Sie eine Liste der verfügbaren Exit-Nodes; andernfalls geben Sie die IP manuell ein.
7. Wenn ein Exit-Node verwendet wird, geben Sie an, ob der Container auch auf Ihr LAN zugreifen soll.
8. Das Tailscale **Userspace Networking**-Feld wird in der Regel automatisch gesetzt. Lassen Sie es deaktiviert, es sei denn, Sie haben einen speziellen Bedarf.
9. Entscheiden Sie, ob Sie **%%Tailscale|tailscale%% %%SSH|ssh%%** (gesicherter Shell-Zugriff, authentifiziert durch %%Tailscale|tailscale%%) aktivieren möchten.

:::info[Serve vs. Trichter]

- Bearbeiten Sie den Container und identifizieren Sie einen gemappten Pfad, um Tailscale-Zustandsdaten zu speichern (z. B. `/container-path/`).
- Aktivieren Sie **Erweiterte Einstellungen anzeigen** und setzen Sie das Tailscale **Statusverzeichnis** auf `/container-path/.tailscale_state`.

:::

10. Aktivieren **Serve** für die Rückwärts-Proxy Bereitstellung des Webinterface des Containers zu Ihrem Tailnet oder **Funnel** um es im öffentlichen Internet zugänglich zu machen. Unraid erkennt automatisch den zu verwendenden Port basierend auf den WebUI-Einstellungen des Containers. Bei Bedarf sind auch erweiterte Optionen verfügbar.

:::warning

%%Tailscale|tailscale%% wird häufig aktualisiert, um neue Funktionen und Sicherheitsverbesserungen zu liefern. Um Ihr Unraid-System sicher und kompatibel zu halten, stellen Sie sicher, dass sowohl das Unraid %%Tailscale|tailscale%%-Plugin als auch alle Docker-Container, die %%Tailscale|tailscale%% verwenden, auf dem neuesten Stand sind.

:::

11. **Anwenden** Sie Ihre Änderungen und überprüfen Sie den **Erweiterten Log** oder **Log-Viewer** auf Tailscale-Nachrichten. Klicken Sie auf den **Zur Authentifizierung, besuchen...** Link, um den Container in Ihrem Tailnet zu genehmigen.

:::caution\[Troubleshooting]

**Persistenter Zustand Fehler** - Wenn Sie "*ERROR: Konnte kein persistentes Docker-Verzeichnis für .tailscale_state erkennen*" sehen:

- Bearbeiten Sie den Container und identifizieren Sie einen gemappten Pfad, um Tailscale-Zustandsdaten zu speichern (z. B. `/container-path/`).
- Aktivieren Sie **Erweiterte Einstellungen anzeigen** und setzen Sie das Tailscale **Statusverzeichnis** auf `/container-path/.tailscale_state`.
- Starten Sie den Container neu.
- Docker-XML-Autoren können dies vereinfachen, indem sie `<TailscaleStateDir>/container-path/.tailscale_state</TailscaleStateDir>` zum XML der Container hinzufügen.

:::

---

## Aktualisierung von Tailscale

%%Tailscale|tailscale%% wird häufig aktualisiert, um neue Funktionen und Sicherheitsverbesserungen zu liefern. Um Ihr Unraid-System sicher und kompatibel zu halten, stellen Sie sicher, dass sowohl das Unraid %%Tailscale|tailscale%%-Plugin als auch alle Docker-Container, die %%Tailscale|tailscale%% verwenden, auf dem neuesten Stand sind.

### Aktualisieren des Tailscale-Plugins

Wenn eine neue Version verfügbar ist, aktualisieren Sie das Plugin über die Unraid Apps-Registerkarte wie jedes andere Plugin. Das Plugin wird aktiv gepflegt und regelmäßig mit den neuesten Tailscale-Funktionen aktualisiert. Sie können die neuesten Tailscale-Änderungen immer im [%%Tailscale|tailscale%% Änderungsprotokoll](https://tailscale.com/changelog) und in den [Plugin-Release-Notizen](https://github.com/unraid/unraid-tailscale/releases) einsehen.

### Aktualisierung von Tailscale in Docker-Containern

Um %%Tailscale|tailscale%% in Docker-Containern zu aktualisieren:

1. Auf der Docker-Seite fahren Sie mit der Maus über das %%Tailscale|tailscale%% Icon eines Containers. Wenn ein Update verfügbar ist, wird eine Benachrichtigung angezeigt.
2. Aktualisieren Sie den Container, indem Sie entweder:
   - Zum **Erweiterter Ansicht**-Modus wechseln (obere rechte Ecke) und dann auf **Update erzwingen** klicken.
   - Den Container bearbeiten, eine kleine Änderung vornehmen (wie z. B. das Umschalten einer Einstellung), und auf **Übernehmen** klicken.

---

## Userspace-Netzwerk

\* *„%%WireGuard|wireguard%%“ und das „%%WireGuard|wireguard%%“-Logo sind eingetragene Warenzeichen von Jason A. Donenfeld.*

- **Aktiviert:** Der Container arbeitet in einer eingeschränkten Umgebung. Er kann keine Verbindungen zu anderen %%Tailnet|tailnet%%-Geräten herstellen oder %%Tailscale|tailscale%% DNS verwenden, bleibt aber über sowohl die %%Tailscale|tailscale%% WebUI als auch die ursprüngliche WebUI-URL erreichbar.

- **Deaktiviert:** Der Container hat vollständigen %%Tailnet|tailnet%% Zugang und kann %%Tailscale|tailscale%% DNS verwenden. Er kann mit anderen %%Tailnet|tailnet%%-Geräten kommunizieren, aber die ursprüngliche WebUI-URL ist möglicherweise nicht verfügbar.

:::info[Feature anforderungen]

- Container, die als **Exit-Nodes** konfiguriert sind, haben immer das Userspace-Netzwerk aktiviert.
- Container, die **einen Exit-Node verwenden**, haben immer das Userspace-Netzwerk deaktiviert.

:::

### Kompatibilität mit Netzwerktypen

Das Verhalten der Tailscale-Integration und das Userspace-Networking hängt vom Netzwerktyp des Containers ab. Verwenden Sie die folgende Tabelle, um Kompatibilitäts- und Zugangsmöglichkeiten zu verstehen:

| Netzwerktyp          | Standardmäßig Userspace-Netzwerk | Kann geändert werden? | WebUI-Zugriff (%%Tailscale\|tailscale%%) | WebUI-Zugriff (Original)             | Anmerkungen                                                                                |
| -------------------- | -------------------------------- | --------------------- | ---------------------------------------- | ------------------------------------ | ------------------------------------------------------------------------------------------ |
| `host`               | Deaktiviert                      | Nein                  | Nein                                     | Ja                                   | %%Tailscale\|tailscale%%-Integration im Hostmodus nicht verfügbar                          |
| `brücke`             | Deaktiviert                      | Ja                    | Ja                                       | *Aktiviert*: Ja  *Deaktiviert*: Nein | Aktiviert beide URLs, wenn aktiviert; nur %%Tailscale\|tailscale%% WebUI, wenn deaktiviert |
| `eth0`/`br0`/`bond0` | Deaktiviert                      | Ja                    | Ja                                       | Ja                                   | Beide URLs sind unabhängig von der Einstellung zugänglich                                  |
| `container`/`wg0`    | Deaktiviert (nicht getestet)     | Ja                    | Unbekannt                                | Unbekannt                            | Mit Vorsicht verwenden; nicht vollständig getestet                                         |

:::info[Keep im Auge behalten]

- %%Tailscale|tailscale%%-WebUI-URLs sind nur von Geräten aus zugänglich, auf denen %%Tailscale|tailscale%% installiert und Ihrem %%Tailnet|tailnet%% beigetreten ist, oder mit explizit aktiviertem Teilen.
- Für die meisten Benutzer bieten die Standardeinstellungen sicheren und zuverlässigen Zugriff. Für spezielle Networking-Bedürfnisse stehen erweiterte Optionen zur Verfügung.

:::

\* *"%%WireGuard|wireguard%%" und das "%%WireGuard|wireguard%%" Logo sind eingetragene Marken von Jason A. Donenfeld.*
