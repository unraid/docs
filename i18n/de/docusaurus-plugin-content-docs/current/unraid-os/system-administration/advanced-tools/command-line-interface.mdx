---
sidebar_position: 1
sidebar_label: Befehlszeilenschnittstelle
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CliCpuInfo from "./partials/command-line-interface/cpu-info.mdx";
import CliMemoryInfo from "./partials/command-line-interface/memory-info.mdx";
import CliStorageInfo from "./partials/command-line-interface/storage-info.mdx";

# Befehlszeilenschnittstelle

Während die meisten Aufgaben in Unraid über die %%WebGUI|web-gui%% ausgeführt werden können, erfordern bestimmte Operationen - insbesondere solche, die mit der Diagnose, der Laufwerksverwaltung oder dem Scripting in Zusammenhang stehen - die Verwendung der Systemkonsole oder des %%SSH|ssh%% Terminals. Diese Seite bietet Unraid-spezifische Befehlszeilen-Tools und Beispiele, die ohne umfangreiche Linux-Kenntnisse verwendet werden können.

:::tip[Device Wege]

Viele Festplattenoperationen auf Unraid basieren auf Linux-Gerätenamen wie `/dev/sdX`. Sie können die Gerätekennung für jedes Laufwerk im **Main**-Tab der %%WebGUI|web-gui%% finden. Suchen Sie nach dem dreibuchstabigen Label `sdX` oder `nvmeX` neben jeder Festplatte. Verwenden Sie den entsprechenden Bezeichner in allen Befehlen, indem Sie `sdX` durch Ihre spezifische Festplatte ersetzen.

:::

## Zugriff auf das Terminal

Unraid enthält ein integriertes Web-Terminal, auf das Sie direkt über die %%WebGUI|web-gui%% zugreifen können. Verwenden Sie einfach das Dropdown-Menü oben rechts und wählen Sie ">_". Dies öffnet eine Befehlszeilensitzung als %%root user|root-user%%, die Ihnen vollständigen administrativen Zugriff auf Ihr System gewährt.

Sie können auch extern über %%SSH|ssh%% (Secure Shell) mit einem Client wie %%PuTTY|putty%% auf Ihren Unraid-Server zugreifen.

:::tip[When Sollte ich das Terminal verwenden?

If you're using Windows, you might prefer %%PuTTY|putty%% for %%SSH|ssh%% access instead of the built-in terminal. It's lightweight, free, and allows you to save sessions for easy access later.

- Ausführen von Diagnosen und Befehlszeilentools wie `smartctl`, `xfs_repair`, `tail` oder `top`.
- Ausführen von Plugin-Skripten oder Tools, die keine Benutzeroberfläche erfordern.
- Fehlerbehebung bei Problemen mit der Konnektivität, Systemdiensten oder %%user shares|user-share%%.

:::

### Laufwerktests und Überwachung

If you're using Windows, you might prefer %%PuTTY|putty%% for %%SSH|ssh%% access instead of the built-in terminal. It's lightweight, free, and allows you to save sessions for easy access later.

<details>
  <summary><strong>Wie man PuTTY installiert und verwendet</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Laufwerksinformationen anzeigen:**

  ```bash
  hdparm -I /dev/sdX
  ```

  Dies zeigt das Modell, die Firmware, die Cache-Größe und unterstützte Funktionen an, was hilft, den Datenträgertyp und das Controllerverhalten zu überprüfen.
</details>

### `smartctl`

Dieser Befehl führt %%SMART|smart%% Diagnosen durch und überwacht die Gesundheit der Laufwerke.

<details>
  <summary><strong>Smartctl-Optionen anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Basis %%SMART|SMART%% Bericht:**

  ```bash
  smartctl -a /dev/sdX
  ```

  Wenn dieser Befehl einen Fehler anzeigt, versuchen Sie, den Gerätetyp anzugeben: `smartctl -a -d ata /dev/sdX` (verwenden Sie `-d nvme` für NVMe-Laufwerke).

  **%SMART|smart%% Selbsttests starten:**

  Kurzer Test (dauert einige Minuten)

  ```bash
  smartctl -t short /dev/sdX
  ```

  Erweiterter Test (kann Stunden dauern)

  ```bash
  smartctl -t long /dev/sdX
  ```

  **Speichern Sie %%SMART-Bericht|smart-report%% in einer Datei:**

  ```bash
  smartctl -a /dev/sdX > /boot/smart_report.txt
  ```

  Dies speichert den Bericht auf Ihrem Unraid-Flash-Laufwerk zur späteren Überprüfung oder zum Teilen im [Forum](https://forums.unraid.net/).
</details>

### Systemüberwachung

Verwenden Sie diese Befehle, um Speicher, Prozesse und Systemleistung zu überwachen, wenn der %%WebGUI|web-gui%% nicht verfügbar ist oder für detailliertere Diagnosen.

<details>
  <summary><strong>Top-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  Früher war dies ein Skript, das Sie aus den Unraid-Foren heruntergeladen haben. DiskSpeed ist jetzt in einem verfeinerten Paket erhältlich:

  Installieren Sie DiskSpeed aus den [Community Applications](../../using-unraid-to/run-docker-containers/community-applications.mdx) (***Apps-Registerkarte***) durch die Suche nach "DiskSpeed" oder besuchen Sie das [GitHub-Repository](https://github.com/jbartlett777/DiskSpeed) für manuelle Installationsanweisungen.
</details>

---

## Systemüberwachung

Verwenden Sie diese Befehle, um Speicher, Prozesse und Systemleistung zu überwachen, wenn der %%WebGUI|web-gui%% nicht verfügbar ist oder für detailliertere Diagnosen.

### `ps`

Verwenden Sie diesen Befehl, um laufende Prozesse mit detaillierten Informationen anzuzeigen.

<details>
  <summary><strong>Ps-Optionen anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  ```bash
  top
  ```

  - Zeigt die CPU- und Speichernutzung für jeden Prozess in Echtzeit an.
  - Drücken Sie `q`, um den Vorgang zu beenden.
  - Verwenden Sie die Pfeiltasten zum Scrollen und `k`, um Prozesse zu beenden.

    **Nach Speicherverbrauch sortieren:**
</details>

### `frei`

Dieser Befehl zeigt Speicherverbrauchsstatistiken an.

<details>
  <summary><strong>Freie Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  ```bash
  free -h
  ```

  Dies zeigt die RAM-Nutzung in einem menschenlesbaren Format an. Das `-h`-Flag bedeutet, dass die Größenangaben in KB, MB oder GB anstatt in Bytes angezeigt werden.

  :::tip[Understand Den Ausgang]
  Ein niedriger Speicherwert "verfügbar" zeigt nicht unbedingt ein Problem an - Linux cached aggressiv Daten für Leistungszwecke.
  :::
</details>

### Speicher-Utilities

Diese Befehle helfen, den Speicherplatzverbrauch, Partitionsinformationen zu überprüfen und Speichereinheiten zu identifizieren.

<details>
  <summary><strong>Df-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Alle Prozesse mit vollständigen Details auflisten:**

  ```bash
  ps aux
  ```

  :::tip
  Erwägen Sie die Verwendung von `htop` für eine benutzerfreundlichere Schnittstelle mit erweiterten Steuerungen.
  :::

  ```bash
  ps aux --sort=-%mem | head -20
  ```

  **Nach CPU-Nutzung sortieren:**

  ```bash
  ps aux --sort=-%cpu | head -20
  ```
</details>

---

## Speicher-Utilities

Diese Befehle helfen, den Speicherplatzverbrauch, Partitionsinformationen zu überprüfen und Speichereinheiten zu identifizieren.

### `lsblk`

Listet alle Blockgeräte in Baumstruktur auf.

<details>
  <summary><strong>Lsblk-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  ```bash
  df -h
  ```

  Dieser Befehl zeigt den verwendeten und verfügbaren Speicherplatz auf allen eingebundenen Dateisystemen an. Er ist praktisch zum Überprüfen von `/var/log` (das RAM-basiertes Logging nutzt) in Unraid. Für weitere Informationen zum [System Logging](../../troubleshooting/diagnostics/capture-diagnostics-and-logs.mdx).
</details>

### `blockdev -getsz`

Hilft zu bestimmen, ob ein Ersatzlaufwerk ausreichend Speicherplatz für den Wiederaufbau hat.

<details>
  <summary><strong>Blockdev-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  ```bash
  fdisk -l /dev/sdX
  ```

  Dieser Befehl zeigt das Partitionslayout, die Größen und die Geometrie der Festplatte an. Er hilft bei der Fehlersuche bei nicht übereinstimmenden Festplattengrößen, insbesondere beim [Austauschen von Festplatten](../../using-unraid-to/manage-storage/array/replacing-disks-in-array.mdx).
</details>

### `blkid`

Dateisystembeschriftungen identifizieren.

<details>
  <summary><strong>Blkid-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  ```bash
  lsblk
  ```

  Dieser Befehl zeigt den verwendeten und verfügbaren Speicherplatz auf allen eingebundenen Dateisystemen an. Er ist praktisch zum Überprüfen von `/var/log` (das RAM-basiertes Logging nutzt) in Unraid. Für weitere Informationen zum [System Logging](../../troubleshooting/diagnostics/capture-diagnostics-and-logs.mdx).
</details>

### `blockdev -getsz`

Hilft zu bestimmen, ob ein Ersatzlaufwerk ausreichend Speicherplatz für den Wiederaufbau hat.

<details>
  <summary><strong>Fdisk-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Syntax:**

  ```bash
  blockdev --getsz /dev/sdX
  ```

  Gibt die rohen Anzahl der 512-Byte-Sektoren eines Geräts zurück - praktisch, um zu bestätigen, dass ein Ersatzlaufwerk groß genug ist, bevor der Wiederaufbau beginnt.
</details>

### Netzwerkdiagnosen

Werkzeuge zur Fehlerbehebung bei Netzwerkverbindungen und Interface-Konfiguration.

<details>
  <summary><strong>Ss-Optionen anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Syntax:**

  ```bash
  blkid /dev/sdX1
  ```

  Gibt den Dateisystemtyp und das Label aus. Verwenden Sie dies anstelle des veralteten `vol_id`-Befehls, um zu überprüfen, dass das Unraid-Flash mit `UNRAID` beschriftet ist.
</details>

---

## Netzwerkdiagnosen

Werkzeuge zur Fehlerbehebung bei Netzwerkverbindungen und Interface-Konfiguration.

### `ping`

Netzwerkkonnektivität testen.

<details>
  <summary><strong>Ping-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Konnektivität testen, indem eine begrenzte Anzahl von Paketen gesendet wird:**

  ```bash
  ss -tuln
  ```

  - `-t`: TCP-Sockets
  - `-u`: UDP-Sockets
  - `-l`: Zeigt nur lauschende Sockets an
  - `-n`: Zeigt Portnummern anstelle von Servicenamen

    **Etablierten Verbindungen anzeigen:**

    ```bash
    ss -tup
    ```

    Dieser Befehl zeigt aktive Verbindungen zusammen mit Prozessinformationen an.
</details>

### `ethtool`

Ein praktisches Werkzeug zum Abfragen und Anpassen von Parametern der Netzwerkschnittstellenkarte (NIC), wie Link-Geschwindigkeit, Offload-Funktionen und Statistik.

<details>
  <summary><strong>Ethtool-Nutzung anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Grundlegende Treiber- und Firmware-Informationen:**

  ```bash
  ip addr show
  ```

  **Netzwerkschnittstellen mit Farben anzeigen:**

  ```bash
  ip -c addr show
  ```

  Um die aktuelle Link-Geschwindigkeit und Einstellungen Ihrer Schnittstelle zu prüfen, führen Sie aus:

  ```bash
  ip route show
  ```
</details>

### `ping`

Netzwerkkonnektivität testen.

<details>
  <summary><strong>Ss-Optionen anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Alle offenen Ports anzeigen:**

  ```bash
  ping -c 4 google.com
  ```

  Dieser Befehl sendet vier Pakete an das Ziel und stoppt, was ihn für grundlegende Konnektivitätstests ohne kontinuierliche Ausgabe geeignet macht.
</details>

### `tail`

Protokolldateien in Echtzeit überwachen.

<details>
  <summary><strong>IP-Optionen anzeigen</strong> - Klicken Sie, um ausklappen/einklappen</summary>

  **Alle Netzwerkschnittstellen anzeigen:**

  Verwenden Sie diesen Befehl, um Informationen über den Treiber und die Firmware Ihrer Netzwerkschnittstelle zu erhalten:

  ```bash
  ethtool -i eth0
  ```

  **Aktuelle Link-Geschwindigkeit und Einstellungen anzeigen:**

  **Routing-Tabelle anzeigen:**

  ```bash
  ethtool eth0
  ```

  **Erweiterte Schnittstellenstatistiken anzeigen:**

  Für erweiterte Statistiken im Zusammenhang mit der Schnittstelle verwenden Sie den folgenden Befehl:

  ```bash
  ethtool -S eth0
  ```

  Diese Befehle können helfen, die Verhandlungsraten für Gigabit, 2.5 GbE oder 10 GbE-Verbindungen zu bestätigen, Probleme mit Kabeln zu diagnostizieren oder verlorene Pakete zu identifizieren, die aufgrund von Offload-Unstimmigkeiten auftreten könnten.
</details>

---

## Systemwartung

Befehle zum Herunterfahren des Systems, zur Protokollüberwachung und zur Dienstverwaltung.

<Tabs>
  <TabItem value="cpu" label="CPU-Info">
    <CliCpuInfo />
  </TabItem>

  <TabItem value="memory" label="RAM-Informationen">
    <CliMemoryInfo />
  </TabItem>

  <TabItem value="storage" label="Speicherinformationen">
    <CliStorageInfo />
  </TabItem>
</Tabs>

---

## Systemwartung

Befehle zum Herunterfahren des Systems, zur Protokollüberwachung und zur Dienstverwaltung.

### `tail`

Protokolldateien in Echtzeit überwachen.

<details>
  <summary><strong>Verwendung von tail anzeigen</strong> - Zum Erweitern/Reduzieren klicken</summary>

  ```bash
  tail -f /var/log/syslog
  ```

  Dieser Befehl zeigt Live-Updates aus dem Systemprotokoll an. Zum Beenden verwenden Sie `Strg+C`.

  **Eine bestimmte Anzahl von Zeilen anzeigen:**

  ```bash
  tail -n 50 /var/log/syslog
  ```
</details>

### `powerdown`

System sicher herunterfahren.

<details>
  <summary><strong>Verwendung von powerdown anzeigen</strong> - Zum Erweitern/Reduzieren klicken</summary>

  ```bash
  powerdown
  ```

  Dieser Befehl verwendet den eingebauten Abschaltvorgang von Unraid, um das %%array|array%% zu stoppen und das System sicher herunterzufahren. Es wird der manuellen Abschaltung vorgezogen.
</details>

---

## Dateitransfer-Operationen

Diese Methoden helfen Ihnen, Dateien von externen Netzwerkspeicherfreigaben (Windows- oder Linux SMB/CIFS-Freigaben) auf Ihren Unraid-Server mit Befehlszeilen-Tools und integrierten Dienstprogrammen zu übertragen.

### Verwendung von Midnight Commander (integriert)

Unraid enthält **Midnight Commander** (`mc`), einen textbasierten, dual-pane Datei-Manager, der über das Web-Terminal zugänglich ist.

1. Öffnen Sie das Web-Terminal. Diese Option finden Sie im Menü oben rechts in der Unraid %%WebGUI|web-gui%%.

2. Midnight Commander starten:

   ```bash
   mc
   ```

   Diese Benutzeroberfläche bietet Navigation per Drag-and-Drop zwischen lokalen Freigaben und eingebundenen Netzwerkpfaden.

3. Montieren Sie eine Netzwerkfreigabe (falls noch nicht gemountet):

   ```bash
   # Create a temporary mount point
   mkdir /work
   ```

   ```bash
   # 1) Interactive prompt (recommended for one-off mounts)
   mount -t cifs //workstation/share /work -o username=youruser,iocharset=utf8
   # You will be prompted for the password interactively.
   ```

   ```bash
   # 2) Use a credentials file (recommended for scripts/automation)
   # Create /root/.cifscredentials with the following content:
   #   username=youruser
   #   password=yourpassword
   # Then protect the file and mount using:
   chmod 600 /root/.cifscredentials
   mount -t cifs //workstation/share /work -o credentials=/root/.cifscredentials,iocharset=utf8
   ```

   - Ersetzen Sie `workstation`, `share` und `youruser` durch die entsprechenden Werte.
   - Die Option `iocharset=utf8` hilft, internationale Dateinamen beizubehalten.

   **Sicherheitsnotiz:** Geben Sie keine Passwörter über die Befehlszeile ein (z.B. `password=...`).
   Die Argumente können in der Shell-Historie aufgezeichnet und anderen lokalen
   Nutzern über Prozesslisten sichtbar gemacht werden; bevorzugen Sie interaktive Eingabeaufforderungen oder eine geschützte Datei für Anmeldeinformationen
   mit `chmod 600`.

4. Verwenden Sie die MC-Panels, um Dateien zwischen `/work` (der Netzwerkfreigabe) und beliebigen `/mnt/user/` oder `/mnt/diskX` Freigaben zu verschieben.

5. Aufräumen danach:

   ```bash
   umount /work
   rmdir /work
   ```

Midnight Commander läuft vollständig innerhalb des integrierten Systems, erfordert keine zusätzliche Installation. Es ist für die meisten Übertragungsbedürfnisse geeignet, einschließlich solcher mit Unicode-Dateinamen, und bewahrt Dateiattribute, wenn sowohl Quelle als auch Ziel dies unterstützen.

### Verwendung von Krusader

Wenn Sie eine grafische Benutzeroberfläche bevorzugen, können Sie Docker-Container wie [Krusader](https://unraid.net/community/apps?q=krusader#r:~:text=batch%20renaming%2C%20etc.-,Krusader,-Productivity%2C%20Tools) als Drittanbieter-Lösung verwenden.

1. Krusader installieren:
   - Navigieren Sie zur **Apps**-Registerkarte (Community Applications).
   - Suchen und installieren Sie den **Krusader** Docker-Container.
2. Starten Sie den Container und greifen Sie über die **Docker**-Registerkarte auf das WebUI zu.
3. Verbinden Sie sich mit Remote-Freigaben innerhalb von Krusader und verwenden Sie Drag-and-Drop oder Kopieren und Einfügen, um Dateien zwischen der Netzwerkfreigabe und Ihrem Unraid %%array|array%% zu übertragen.

:::info

Andere beliebte Dateimanager-Container umfassen [**Double Commander**](https://unraid.net/community/apps?q=double+commander#r:~:text=of%201%20App-,doublecommander,-Tools%20/%20Utilities%2C) und [**CloudCommander**](https://unraid.net/community/apps?q=cloudcommander#r:~:text=of%201%20App-,CloudCommander,-Tools%20/%20Utilities%2C), die beide über Community Applications verfügbar sind.

:::

### Kommandozeilen-Methoden

Für fortgeschrittene Benutzer oder solche, die Automatisierung nutzen, können Sie auch Kommandozeilen-Übertragungsmethoden verwenden.

<details>
  <summary><strong>Zeigen Sie Befehlszeilenübertragungsanweisungen an</strong> - Klicken zum Erweitern/Zusammenklappen</summary>

  1. Öffnen Sie das Terminal (Web-Terminal oder %%SSH|ssh%% als `root`).

  2. Eine Netzwerkfreigabe erstellen und einbinden:

  ```bash
  mkdir /work
  ```

  ```bash
  # 1) Interactive prompt (recommended for one-off mounts)
  mount -t cifs //workstation/share /work -o username=youruser,iocharset=utf8
  # You will be prompted for the password interactively.
  ```

  ```bash
  # 2) Use a credentials file (recommended for scripts/automation)
  # Create /root/.cifscredentials with the following content:
  #   username=youruser
  #   password=yourpassword
  # Then protect the file and mount using:
  chmod 600 /root/.cifscredentials
  mount -t cifs //workstation/share /work -o credentials=/root/.cifscredentials,iocharset=utf8
  ```

  **Sicherheitsanmerkung:** Geben Sie keine Passwörter über die Befehlszeile ein. Verwenden Sie stattdessen eine interaktive Eingabeaufforderung oder eine Datei mit Anmeldeinformationen mit strengen Berechtigungen.

  1. Kopieren Sie Dateien:

     - Sie können `cp` verwenden:

       ```bash
       cp -r /work/* /mnt/disk1
       ```

     - Oder verwenden Sie `rsync` für detaillierten Fortschritt:

       ```bash
       rsync -av --progress /work/ /mnt/disk1/
       ```

  2. Die temporären Verzeichnisse aushängen und löschen:

     ```bash
     umount /work
     rmdir /work
     ```
</details>

:::caution

Beim Übertragen von Dateien mit speziellen oder internationalen Zeichen mounten Sie die Freigabe immer mit der Option `iocharset=utf8`. Andernfalls können falsche Dateinamen oder unlesbare Dateien auf anderen Plattformen resultieren.

Wenn Sie Dateien als `root` über das Terminal kopieren, haben diese möglicherweise restriktive Berechtigungen. Wenn dies der Fall ist, verwenden Sie das **Neue Berechtigungen**-Tool im **Tools**-Menü im %%WebGUI|web-gui%% oder das \*\*Docker-Safe New Perms \*\*, wenn es sich um Docker-involvierte Freigaben handelt, um Berechtigungen zurückzusetzen und sicherzustellen, dass alle Benutzer Netzwerkzugriff haben.

:::
