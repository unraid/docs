# Version 6.12.0 2023-06-14

## Upgrade-Hinweise

Beim Start, wenn sich alle in `config/vfio-pci.cfg` angegebenen PCI-Geräte nicht ordnungsgemäß binden, wird der automatische Start von VMs verhindert. Sie können jedoch einzelne VMs manuell starten. Dies ist, um einen Absturz des Unraid-Hosts zu verhindern, falls sich die PCI-IDs der Hardware aufgrund eines Kernel-Updates oder einer physischen Hardwareänderung geändert haben. Um den automatischen Start von VMs wiederherzustellen, überprüfen Sie `/var/log/vfio-pci-errors` und entfernen Sie problematische PCI-IDs aus der `config/vfio-pci.cfg`-Datei und starten Sie neu.

Wenn Sie von 6.12 auf 6.11.5 oder früher zurückkehren, müssen Sie alle Ihre Docker-Container zwangsweise aktualisieren und nach dem Downgrade manuell starten. Dies ist notwendig aufgrund der grundlegenden Änderung zu cgroup v2 ab 6.12.0-rc1.

Linux [Multi-Gen LRU](https://lwn.net/Articles/856931/) ist eine relativ neue Funktion, die jetzt enthalten, aber standardmäßig nicht aktiviert ist. Sie können sie aktivieren, indem Sie diese Zeile zu Ihrer 'config/go'-Datei hinzufügen:

`echo y > /sys/kernel/mm/lru_gen/enabled`

Wenn Sie von 6.12 auf 6.11.5 oder früher zurückkehren, müssen Sie diese Zeile möglicherweise entfernen.

Wenn Sie Pools mit 6.12.0-beta5 erstellt haben, bitte löschen Sie diese Pools und erstellen Sie sie neu.

### Veraltete/Beschädigte Plugins

Es gibt einige Plugins, die mit Unraid 6.12 nicht kompatibel sind und beim Booten nicht installiert werden. Sie erhalten eine Benachrichtigung für jedes betroffene Plugin und können die Liste unter **Plugins/Plugin Datei Installationsfehler** prüfen.

- disklocation-master Version 2022.06.18 (`Disk Location` von olehj, unterbricht das Dashboard)
  - Aktualisieren Sie dieses Plugin vor dem Upgraden des Betriebssystems
- plexstreams Version 2022.08.31 (`Plex Streams` von dorgan, unterbricht das Dashboard)
  - Aktualisieren Sie dieses Plugin vor dem Upgraden des Betriebssystems
- corsairpsu Version 2021.10.05 (`Corsair PSU Statistics` von Fma965, unterbricht das Dashboard)
  - Aktualisieren Sie dieses Plugin vor dem Upgraden des Betriebssystems
- gpustat Version 2022.11.30a (`GPU Statistics` von b3rs3rk, unterbricht das Dashboard)
  - Wechseln Sie zu `GPU Statistics` von SimonF
- ipmi Version 2021.01.08 (`IPMI Tools` von dmacias72, unterbricht das Dashboard)
  - Wechseln Sie zu `IPMI Tools` von SimonF
- nut Version 2022.03.20 (`NUT - Network UPS Tools` von dmacias72, unterbricht das Dashboard)
  - Wechseln Sie zu `NUT - Network UPS Tools` von SimonF
- NerdPack Version 2021.08.11 (`Nerd Tools` von dmacias72)
  - Wechseln Sie zu `NerdTools` von UnRAIDES
- upnp-monitor Version 2020.01.04c (`UPnP Monitor` von ljm42, nicht mit PHP 8 kompatibel)
- ZFS-companion Version 2021.08.24 (`ZFS-Companion` von campusantu, unterbricht das Dashboard)

Einige der betroffenen Plugins wurden von anderen Entwicklern übernommen. Wir empfehlen, auf die **Apps**-Seite zu gehen und nach Ersatz zu suchen. Bitte stellen Sie plugin-spezifische Fragen im Support-Thread für das jeweilige Plugin.

### Bekannte Probleme

#### Abstürze im Zusammenhang mit dem i915-Treiber

Hinweis: Das Problem besteht ab Unraid [6.12.6](6.12.6.md#bug-fixes-and-improvements) nicht mehr.

Wir sind uns bewusst, dass einige 11. Gen. Intel Rocket Lake-Systeme auf Abstürze des i915 iGPU stoßen. Wenn Ihr Rocket Lake-System unter Unraid 6.12.0-6.12.5 abstürzt, öffnen Sie ein Web-Terminal, geben Sie dies ein und starten Sie dann neu:

`echo "options i915 enable_dc=0" >> /boot/config/modprobe.d/i915.conf`

Das Einstellen dieser Option kann zu einem höheren Stromverbrauch führen, aber es könnte dieses Problem für diese GPUs lösen.

#### Call Traces im Zusammenhang mit macvlan

Wenn Sie Call Traces im Zusammenhang mit macvlan erhalten, empfehlen wir als ersten Schritt zu _**Einstellungen > Docker**_ zu navigieren, zur erweiterten Ansicht zu wechseln und den **Docker-Benutzerdefinierten Netzwerktyp** von **macvlan** auf **ipvlan** zu ändern. Dies ist die Standardkonfiguration, die seit Version 6.11.5 mit Unraid ausgeliefert wird und sollte bei den meisten Systemen funktionieren.

Einige Benutzer haben jedoch Probleme mit der Portweiterleitung bei bestimmten Routern (Fritzbox) und verringerte Funktionalität bei erweiterten Netzwerkmanagement-Tools (Ubiquity), wenn sie im ipvlan-Modus sind.

In 6.12.0 ist die [zwei-NIC Docker-Segmentierungsmethode](https://forums.unraid.net/topic/137048-guide-how-to-solve-macvlan-and-ipvlan-issues-with-containers-on-a-custom-network/) eine machbare Lösung, aber wir empfehlen ein Upgrade auf Unraid [6.12.4](6.12.4.md), das eine bessere Lösung bietet.

#### Plex

Wenn Docker-Container nach einer Weile Probleme beim Starten haben und Sie Plex ausführen, gehen Sie zu Ihren Plex Docker-Container-Einstellungen, wechseln Sie zur erweiterten Ansicht und fügen Sie dies zu den zusätzlichen Parametern hinzu: `--no-healthcheck`

### Rückschritte

Siehe die Anmerkungen unter [Upgrade Hinweise](#upgrade-notes)

## ZFS Pools

Neu in dieser Version ist die Möglichkeit, ein ZFS-Dateisystem in einem benutzerdefinierten Pool zu erstellen. Sie können auch jedes Datenlaufwerk im Unraid-Array mit einem Einzelgerät-ZFS-Dateisystem formatieren. Für einen guten Überblick über ZFS, siehe [diesen Artikel](https://arstechnica.com/information-technology/2020/05/zfs-101-understanding-zfs-storage-and-performance/).

Wir teilen die vollständige ZFS-Implementierung auf zwei Unraid OS-Veröffentlichungen auf. Die erste Unterstützung in dieser Version umfasst:

- Unterstützung für raid0, Spiegel, raidz1, raidz2 und raidz3 Wurzelprofile. Bis zu 4-fache Spiegelung in einem Spiegel-vdev. Mehrere vdev-Gruppen.
- Unterstützung für das Entfernen einzelner Geräte: Wenn das Gerät noch im Server vorhanden ist, wird 'wipefs' verwendet, um die Partitionstabelle zu löschen.
- Unterstützung für das Ersetzen einzelner fehlender Geräte durch ein neues Gerät gleicher oder größerer Größe.
- Unterstützung für geplantes Trimmen von ZFS-Pools.
- Unterstützung für Pool-Umbenennung.
- Poolnamen müssen mit einem Kleinbuchstaben beginnen und dürfen nur Kleinbuchstaben, Ziffern, den Unterstrich und Bindestrich enthalten. Poolnamen dürfen nicht mit einer Ziffer enden.
- Non-root vdev cannot be configured in this release, however, they can be imported.  Note: imported hybrid pools may not be
  expanded in this release.
- Pools, die auf anderen Systemen erstellt wurden, können je nach Art der Erstellung möglicherweise importiert werden. Ein zukünftiges Update wird das Importieren von Pools von jedem System ermöglichen.

Ein ZFS-Pool hat drei Variablen:

- Profil - die Datenorganisation der Wurzel: raid0, Mirror (bis zu 4-Wege), raidz1, raidz2, raidz3
- Breite - die Anzahl der Geräte pro Root-vdev
- Gruppen - die Anzahl der Root-vdevs im Pool

Zum Zeitpunkt der Erstellung des ZFS-Pools zeigt das WebGUI alle Topologieoptionen basierend auf der Anzahl der dem Pool zugewiesenen Geräte an.

Spezialbehandlung für einheitliche Wurzel-Mirror-vdevs:

- Ein einzelgerätiger ZFS-Pool kann in einen Mehrgerät-Mirror umgewandelt werden, indem bis zu 3 zusätzliche Geräte in einem Vorgang hinzugefügt werden.
- Ein 2-Geräte-Spiegel kann auf 3-Geräte erhöht werden, indem ein einzelnes Gerät hinzugefügt wird; ähnlich kann ein 3-Geräte-Spiegel auf einen 4-Geräte-Spiegel erhöht werden, indem ein einzelnes Gerät hinzugefügt wird.

Um ein zusätzliches Wurzel-vdev hinzuzufügen, müssen Sie gleichzeitig die 'Breite'-Anzahl neuer Geräte dem Pool zuweisen. Das neue vdev wird mit dem gleichen 'Profil' wie die vorhandenen vdevs erstellt. Zusätzliche Flexibilität beim Hinzufügen/Erweitern von vdevs wird in einem zukünftigen Update bereitgestellt.

Pools, die mit dem **steini84**-Plugin erstellt wurden, können wie folgt importiert werden: Erstellen Sie zuerst einen neuen Pool mit der Anzahl der Slots, die der Anzahl der im Pool zu importierenden Geräte entspricht. Weisen Sie als Nächstes alle Geräte dem neuen Pool zu. Beim Start des Arrays sollte der Pool erkannt werden, obwohl bestimmte zpool-Topologien möglicherweise nicht erkannt werden (bitte melden Sie uns diese). Bitte beachten Sie, dass in dieser Version nur Pools importiert werden können, die Partition #1 verwenden, z. B. diese `lsblk`-Ausgabe:

```bash
# lsblk
NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sdb           8:16   0   7.3T  0 disk
├─sdb1        8:17   0     2G  0 part
└─sdb2        8:18   0   7.3T  0 part
```

zeigt an, dass die zweite (`sdb2`) Partition der Festplatte für Daten verwendet wird und **nicht** importiert werden kann.

Gemischte Topologien werden nicht unterstützt. Beispielsweise wird ein Pool mit einem Spiegel-Wurzel-vdev und einem Raidz-Wurzel-vdev nicht erkannt.

Autotrim kann als **an** oder **aus** konfiguriert werden (außer für ZFS-Einzelgerätevolumes im unRAID-Array).

Die Kompression kann als **an** oder **aus** konfiguriert werden, wobei **an** **lz4** auswählt. Ein zukünftiges Update wird ermöglichen, andere Algorithmen/Ebenen zu spezifizieren.

Beim Erstellen eines neuen ZFS-Pools können Sie **zfs - verschlüsselt** wählen, was wie bei anderen verschlüsselten Volumen eine gerätebasierte Verschlüsselung über LUKS anwendet. Die native ZFS-Verschlüsselung wird derzeit nicht unterstützt.

Beim Systemstart wird die Datei /etc/modprobe.d/zfs.conf automatisch generiert, um den ZFS-ARC auf 1/8 des installierten Speichers zu begrenzen. Dies kann bei Bedarf überschrieben werden, indem Sie eine benutzerdefinierte 'config/modprobe.d/zfs.conf'-Datei erstellen. Ein zukünftiges Update wird die Möglichkeit beinhalten, den ARC über das WebGUI zu konfigurieren, einschließlich der automatischen Anpassung entsprechend dem Speicherdruck, z. B. beim Start/Stop von VMs.

Top-Level-Benutzerfreigaben in einem ZFS-Pool werden als Datasets anstelle gewöhnlicher Verzeichnisse erstellt.

## Änderung des Speicherbegriffs für Freigaben

Neu in dieser Version ist eine konzeptuelle Änderung in der Art und Weise, wie Speicher Shares zugewiesen wird. Das alte Konzept, dass der Hauptspeicher das Unraid-Array mit einem optionalen "Cache" ist, verwirrt viele neue Benutzer, insbesondere da "Cache" im ZFS eine spezifische Bedeutung hat.

Wie unten beschrieben, haben wir das Konzept eines _exklusiven Shares_ eingeführt. Dies ist einfach ein Share, in dem alle Daten in einem einzigen benannten Pool vorhanden sind. In diesem Fall gibt das auf FUSE basierende User-Share-Dateisystem einen **Symlink** auf das tatsächliche Sharedirectory im Pool zurück. Alle Operationen innerhalb des Shares, einschließlich der Datenübertragung, umgehen daher FUSE, was zu einer höheren Leistung führt. Diese Funktion zielt hauptsächlich darauf ab, die E/A für große schnelle ZFS-Pools zu maximieren, die über ein schnelles Netzwerk zugänglich sind.

Dies ist nur eine Front-End-Änderung; bestehende Freigaben werden mit dieser neuen Struktur automatisch beim Upgrade angezeigt und automatisch auf den vorherigen Stil zurückgesetzt, wenn auf eine frühere Version zurückgegangen wird.

Das Konfigurieren der Speicheroptionen für eine Freigabe erfolgt über zwei Eingaben:

- Primärer Speicher
- Sekundärer Speicher

Primärspeicher ist der Ort, an dem **neue** Dateien/Ordner erstellt werden. Wenn der Primärspeicher unter dem Minimum Free Space-Einstellung liegt, werden neue Dateien und Ordner im Sekundärspeicher erstellt, falls dieser konfiguriert ist.

Jede Eingabe zeigt ein Dropdown an, das als Auswahl "Array", "keine" und jeden benannten Pool gemäß einigen Konfigurationsregeln auflistet:

Für das Primäre Speicher-Dropdown:

- die Option "keine" ist ausgelassen, d.h., ein Primärer Speicher muss ausgewählt werden
- jeder benannte Pool kann ausgewählt werden
- "Array" kann ausgewählt werden (bedeutet das unRAID-Array)

Für das Sekundäre Speicher-Dropdown:

- die Option "keine" ist enthalten, d.h., Sekundärer Speicher ist optional
- Wenn der Primärspeicher ein Poolname ist, dann sind die einzigen Optionen "keine" und "Array". In Zukunft werden hier auch andere Pools aufgeführt sein.
- wenn Primärspeicher "Array" ist, dann erscheint nur "keine" als Option

Wenn "Array" für Primären oder Sekundären Speicher ausgewählt wird, schieben sich weitere Einstellungen ein:

- Zuweisungsprofil
- Eingeschlossene Platte(n)
- Ausgeschlossene Festplatte(n)
- Teilungsstufe

Wenn ein _btrfs_ benannter Pool für Primären oder Sekundären Speicher ausgewählt wird, wird eine zusätzliche Einstellung eingeblendet:

- Kopiergeschützte Aktivierung aktivieren

Wenn ein _ZFS_-benannter Pool entweder für den Primär- oder Sekundärspeicher ausgewählt wird, gibt es zu diesem Zeitpunkt keine zusätzlichen Einstellungen, es könnte jedoch in Zukunft welche geben. Beispielsweise, da ein Share als ZFS-Dataset erstellt wird, könnte es eine andere Kompressionskonfiguration als der übergeordnete Pool haben, wenn wir dies implementieren müssen.

### Mover-Aktion

Wenn ein Sekundärer Speicher für eine Freigabe konfiguriert ist, wird die Einstellung "Mover-Aktion" aktiviert, sodass der Benutzer die Bewegungsrichtung des Movers auswählen kann:

- Primär zu Sekundär (Standard)
- Sekundär zu Primär

### Exklusive Freigaben

Wir haben eine neue Einstellung hinzugefügt: "Einstellungen/Globale Freigabeeinstellungen/Exklusive Freigaben erlauben" \[Ja/Nein] Standard: Nein. Wenn auf Ja gesetzt und wenn der primäre Speicher für eine Freigabe ein Pool ist und der sekundäre Speicher auf "None" gesetzt ist, wird ein Symlink unter /mnt/user/_share_ erstellt, der direkt auf das Pool-Freigabeverzeichnis verweist. (Es wird zusätzlich überprüft, dass die Freigabe auch nicht auf anderen Volumes vorhanden ist.)

Es gibt ein neues Statusflag 'Exklusiver Zugriff', das auf 'Ja' gesetzt wird, wenn ein Symlink vorhanden ist, und 'Nein' sonst. Exklusive Shares sind auch auf der Share-Seite angegeben.

Der Vorteil der Einrichtung von Symlinks besteht darin, dass I/O das FUSE-basierte User-Share-Dateisystem (shfs) umgeht, was die Leistung erheblich steigern kann.

Es gibt einige Einschränkungen:

- Sowohl die Freigabe-Minimum-Freiraum- als auch die Pool-Minimum-Freiraumeinstellungen werden ignoriert, wenn neue Dateien auf einer exklusiven Freigabe erstellt werden.
- Wenn eine Freigabe als NFS exportiert wird, kann sie nicht exklusiv sein, d.h., der Symlink wird nicht erstellt. Dies liegt daran, dass Symlinks im NFS-Client aufgelöst werden, nicht auf dem Server. Wir hoffen, diese Einschränkung in einem zukünftigen Update zu beseitigen.

### Bereinigungsknopf

Auf der Shares-Seite erscheint ein Button namens CLEAN UP, der, wenn aktiviert, darauf hinweist, dass es config/share/_share_.cfg-Dateien für nicht existierende Shares gibt. Ein Klick auf diesen Button entfernt diese Dateien.

## Weitere Verbesserungen

### btrfs

Autotrim kann als **ein** oder **aus** konfiguriert werden, wenn es in einem Pool verwendet wird.

Die Kompression kann als **ein** oder **aus** eingestellt werden. **Ein** wählt **zstd**. Zukünftiges Update wird erlauben, andere Algorithmen/Ebenen anzugeben.

### xfs

Autotrim kann als **ein** oder **aus** konfiguriert werden, wenn es als Einzelfach-Pool verwendet wird.

### Docker

Es ist möglich, das **Docker data-root** in einem Verzeichnis auf einem ZFS-Speicher-Pool zu platzieren. In diesem Fall verwendet Docker den 'zfs'-Storage-Treiber. Dieser Treiber erstellt ein separates Dataset für jede Image-Ebene. Aus diesem Grund empfehlen wir, Docker mit dem **directory**-Modus einzurichten:

Erstellen Sie zunächst eine **docker** Benutzerfreigabe, die folgendermaßen konfiguriert ist:

- Freigabename: **docker**
- Primärspeicher: _**Name Ihres ZFS-Pools**_
- Sekundärspeicher: **keiner**

Als Nächstes auf der Seite **Docker-Einstellungen**:

- Docker aktivieren: **Ja**
- Docker Daten-Wurzel: **Verzeichnis**
- Docker-Verzeichnis: **/mnt/user/docker**

Falls Sie jemals den persistenten Docker-Status löschen müssen, bringen Sie die Docker-Einstellungsseite auf und setzen Sie **Docker aktivieren** auf **Nein** und klicken Sie auf **Anwenden**. Nachdem Docker heruntergefahren ist, klicken Sie auf das **Verzeichniss löschen**-Kontrollkästchen und dann auf **Löschen**. Dies führt dazu, dass nicht nur die verschiedenen Dateien und Verzeichnisse gelöscht werden, sondern auch alle Schichten als Datasets gespeichert sind.

Bevor Sie Docker erneut aktivieren, stellen Sie sicher, dass Sie vorher den **docker**-Freigabebereich wie oben beschrieben neu erstellen.

#### Weitere Docker-Änderungen

- CreateDocker: Bezeichnung **Docker Hub-URL** in **Registry-URL** geändert, da GHCR und andere neue Container-Registries immer beliebter werden.
- Einstellung des Benutzers für Timeout-Anhaltezeit beachten.
- Akzeptiere Bilder im OCI-Format.
- Option zum Deaktivieren von readmore-js auf der Container-Tabelle hinzufügen.
- Korrektur: Docker-Container-Konsole verwendet bash nicht, wenn ausgewählt.
- Problembehebung beim Erkennen eines ordnungsgemäßen Herunterfahrens von Docker.
- rc.docker: Dockerd 30 Sekunden anstelle von 15 Sekunden geben, um zu starten.

### VM-Manager

Wenn Sie die Kopier-/Einfügefunktion für virtuelle Konsolen aktivieren, müssen Sie zusätzliche Software auf dem Client installieren, zusätzlich zu dem QEMU-Agent, falls dieser bereits installiert wurde. [Hier ist der Ort](https://www.spice-space.org/download.html) für spice-vdagent sowohl für Windows als auch für Linux. Beachten Sie, dass die Kopier-/Einfügefunktion nicht mit dem Web-Spice-Viewer funktioniert, Sie müssen virt-viewer verwenden.

#### Andere VM-Änderungen

- Füge serielle Option für vdisk hinzu.
- Spice-Bugfix für Benutzer mit nicht standardmäßigen GUI-Ports.
- OVMF für QEMU: Version stable202302
- Korrektur für Bus-Text.
- Kopieren/Einfügen-Option für virtuelle Konsolen aktivieren.
- Update Memory Backup-Verarbeitung für Virtiofs.
- Problem mit dem Festfrieren beheben, wenn keine VMs vorhanden sind.
- Unterstützung für rtl8139-Netzwerkmodell hinzufügen.
- Übersetzungsversäumnis beheben.
- Hinzufügen von Sperr-entsperrfunktionen für sortierbare Elemente.
- Korrektur für Spice Maus, wenn Kopieren/Einfügen aktiviert ist.
- Seite auch laden lassen, wenn PCI-Geräte fehlen oder falsch zugewiesen erscheinen.
- Remote-Viewer- und Web-Konsolen-Optionen auswählbar machen.
- Option zum Herunterladen der .vv-Datei und Starten des Remote-Viewers, wenn Browser so eingestellt ist, dass die .vv-Datei beim Herunterladen geöffnet wird.
- Unterstützung für Remote Viewer-Konsole hinzufügen.
- Entfernen-lock-posix='on'-flock='on'/-
- Problem beheben, bei dem als Autostart markierte VM nicht nach manuellem Start des Arrays startet.
- Korrektur für Max-Speicher > 1TB.
- Probleme mit VM-Seitenladungen beheben, wenn Benutzer vcpu-Zuweisung entfernt haben.
- ovmf-stable: Version 202305 (Build 3).
- Benachrichtigungssubjekt korrigiert.

### Dashboard

Das WebGUI-Dashboard wurde neu gestaltet und es ist jetzt möglich, Elemente (Kacheln) nach oben und unten und zwischen Spalten zu verschieben. Dies ermöglicht es dem Benutzer, die Kacheln beliebig zu organisieren. Auf der Menüleiste befindet sich ein kleines **Sperr**-Symbol, das angeklickt werden muss, um diese Funktion zu aktivieren:

- Grün ist der Normalzustand (Seite ist gesperrt)
- Rot ist der Alarmzustand (Seite ist entsperrt)

Hinweis: Das **Schloss**-Symbol erscheint auch auf den Docker- und VM-Seiten und muss angeklickt werden, um die Startreihenfolge umzuordnen.

### Netzwerkverbesserungen

Wir haben einen neuen Bereich hinzugefügt: Einstellungen/Netzwerkeinstellungen/Schnittstelle Extra

Dieser neue Abschnitt ermöglicht es dem Benutzer, zu definieren, welche Schnittstellen von den Unraid-Diensten genutzt werden. Standardmäßig werden alle regulären Schnittstellen mit einer IP-Adresse in die Liste der hörenden Schnittstellen aufgenommen.

Die Tunnel der integrierten WireGuard-Funktion von Unraid werden automatisch zur Liste hinzugefügt oder entfernt, wenn die WireGuard-Tunnel aktiviert oder deaktiviert werden. Der Benutzer kann diese Tunnel von der Liste der hörenden Schnittstellen ausschließen.

Um die Tailscale- oder Zerotier-Schnittstelle zu nutzen, muss der Schnittstellenname oder die IP-Adresse der Kommunikation zur Liste der enthaltenen hörenden Schnittstellen hinzugefügt werden. **Wichtig:** Es ist zwingend erforderlich, dass der Tailscale- oder Zerotier-Container läuft, bevor die Schnittstelle zur Liste hinzugefügt wird. Weitere Informationen finden Sie in [diesem Community-Forumsbeitrag](https://forums.unraid.net/bug-reports/prereleases/unraid-os-version-6120-rc7-available-r2427/?tab=comments#comment-24235).

#### Weitere Netzwerkänderungen

- Unterstützung für benutzerdefinierte Schnittstellen (z. B. Tailscale VPN-Tunnel oder Zerotier L2-Tunnel)
- create\_network\_ini - smb neu starten, wenn Netzwerkänderungen vorgenommen wurden
- rc.inet1 - Hinzufügen der iptables-Verarbeitung zu Brückenschnittstellen, damit sie ähnlich wie macvlan-Schnittstellen funktionieren
- rc.avahidaemon - Dienst nur auf regulären Schnittstellen mit einer IP-Adresse hören lassen, dies umfasst die primäre Schnittstelle + IPv4/IPv6-Unterstützung
- rc.docker - Unterdrücke IPv6-Link-Local-Adresse für docker0- und Shim-Schnittstellen, wenn nur IPv4 eingestellt ist
- rc.samba - smb, nmb-Dienst nur auf regulären Schnittstellen mit einer IP-Adresse hören lassen, dies umfasst die primäre Schnittstelle + IPv4/IPv6-Unterstützung (auch für wsdd2)
- rc.ssh - nur auf regulären Schnittstellen mit einer IP-Adresse hören, dies umfasst die primäre Schnittstelle + IPv4/IPv6-Unterstützung
- Problem beheben, bei dem /etc/resolve.conf gelöscht werden kann, wenn DNS-Server zwischen Auto/Statik gewechselt wird.
- Fehler bei der Verarbeitung des Beschreibungsfelds beheben.
- nginx so anpassen, dass IP-Adresse von langsamen DHCP-Servern erkannt wird

### Weitere Verbesserungen/Bugfixes

- Erhöhung der maximalen Anzahl an Geräten pro Pool von 30 auf 60. In einer zukünftigen Version werden wir das obere Maximum vollständig eliminieren.
- webTerminal: Zur besseren Lesbarkeit die Hintergrundfarbe bei Verzeichnislisten geändert, bei denen 'w+o' gesetzt ist. Außerdem den Renderer von webgl auf Canvas geändert, um Probleme mit den neuesten Chrome-Versionen zu mildern.
- Korrektur für NTP-Drift-Dateispeicherung/-wiederherstellung aus dem persistenten USB-Flash-„config“-Verzeichnis.
- Überflüssige /root/.config/remmina-Datei entfernt
- Warnen, wenn ungültiger ZFS-Name verwendet wird.
- Freigabebearbeitung: Erlaube 1-Buchstaben-Namen
- [Pushbits-Agent](https://github.com/pushbits/server) zur Integration von Matrix/Synapse hinzufügen.
- cgroup2 ist jetzt der Standard
- Loopback-Bilder werden nicht mehr mit directio eingehängt
- newperms-Skript auf Operationen nur auf /mnt/ beschränkt.
- upgradepkg gepatcht, um das Ersetzen eines vorhandenen Pakets durch eine ältere Version zu verhindern.
- Aktuelle PCI-Bus-/Geräteinformationen werden in der Datei '/boot/previous/hardware' beim Upgrade von Unraid OS gespeichert.
- NFS: Aktiviere UPD-Transport
- emhttp: Cache-Pool (null) syslog-Zeichenfolgen korrigieren
- emhttp: Cache-Pool zeigt falsche Gerätegröße für ausgewähltes Ersatzgerät an
- Mover: Falsche Behandlung von Symlinks korrigieren
- Mover: Journaleinträge-Format des Mover-Loggings von vorherigen Versionen korrigiert
- Plugin: Anzeigen des Run-Befehls-Retval bei Fehlermeldung
- shfs: Versteckte Verzeichnisse auf oberster Ebene ignorieren (Namen, die mit '.' beginnen)
- Terminal: OpenTerminal: Terminationssignal (harter Stopp) geändert
- Unraid OS aktualisieren: Auf früheren Upgrade ohne Neustart überprüfen
- WebGUI: Unterstützung für PHP8, Erhöhung des PHP-Maximalen Speichers von 128M auf 256M
- WebGUI: ManagementAccess: Provisionierungs-/Erneuerungs-/Upgrade-Schaltflächen deaktivieren, wenn keine IP auf eth0
- WebGUI: ManagementAccess: Unterstützung für lokale Wireguard-IP-Adressen in Kombination mit myservers.unraid.net SSL-Zertifikat
- WebGUI: "Ansehen"-Symbol auf der Haupt- und Freigabeseite nach links verschieben
- WebGUI: Entlassene Banner einen Monat lang ausgeblendet halten
- WebGUI: Dashboard: Rückführungsfehler beim "Fall auswählen" beheben
- WebGUI: Dashboard: Elemente zwischen Spalten verschiebbar machen
- WebGUI: Dashboard: API zum Hinzufügen benutzerdefinierter Kacheln
- WebGUI: Dashboard: Prozessorinformationen neu anordnen
- WebGUI: Dashboard: UPS-Informationen neu anordnen
- WebGUI: Dashboard: Speicherinformationen neu anordnen
- WebGUI: Dashboard: VPN-Kopfzeile neu anordnen
- WebGUI: Dashboard: Kopfzeilen neu anordnen
- WebGUI: JQuery UI Touch Punch für mobile Geräte hinzufügen
- WebGUI: Geänderte ID zu CLASS für mehrfach vorkommende Elemente
- WebGUI: Kopfzeile in den weißen und schwarzen Themen scrollbar machen
  - Sind mehr Elemente vorhanden als Bildschirmplatz, kann der Benutzer jetzt durch sie scrollen (bisher waren diese Elemente unsichtbar)
- WebGUI: Dashboard und Docker: Sperre für sortierbare Elemente einführen
  - Standardmäßig sind sortierbare Elemente gesperrt, was es mobilen Geräten ermöglicht, die Seite zu scrollen. Auf Anfrage können Positionen sortierbar gemacht werden.
- WebGUI: Benutzer: Symbol zur Titelleiste hinzufügen
- WebGUI: Werkzeuge: neue Funktion -> PHP-Einstellungen
  - PHP-Informationen anzeigen
  - Fehlerberichtskonfiguration
  - Öffnen Sie das LOG, um Fehler in Echtzeit zu sehen
- WebGUI: Systeminformationen: nicht aktive Ports lesen korrigieren
- WebGUI: Plugin: Dem tatsächlich ausgeführten Befehl einbeziehen
- WebGUI: Systeminformationen: Cache-Verbesserung
- WebGUI: Systeminformationen: Speicherverbesserungen
- WebGUI: Geräteinformationen: Tasten deaktivieren, wenn Löschvorgang läuft
- WebGUI: Docker: Dateibaumkorrekturen
- WebGUI: Dashboard: Hitzewarnung pro Pool korrigiert anzeigen
- WebGUI: Benachrichtigungen: Überarbeitung des Betriebs
  - Neue Benachrichtigungen nach 3 Sekunden automatisch schließen
  - Korrigieren von Benachrichtigungen, die nach dem Schließen erneut erscheinen.
- WebGUI: Geräteliste: FS-Typ im Offline-Zustand hinzufügen
- WebGUI: Agent für Bark-Benachrichtigungen hinzufügen
- WebGUI: Hauptmenü: Symbol zum Durchsuchen ausblenden, wenn Festplatte nicht eingehängt ist
- WebGUI: Diagnose: Zusätzliche btrfs- und zfs-Informationen hinzufügen
- WebGUI: Dashboard: ZFS-Speichernutzung hinzufügen
- WebGUI: Neue Berechtigungen überarbeitet
  - Auswahl entweder von Festplatten oder Freigaben (nicht beides)
- WebGUI: testparm zur Diagnose hinzufügen
- WebGUI: Unterstützung für neuen UD reservierten Einhängepunkt von /mnt/addons
- WebGUI: Problem bei der Anzeige von Merkmalen beheben, wenn die Temperaturanzeige auf Fahrenheit eingestellt ist.
- WebGUI: Dashboard-Änderungen:
  - Dashboard vollständig sperren: Bearbeiten/Verschieben wird erst möglich, wenn die Seite entsperrt wird
  - Eine leere Spalte wird wieder aufgefüllt, wenn die entsprechenden Kacheln wieder sichtbar gemacht werden, kein Zurücksetzen erforderlich
  - Visuellen "Verschiebe-Indikator" auf der Docker- und VM-Seite hinzugefügt, um klarzustellen, dass Zeilen jetzt verschoben werden können.
  - Form des Cursors bei aktivierter Verschiebung ändern
  - Kachelname als Index verwenden
- WebGUI: Korrektur: Firefox-Konto-Popup für lokale Postnachrichten funktioniert nicht
- WebGUI: SMART-Test kann nicht auf einer UD-Festplatte ausgeführt werden, da keine Spin-Down-Verzögerungsauswahl vorhanden ist
- WebGUI: Statusfußzeile bleibt bei "Dienste starten" hängen, wenn Änderungen an der Freigabekonfiguration angewendet werden.
- WebGUI: Tabellenlayout für verwaiste Bilder korrigieren
- WebGUI: Plugin: Update-Schaltfläche nicht anzeigen, wenn nicht kompatibel
- WebGUI: Plugin: Erkennung der wget-Prozentanzeige robuster machen
- WebGUI: OpenTerminal: Kundenbegrenzung
- WebGUI: Kontextmenü: automatische Dreiecksplatzierung
- WebGUI: Dashboard: Pool-Warnungen korrigieren
- WebGUI: Erlauben SMART-Langtest für UD
- WebGUI: Prozessortyp aus /proc/cpuinfo lesen
- WebGUI: CSS: Scrollbar-Probleme in Firefox lösen
- WebGUI: Freigabe hinzufügen: Überprüfung des verborgenen Freigabenamens korrigieren
- WebGUI: Anzeigeeinstellungen: Fehlende Standardeinstellungen hinzufügen
- WebGUI: Array-Operation: Verhindern von Doppelklicks auf den Startknopf
- WebGUI: Geräteinfo: Anzeige von "shareFloor" mit Einheiten
- WebGUI: Geräteinfo: Automatische Stockwerksberechnung hinzugefügt
- WebGUI: Automatische Größennachricht hinzugefügt
- WebGUI: Freigaben: Info-Symbol hinzugefügt
- WebGUI: Geräteinfo und Freigabeseite aktualisiert
- WebGUI: Netzwerkdarstellungsanomalie behoben.
- WebGUI: Automatisches Ausfüllen des minimalen freien Speicherplatzes für neue Freigaben
- WebGUI: feat(upc): Update auf v3 für Verbinden
- WebGUI: Berechnung der Freigabe-/Poolgröße: Prozentwerte anzeigen und zulassen
- wireguard: SSL-Unterstützung für WG-Tunnel-IP-Adressen hinzufügen (nur myunraid.net-Wildcard-Zertifikate)
- wireguard: Nginx-Problem bei teilweiser WireGuard-Konfiguration beheben

### Unterschiede in der _bz_-Datei freigeben

Unraid OS besteht aus einem Satz von 5 sogenannten _bz_-Dateien im Stammverzeichnis
des USB-Flash-Startgeräts:

- bzimage - der Linux-Kernel
- bzroot - das Root-Dateisystem, ohne Konsolendesktop
- bzroot-gui - zusätzliche Dateien, die für den Konsolendesktop benötigt werden
- bzmodules - mit dem Linux-Kernel verbundene Module (Treiber)
- bzfirmware - Gerätesteuerungen, die von bestimmten Modulen benötigt werden

Ab der Version 6.12 wurde der Inhalt dieser Dateien neu geordnet:

- bzimage - der Linux-Kernel (wie zuvor)
- bzroot - das Root-Dateisystem ohne das /usr-Verzeichnisbaum
- bzroot-gui - eine einzelne Datei, die den Konsolendesktop automatisch startet (zur Kompatibilität)
- bzmodules - mit dem Linux-Kernel verbundene Module (Treiber) und Gerätesteuerungen, die von bestimmten Modulen benötigt werden
- bzfirmware - das /usr-Verzeichnis und alle darin enthaltenen Dateien, einschließlich des Konsolendesktops

Diese Änderungen beschleunigen den Boot-Prozess und geben fast 1 GB RAM frei. Dies ermöglicht uns auch, in Zukunft mehr "Dinge" zum Unraid-OS hinzuzufügen, ohne mehr RAM zu benötigen. Schließlich kann der Desktop im **Nicht-GUI**-Modus durch Anmeldung an der Konsole und Eingabe des 'slim'-Befehls gestartet werden.

#### Manuelles Update

Manuelles Update bezieht sich auf das Aktualisieren des Unraid-OS auf Ihrem USB-Flash-Boot-Gerät ohne Verwendung der **Tools/Update-OS**-Funktion. Normalerweise würde man entweder:

- Ein Terminal-Fenster öffnen, die Release-Zip-Datei herunterladen, die Veröffentlichung entzippen und dann die _bz_-Dateien in das Stammverzeichnis des Startgeräts kopieren.

oder

- Das 'Flash'-Laufwerk in Ihrem Netzwerk freigeben und die _bz_-Dateien direkt von einem PC auf den Flash ziehen.

Ab Version 6.12 kann jede Methode fehlschlagen, weil die _bzfirmware_-Datei überschrieben wird, während sie noch eingebunden ist - nicht gut.

Um dies zu umgehen, müssen Sie zuerst ein temporäres Verzeichnis auf dem Flash-Gerät erstellen und dann alle vorhandenen _bz_-Dateien in dieses temporäre Verzeichnis 'mv' (oder ziehen). Jetzt können Sie die neuen _bz_-Dateien in das Stammverzeichnis des Flash-Geräts kopieren und neu starten.

## Linux-Kernel

- Version 6.1.33
- md/unraid: Version 2.9.27
- CONFIG\_FS\_DAX: Dateisystembasierte Direct-Access-Unterstützung (DAX)
- CONFIG\_VIRTIO\_FS: Virtio-Dateisystem
- CONFIG\_ZONE\_DEVICE: Geräte-Speicher (pmem, HMM, usw...) Hotplug-Unterstützung
- CONFIG\_USBIP\_HOST: Host-Treiber
- CONFIG\_INTEL\_MEI: Intel Management Engine Interface
- CONFIG\_INTEL\_MEI\_ME: ME-fähige Intel-Chipsets
- CONFIG\_INTEL\_MEI\_GSC: Intel MEI GSC eingebettetes Gerät
- CONFIG\_INTEL\_MEI\_PXP: Intel PXP-Services des ME-Interface
- CONFIG\_INTEL\_MEI\_HDCP: Intel HDCP2.2-Services des ME-Interface
- CONFIG\_INTEL\_PMC\_CORE: Intel PMC Core-Treiber
- CONFIG\_DRM\_I915\_PXP: Intel PXP-Unterstützung aktivieren
- CONFIG\_SCSI\_FC\_ATTRS: FiberChannel Transport-Attribute
- CONFIG\_FUSION\_SPI: Fusion MPT ScsiHost-Treiber für SPI
- CONFIG\_FUSION\_FC: Fusion MPT ScsiHost-Treiber für FC
- CONFIG\_FUSION\_CTL: Fusion MPT Gerätesteuerung (ioctl) Treiber
- CONFIG\_FUSION\_LOGGING: Fusion MPT Protokollierungsfunktion
- CONFIG\_X86\_AMD\_PSTATE: AMD-Prozessor P-State-Treiber
- CONFIG\_LRU\_GEN: Multi-Gen LRU
- CONFIG\_SERIAL\_8250\_NR\_UARTS=32: Maximale Anzahl an 8250/16550 seriellen Ports
- CONFIG\_SERIAL\_8250\_RUNTIME\_UARTS=4: Anzahl der 8250/16550 seriellen Ports zur Laufzeit registrieren
- CONFIG\_FANOTIFY: Dateisystemweite Zugriffsmeldungen

## Basis-Distro-Updates

- aaa\_glibc-solibs: Version 2.37
- adwaita-icon-theme: Version 43
- at-spi2-core: Version 2.46.0
- bash: Version 5.2.015
- bash\_completion: Version 2.11
- bind: Version 9.18.12
- btrfs-progs: Version 6.2.1
- ca-certificates: Version 20221205
- cryptsetup: Version 2.6.1
- curl: Version 7.88.1
- dbus: Version 1.14.6
- diffutils: Version 3.9
- dnsmasq: Version 2.89
- docker: Version 23.0.6
- e2fsprogs: Version 1.47.0
- encodings: Version 1.0.7
- file: Version 5.44
- firefox: Version 111.0 (AppImage)
- freetype: Version 2.13.0
- fuse3: Version 3.12.0
- gawk: Version 5.2.1
- git: Version 2.39.2
- glib2: Version 2.74.6
- glibc: Version 2.37
- glibc-zoneinfo: Version 2022g
- gnutls: Version 3.7.9
- gptfdisk: Version 1.0.9
- gtk+3: Version 3.24.37
- harfbuzz: Version 7.1.0
- htop: Version 3.2.2
- iproute2: Version 6.2.0
- iptables: Version 1.8.9
- iputils: Version 20221126
- kernel-firmware: 20230531\_fc90c59
- less: Version 612
- libICE: Version 1.1.1
- libSM: Version 1.2.4
- libX11: Version 1.8.4
- libXau: Version 1.0.11
- libXcomposite: Version 0.4.6
- libXdamage: Version 1.1.6
- libXdmcp: Version 1.1.4
- libXpm: Version 3.5.15
- libXrandr: Version 1.5.3
- libXres: Version 1.2.2
- libXxf86dga: Version 1.1.6
- libarchive: Version 3.6.2
- libdrm: Version 2.4.115
- libfontenc: Version 1.1.7
- libglvnd: Version 1.6.0
- libjpeg-turbo: Version 2.1.5.1
- libpcap: Version 1.10.3
- libpng: Version 1.6.39
- libpsl: Version 0.21.2
- liburcu: Version 0.14.0
- libwebp: Version 1.3.0
- libxkbcommon: Version 1.5.0
- libxkbfile: Version 1.1.2
- libxshmfence: Version 1.3.2
- lmdb: Version 0.9.30
- logrotate: Version 3.21.0
- lsof: Version 4.98.0
- lz4: Version 1.9.4
- lzlib: Version 1.13
- mc: Version 4.8.29
- mcelog: Version 191
- mpfr: Version 4.2.0
- nano: Version 7.2
- ncurses: Version 6.4
- nginx: Version 1.23.3
- nghttp2: Version 1.52.0
- openssh: Version 9.2p1
- openssl: Version 1.1.1t
- openssl-solibs: Version 1.1.1t
- openzfs: Version 2.1.12
- pango: Version 1.50.14
- pciutils: Version 3.9.0
- pcre2: Version 10.42
- php: Version 8.2.4
- php-libvirt: Version 0.5.7
- php-markdown: Version 2.0.0
- samba: Version 4.17.7
- sqlite: Version 3.41.0
- sudo: Version 1.9.13p2
- sysstat: Version 12.7.2
- tdb: Version 1.4.8
- tevent: Version 0.14.1
- traceroute: Version 2.1.2
- transset: Version 1.0.3
- tree: Version 2.1.0
- usbutils: Version 015
- xcb-util: Version 0.4.1
- xdriinfo: Version 1.0.7
- xf86-video-vesa: Version 2.6.0
- xfsprogs: Version 6.1.1
- xhost: Version 1.0.9
- xinit: Version 1.4.2
- xkbcomp: Version 1.4.6
- xkeyboard-config: Version 2.38
- xorg-server: Version 21.1.7
- xprop: Version 1.2.6
- xrandr: Version 1.5.2
- xset: Version 1.2.5
- xterm: Version 379
- xz: Version 5.4.1
- zstd: Version 1.5.4

## Patches

Mit dem [Unraid-Patch-Plugin](https://forums.unraid.net/topic/185560-unraid-patch-plugin/) installiert, besuchen Sie _**Tools → Unraid Patch**_, um folgende Patches/Hotfixes zu erhalten:

- Ein Teil der Sicherheitsaktualisierungen, siehe [diesen Blogbeitrag](https://unraid.net/blog/cvd) für Details. Wir empfehlen, auf die neueste stabile Version zu aktualisieren, um zusätzliche Sicherheitsaktualisierungen zu erhalten.
