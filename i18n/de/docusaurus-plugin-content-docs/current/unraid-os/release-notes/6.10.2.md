## Version 6.10.2 2022-05-27

### Mögliche Datenbeschädigung mit dem tg3-Treiber, wenn Intel VT-d aktiviert ist

Die Kombination des Linux 5.15-Kernels, des tg3-Treibers und der aktivierten Intel VT-d scheint Datenkorruption zu verursachen. Dies wurde auf mehreren Plattformen verifiziert, darunter eine Broadcom NetXtreme Gigabit Ethernet NIC (Hinweis: möglicherweise gibt es noch andere). Diese Veröffentlichung beinhaltet den folgenden Workaround:

Sehr früh beim Server-Startup (rc.S), wenn Intel VT-d als aktiviert erkannt wird, erstellt das Skript bedingungslos die Datei:

`/etc/modprobe.d/tg3.conf`

mit folgendem Inhalt:

`schwarze Liste tg3`

Daher wird standardmäßig, wenn VT-d aktiviert ist, das bedeutet, es wurde weder im BIOS noch über den Kernel "intel\_iommu=off" deaktiviert, der tg3-Treiber auf allen Plattformen auf die schwarze Liste gesetzt. Was ist, wenn jemand eine Plattform hat, auf der der tg3-Treiber mit aktiviertem VT-d keine Probleme verursacht? In diesem Fall müssen sie eine \_leere\_ Datei auf ihrem Flash-Gerät erstellen:

`config/modprobe.d/tg3.conf`

Wenn die Startsequenz fortgesetzt wird, erreicht sie den Punkt, an dem sie ausführt:

`install -p -m 0644 /boot/config/modprobe.d/* /etc/modprobe.d`

Eine *leere* tg3.conf-Datei, die im Flash gespeichert ist, entlistet sie dann effektiv.

Es wird Benutzer geben, die die Netzwerkverbindung verlieren, weil ihre NIC auf die schwarze Liste gesetzt wird. Wenn Sie auf einer problematischen Plattform arbeiten, sollten Sie ins BIOS gehen und VT-d deaktivieren. Wenn dies eine Plattform ohne Probleme ist, müssen Sie im Verzeichnis config/modprobe.d Ihres Flash-Speichers die leere Datei tg3.conf erstellen.

Es kann einige Zeit dauern, um ein geeignetes Update für dieses Problem zu identifizieren und zu integrieren; zu diesem Zeitpunkt werden wir den automatischen Schwarzzukunftscode entfernen.

#### Wie deaktiviert man Intel VT-d auf dem HP MicroServer Gen 8 mit einem E3-1265LV2

Server neu starten, dann:

- Drücken Sie während des Startvorgangs F9, um in das BIOS zu gelangen.
- Sobald das BIOS geladen ist, gehen Sie zum Menü Systemoptionen → Prozessoroptionen → Intel(R) VT-d
- Stellen Sie es auf deaktiviert
- Drücken Sie Esc, um wieder zum Hauptmenü zu gelangen
- Drücken Sie F10, um das BIOS zu verlassen und zu speichern

Der Server sollte jetzt wieder normal starten. Dank an das Community-Mitglied Oceanic für die
Anleitung.

### Sicherheitsbezogene Änderungen

- Der Firefox-Browser wurde auf Version 100.0.2 aktualisiert, um eine sehr schwerwiegende Sicherheitslücke zu schließen. Wenn Sie Firefox verwenden, empfehlen wir auch ein Upgrade auf allen Plattformen.
- Wir haben ein Problem behoben, bei dem das WebGUI-Login ein Passwort von einem anderen Benutzer als „root“ akzeptieren konnte, wenn dieser Benutzername das String „root“ enthielt.
- Der Linux-Kernel wurde auf 5.15.43 aktualisiert, um eine "Sicherheitsumgehung"-Schwachstelle zu beheben.

### Andere Änderungen

- Auf der Seite Managementzugriff haben wir für die Einstellung "Use SSL/TLS" das Wort "Auto" im Dropdown-Menü in "Strict" geändert. Dies beschreibt die Aktion dieser Einstellung besser.
- Der Docker-Manager verwendet jetzt das Docker-Label als Fallback für Symbole.
- Der VM Manager bietet nun die Möglichkeit, LibVirt-Netzwerke neben Bridges zu verwenden, ohne die XML der VM bearbeiten zu müssen.
- Verbesserte Handhabung von benutzerdefinierten SSL-Zertifikaten.
- \[6.10.1] Regression behoben: Unterstützung von USB-Flash-Boots von anderen als Partition 1
- Sonstige diverse Fehlerbehebungen

## Änderungsprotokoll vs. Unraid OS 6.10.1

#### Grunddistro

- firefox AppImage: Version: 100.0.r20220519220738 (CVE-2022-1802 CVE-2022-1529)

#### Linux-Kernel

- Version 5.15.43-Unraid (CVE-2022-21499)

#### Verwaltung

- nginx: Vermeiden Sie das Hinzufügen der Standardportnummer zu Umleitungs-URLs
- nginx: selbstsignierte Zertifikatsdatei: akzeptieren Sie den allgemeinen Namen und alle alternativen Namen
- Start: Behebung, dass mehreren Netzwerkschnittstellen die gleiche MAC-Adresse zugewiesen wurde
- Start: tg3 standardmäßig auf die schwarze Liste setzen, wenn Intel VT-d aktiviert ist
- WebGUI: Managementzugriff: SSL/TLS-Einstellung verwenden: ändern Sie das Wort „Auto“ zu „Strikt“
- WebGUI: Behoben: smGlue nicht enthalten, wenn ein Controller ausgewählt wird
- WebGUI: Behoben: Erlauben Sie Freigabenamen mit eingebettetem kaufmännischem Und-Zeichen
- WebGUI: LXC-Terminalunterstützung hinzufügen (für LXC-Plugin)
- WebGUI: Docker Web UI verwendet Docker-Label für Symbole als Fallback
- WebGUI: VM-Manager: Unterstützung von libvirt-Netzwerken (machen Sie libvirt-Netzwerke über die GUI zugänglich)
- WebGUI: Problem behoben, bei dem der 'root'-Login mit einem Passwort von einem anderen Benutzer, der den String 'root' enthielt, funktionierte.
- WebGUI: OS-Seitenschreibkorrektur: Warnungskorrektur
- WebGUI: Überprüfung des Hilfetextes: kleinere Korrekturen

## Patches

Mit dem [Unraid-Patch-Plugin](https://forums.unraid.net/topic/185560-unraid-patch-plugin/) installiert, besuchen Sie ***Tools → Unraid Patch***, um folgende Patches/Hotfixes zu erhalten:

- Ein Teil der Sicherheitsaktualisierungen, siehe [diesen Blogbeitrag](https://unraid.net/blog/cvd) für Details. Wir empfehlen, auf die neueste stabile Version zu aktualisieren, um zusätzliche Sicherheitsaktualisierungen zu erhalten.
