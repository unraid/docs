# Version 7.1.0 2025-05-05

Dieses Release fügt drahtloses Networking, die Möglichkeit, TrueNAS und andere Fremdpools zu importieren, mehrere Verbesserungen an VMs, erste Schritte hin zu einem responsiven WebGUI und mehr hinzu.

## Upgrade

### Bekannte Probleme

Diese Version hat ein potenzielles Datenverlustproblem, bei dem das neueste Feature "Mover-Leer-Disk" die Aufteilungsebenen auf Freigaben nicht korrekt behandelt. Behoben in Version 7.1.2.

#### Plugins

Bitte aktualisieren Sie alle Plugins, insbesondere Unraid Connect und den Nvidia-Treiber.

Für andere bekannte Probleme siehe die [Release-Notizen 7.0.0](7.0.0.md#known-issues).

### Rückschritte

Wir verbessern, wie wir Patches zwischen den Versionen verteilen, weshalb das Standalone-Patch-Plugin in dieser Version deinstalliert wird. Wenn Sie zu einer früheren Version zurückkehren, empfehlen wir, es erneut zu installieren. Weitere Details folgen.

Wenn Sie auf eine Version vor 7.0.0 zurückrollen, sehen Sie auch die [Release-Notizen 7.0.0](7.0.0.md#rolling-back).

## Änderungen vs. [7.0.1](7.0.1.md)

### Speicher

- Importieren Sie ausländische ZFS-Pools wie TrueNAS, Proxmox, Ubuntu, QNAP.
- Importieren Sie die größte Partition auf der Festplatte anstelle der ersten.
- Das Entfernen eines Geräts aus einem btrfs raid1 oder zfs single-vdev Mirror wird nun die Pool-Slot-Anzahl reduzieren.

#### Andere Speicheränderungen

- Fix: Deaktivierte Festplatten wurden nicht auf dem Dashboard angezeigt.
- Fix: Anfangs drehte sich nur das erste Pool-Gerät herunter, nachdem eine benutzerdefinierte Spin-Down-Einstellung hinzugefügt wurde.
- Fix: Array Start wurde erlaubt, wenn nur 2 Paritätsgeräte und keine Datengeräte vorhanden waren.
- Fix: Die Paritätsüberprüfungsbenachrichtigung zeigt oft die vorherige Paritätsüberprüfung und nicht die aktuelle an.
- Behoben: Bestimmte Fälle mit *Falscher Pool-Zustand. Zu viele falsche oder fehlende Geräte* beim Upgrade wurden gelöst.
- Fix: Es war nicht möglich, ein zfs-Gerät durch ein kleineres vdev zu ersetzen.
- mover:
  - Fix: Problem mit älteren share.cfg-Dateien gelöst, das verhinderte, dass mover ausgeführt wurde.
  - Fix: Mover konnte keinen harten Link neu erstellen, wenn das übergeordnete Verzeichnis noch nicht vorhanden war.
  - Fix: Mover blieb bei benannten Pipes hängen.
  - Fix: [Mover zum Entleeren eines Arrays verwenden](7.0.0.md#using-mover-to-empty-an-array-disk) bewegt jetzt nur noch die obersten Ebenen von Ordnern, die eine entsprechende share.cfg-Datei haben. Außerdem wurde ein Fehler behoben, der die Anzeige der nicht verschobenen Dateien verhinderte.

### Netzwerk-Änderungen

#### Drahtloses Networking

Unraid unterstützt jetzt WiFi! Ein kabelgebundener Anschluss wird in der Regel bevorzugt, aber wenn dies für Ihre Situation nicht möglich ist, können Sie jetzt WiFi einrichten.

Für die Ersteinrichtung benötigen Sie entweder eine lokale Tastatur/Bildschirm (im GUI-Modus booten) oder eine kabelgebundene Verbindung. In Zukunft wird der USB Creator in der Lage sein, drahtlose Netzwerke vor dem ersten Booten zu konfigurieren.

- Zugriff auf das WebGUI und besuchen Sie ***Einstellungen → Netzwerkeinstellungen → Drahtlos wlan0***
  - Aktivieren Sie zuerst WiFi
  - Die **Regulierungsregion** kann im Allgemeinen auf **Automatisch** belassen werden, stellen Sie sie jedoch auf Ihren Standort ein, wenn das gewünschte Netzwerk nicht verfügbar ist.
  - Finden Sie Ihr bevorzugtes Netzwerk und klicken Sie auf das **Mit WiFi-Netzwerk verbinden** Symbol
  - Geben Sie Ihr WiFi-Passwort und andere Einstellungen ein und drücken Sie dann **Dieses Netzwerk beitreten**
  - Hinweis: Wenn Ihr Ziel es ist, Docker-Container über WiFi zu verwenden, entfernen Sie jede kabelgebundene Verbindung, bevor Sie Docker starten

Zusätzliche Details

- WPA2/WPA3 und WPA2/WPA3 Enterprise werden unterstützt, wenn sowohl WPA2 als auch WPA3 verfügbar sind, wird WPA3 verwendet.
- Es wird nicht empfohlen, sowohl kabelgebundene als auch drahtlose Verbindungen langfristig zu nutzen, es sollte eine der beiden sein. Wenn jedoch beide Verbindungen DHCP verwenden und Sie ein Netzwerkkabel (ab)stecken, während drahtlos konfiguriert ist, sollte das System (außer Docker) sich innerhalb von 45-60 Sekunden anpassen.
- Unterstützung für drahtlose Chipsets: Wir erwarten, mit modernen WiFi-Adaptern Erfolg zu haben, aber ältere Adapter könnten nicht funktionieren. Wenn Ihr WiFi-Adapter nicht erkannt wird, starten Sie bitte einen neuen Foren-Thread und stellen Sie Ihre Diagnose bereit, damit wir sie untersuchen können.
- Wenn Sie einen USB-WiFi-Adapter verwenden möchten, sehen Sie sich diese Liste von [USB-WiFi-Adaptern an, die mit Linux-in-Kernel-Treibern unterstützt werden](https://github.com/morrownr/USB-WiFi/blob/main/home/USB_WiFi_Adapters_that_are_supported_with_Linux_in-kernel_drivers.md)
- Erweitert: Neue Firmware-Dateien, die in `/boot/config/firmware/` platziert wurden, werden in `/lib/firmware/` kopiert, bevor Treibermodule geladen werden (vorhandene Dateien werden nicht überschrieben).

Einschränkungen: Es gibt Netzwerkeinschränkungen bei der Verwendung von Funk, da ein WLAN nur eine einzige MAC-Adresse haben kann.

- Nur eine drahtlose NIC wird unterstützt, wlan0
- Wlan0 kann nicht an einem Verbund teilnehmen
- Docker-Container
  - Auf ***Einstellungen → Docker*** beachte, dass bei aktivierter WLAN das System die **Docker benutzerdefinierte Netzwerkart** Einstellung ignoriert und immer **ipvlan** verwendet (macvlan ist nicht möglich, da WLAN mehrere MAC-Adressen auf einer einzelnen Schnittstelle nicht unterstützt)
  - ***Einstellungen → Docker***, **Host-Zugang zu benutzerdefinierten Netzwerken** muss deaktiviert sein
  - Der **Netzwerktyp** eines Docker-Containers kann nicht br0/bond0/eth0 verwenden
  - Docker hat eine Einschränkung, dass es nicht an zwei Netzwerken teilnehmen kann, die dasselbe Subnetz teilen. Wenn Sie zwischen kabelgebunden und drahtlos wechseln, müssen Sie Docker neu starten und alle vorhandenen Container auf die neue Schnittstelle umkonfigurieren. Wir empfehlen, entweder kabelgebunden oder drahtlos einzurichten und nicht zu wechseln.
- VMs
  - Wir empfehlen, Ihre VM **Netzwerkquelle** auf **virbr0** einzustellen. Es gibt keine Begrenzung, wie viele VMs Sie in diesem Modus ausführen können. Die VMs werden vollen Netzwerkzugriff haben, der Nachteil ist jedoch, dass sie nicht aus dem Netzwerk erreichbar sind. Sie können weiterhin über VNC auf den Host zugreifen.
  - Mit etwas manueller Konfiguration kann eine einzelne VM im Netzwerk zugänglich gemacht werden:
    - Konfigurieren Sie die VM mit einer statischen IP-Adresse
    - Konfigurieren Sie dieselbe IP-Adresse auf der ipvtap-Schnittstelle, Typ: `ip addr add IP-ADRESSE dev shim-wlan0`

#### Andere Netzwerkänderungen

- Über ***Einstellungen → Netzwerkeinstellungen*** können Sie jetzt die DNS-Einstellungen des Servers ändern, ohne zuerst andere Dienste zu stoppen. Siehe oben im Abschnitt **eth0**.
- Wenn Sie eine Netzwerkschnittstelle konfigurieren, hat jede Schnittstelle eine **Info**-Taste, die Details zur aktuellen Verbindung anzeigt.
- Beim Konfigurieren einer Netzwerkschnittstelle ist das Feld **Gewünschte MTU** deaktiviert, bis Sie **Jumbo-Frames aktivieren** klicken. Bewegen Sie den Mauszeiger über das Symbol, um eine Warnung zum Ändern der MTU zu erhalten. In den meisten Fällen sollte sie auf der Standardeinstellung bleiben.
- Beim Konfigurieren mehrerer Netzwerkschnittstellen wird standardmäßig das Gateway der zusätzlichen Schnittstellen deaktiviert. Dies ist eine sichere Voreinstellung, die in den meisten Netzwerken funktioniert, wo nur ein Gateway erforderlich ist. Wenn ein zusätzliches Gateway aktiviert wird, erhält es eine höhere Metrik als bestehende Gateways, um Konflikte zu vermeiden. Sie können dies nach Bedarf anpassen.
- Alte Netzwerkschnittstellen werden automatisch aus den Konfigurationsdateien entfernt, wenn Sie Änderungen an ***Einstellungen → Netzwerkeinstellungen*** speichern.
- Verschiedene DHCP-Probleme beheben.

### VM-Manager

#### Nouveau GPU-Treiber

Der Nouveau-Treiber für Nvidia-GPUs ist jetzt enthalten, standardmäßig deaktiviert, da wir erwarten, dass die meisten Benutzer den Nvidia-Treiber bevorzugen. Um ihn zu aktivieren, deinstallieren Sie das Nvidia-Treiber-Plugin und führen Sie `touch /boot/config/modprobe.d/nouveau.conf` aus und starten Sie neu.

#### VirGL

Sie können jetzt Intel- und AMD-GPUs gleichzeitig zwischen mehreren Linux-VMs mit VirGL, dem virtuellen 3D-OpenGL-Renderer, teilen. In dieser Weise genutzt, bietet die GPU beschleunigte Grafik, jedoch ohne Ausgabe auf dem Monitor. Beachten Sie, dass dies noch nicht mit Windows-VMs oder dem Standard-Nvidia-Plugin funktioniert (es funktioniert jedoch mit Nvidia-GPUs mit dem Nouveau-Treiber).

Um die virtuelle GPU in einer Linux-VM zu verwenden, bearbeiten Sie die VM-Vorlage und setzen Sie die **Grafikkarte** auf **Virtuell**. Stellen Sie dann den **VM-Konsolen-Videotreiber** auf **Virtio(3d)** und wählen Sie die entsprechende **Render-GPU** aus der Liste der verfügbaren GPUs aus (beachten Sie, dass an VFIO-PCI gebundene oder an andere VMs durchgereichte GPUs hier nicht ausgewählt werden können und Nvidia-GPUs nur verfügbar sind, wenn der Nouveau-Treiber aktiviert ist).

#### QXL Virtuelle GPUs

Um diese Funktion in einer VM zu verwenden, bearbeiten Sie die VM-Vorlage und setzen Sie die **Grafikkarte** auf **Virtuell** und den **VM-Konsolenvideotreiber** auf **QXL (Beste)**, Sie können dann auswählen, wie viele Bildschirme sie unterstützt und wie viel Speicher sie benötigt.

#### CPU-Pinning ist optional

CPU-Pinning ist jetzt optional. Wenn keine Kerne an eine VM angeheftet sind, wählt das OS aus, welche Kerne verwendet werden.

Von ***Einstellungen → CPU-Einstellungen*** oder beim Bearbeiten einer VM, drücken Sie **Alles Abwählen**, um alle Kerne für diese VM zu lösen, und setzen Sie die Anzahl der vCPUs auf 1, erhöhen Sie bei Bedarf.

### Benutzer-VM-Vorlagen

Erstellen einer Benutzervorlage:

- Bearbeiten Sie die VM, wählen Sie **Vorlage erstellen/ändern** und geben Sie ihr einen Namen. Sie wird nun als **Benutzervorlage** gespeichert, die auf dem **VM hinzufügen** Bildschirm verfügbar ist.

Um eine Benutzervorlage zu verwenden:

- Drücken Sie in der VM-Auflistung **VM Hinzufügen** und wählen Sie dann die Vorlage aus dem **Benutzervorlagen** Bereich.

Import/Export

- Auf dem **VM Hinzufügen** Bildschirm den Mauszeiger über eine Benutzervorlage bewegen und auf den Pfeil klicken, um die Vorlage an einen Ort auf dem Server zu exportieren oder herunterzuladen.
- Auf einem anderen Unraid-System **Import aus Datei** oder **Hochladen** auswählen, um die Vorlage zu verwenden.

#### Andere VM-Änderungen

- Wenn die **Primäre** GPU als Durchschleifen für eine VM zugewiesen ist, warnen, dass sie ohne das Laden eines kompatiblen vBIOS möglicherweise nicht funktioniert.
- Fix: Entfernen der verwirrenden *Pfad existiert nicht* Meldung beim Einrichten des VM-Dienstes
- Feat: Unraid-VMs können jetzt im GUI-Modus booten, wenn der QXL-Videotreiber verwendet wird
- Fix: Das VM-Symbol konnte im XML-Ansichtmodus nicht geändert werden

### WebGUI

#### CSS-Änderungen

Als Schritt zur Verbesserung der Reaktionsfähigkeit des WebGUI haben wir das CSS überarbeitet. Dies sollte größtenteils nicht auffallen, abgesehen von einigen geringfügigen Farbänderungen. Wir erwarten, dass die meisten Plugins ebenfalls in Ordnung sind, obwohl Plugin-Autoren diese [Dokumentation](https://github.com/unraid/webgui/blob/master/emhttp/plugins/dynamix/styles/themes/README.md) überprüfen sollten. Die Reaktionsfähigkeit wird in zukünftigen Versionen weiter verbessert.

Wenn Sie Ausrichtungsprobleme oder Farbprobleme in einem offiziellen Thema bemerken, lassen Sie es uns bitte wissen.

#### nchan aus Shared-Memory-Probleme

Wir haben mehrere Änderungen vorgenommen, um dieses Problem zu verhindern, und wenn wir feststellen, dass es auftritt, starten wir nginx neu, um automatisch davon zu erholen.

Wenn sich Ihre Hauptseite nie füllt oder Sie "nchan: Kein gemeinsamer Speicher" in Ihren Protokollen sehen, starten Sie bitte einen neuen Foren-Thread und stellen Sie Ihre Diagnose bereit. Optional können Sie zu ***Einstellungen → Anzeigeeinstellungen*** navigieren und **Echtzeit-Updates in inaktiven Browsern zulassen** deaktivieren; dies verhindert, dass Ihr Browser bestimmte Updates anfordert, sobald er den Fokus verliert. In diesem Zustand sehen Sie ein Banner mit den Worten **Live-Updates pausiert**, klicken Sie einfach auf das WebGUI, um es in den Vordergrund zu bringen und Live-Updates erneut zu aktivieren. Bestimmte Seiten werden automatisch neu geladen, um sicherzustellen, dass sie die neuesten Informationen anzeigen.

#### Andere WebGUI-Änderungen

- Fix: AdBlocker könnten das Laden des Dashboards verhindern
- Fix: Unter bestimmten Umständen konnte die Speichernutzung des Browsers auf dem Dashboard exponentiell wachsen
- Fix: Verhindern, dass beschädigte Konfigurationsdateien das Dashboard brechen

## Verschiedenes

### Andere Änderungen

- Auf ***Einstellungen → Datum und Uhrzeit*** können Sie jetzt Ihre Uhr mit einem **PTP**-Server synchronisieren (wir erwarten, dass die meisten Benutzer **NTP** verwenden werden)
- Upgrade auf jQuery 3.7.1 und jQuery UI 1.14.1
- Fix: Der Besuch von boot.php wird den Server nicht mehr herunterfahren
- Fix: Auf dem Docker-Tab wurde das Dropdown-Menü für den letzten Container in bestimmten Situationen abgeschnitten
- Fix: Auf ***Einstellungen → Docker***, das Löschen eines **Docker-Verzeichnisses**, das auf einem ZFS-Volume gespeichert ist, funktioniert jetzt einwandfrei
- Fix: Beim Booten wird die benutzerdefinierte ssh-Konfiguration erneut von `/boot/config/ssh/` nach `/etc/ssh/` kopiert
- Fix: Dateimanager kann Dateien von einer Benutzerfreigabe zu einem nicht zugewiesenen Datenträgermontagepunkt kopieren
- Fix: Entfernen der verwirrenden *Pfad existiert nicht* Meldung beim Einrichten des Docker-Dienstes
- Fix: aktualisieren `rc.messagebus`, um die korrekte Handhabung von `/etc/machine-id` zu korrigieren
- Diagnose
  - Fix: Verbesserte Anonymisierung von IPv6-Adressen in Diagnosen
  - Fix: Verbesserte Anonymisierung von Benutzernamen in bestimmten Konfigurationsdateien in Diagnosen
  - Fix: Diagnosen könnten aufgrund von Multibyte-Zeichenfolgen im Systemprotokoll fehlschlagen
  - Feat: Diagnosen protokollieren jetzt Fehler in logs/diagnostics.error.log

### Linux-Kernel

- Version 6.12.24-Unraid
  - Anwenden: \[PATCH] [Revert "PCI: Vermeiden Sie einen Reset, wenn über sysfs deaktiviert"](https://lore.kernel.org/lkml/20250414211828.3530741-1-alex.williamson@redhat.com/)
  - CONFIG\_NR\_CPUS: erhöht von 256 auf 512
  - CONFIG\_TEHUTI\_TN40: Tehuti Networks TN40xx 10G Ethernet-Adapter
  - CONFIG\_DRM\_XE: Intel Xe Grafikkarten
  - CONFIG\_UDMABUF: Userspace dmabuf-Misc-Treiber
  - CONFIG\_DRM\_NOUVEAU: Nouveau (NVIDIA) Karten
  - CONFIG\_DRM\_QXL: QXL virtueller GPU
  - CONFIG\_EXFAT\_FS: exFAT-Dateisystem-Unterstützung
  - CONFIG\_PSI: Druckstalls-Informationstracking
  - CONFIG\_PSI\_DEFAULT\_DISABLED: Boot-Parameter erforderlich, um das Druckstalls-Informationstracking zu aktivieren, z.B. `psi=1`
  - CONFIG\_ENCLOSURE\_SERVICES: Gehäusedienste
  - CONFIG\_SCSI\_ENCLOSURE: SCSI-Gehäuse-Unterstützung
  - CONFIG\_DRM\_ACCEL: Compute-Beschleunigungs-Framework
  - CONFIG\_DRM\_ACCEL\_HABANALABS: HabanaLabs AI-Beschleuniger
  - CONFIG\_DRM\_ACCEL\_IVPU: Intel NPU (Neural Processing Unit)
  - CONFIG\_DRM\_ACCEL\_QAIC: Qualcomm Cloud AI-Beschleuniger
  - zfs: Version 2.3.1

- Kabellose Unterstützung
  - Atheros/Qualcomm
  - Broadcom
  - Intel
  - Marvell
  - Microtek
  - Realtek

### Basis-Distro-Updates

- aaa\_glibc-solibs: Version 2.41
- adwaita-icon-theme: Version 48.0
- at-spi2-core: Version 2.56.1
- bind: Version 9.20.8
- btrfs-progs: Version 6.14
- ca-certificates: Version 20250425
- cairo: Version 1.18.4
- cifs-utils: Version 7.3
- coreutils: Version 9.7
- dbus: Version 1.16.2
- dbus-glib: Version 0.114
- dhcpcd: Version 9.5.2
- diffutils: Version 3.12
- dnsmasq: Version 2.91
- docker: Version 27.5.1
- e2fsprogs: Version 1.47.2
- elogind: Version 255.17
- elfutils: Version 0.193
- ethtool: Version 6.14
- firefox: Version 128.10 (AppImage)
- floppy: Version 5.6
- fontconfig: Version 2.16.2
- gdbm: Version 1.25
- git: Version 2.49.0
- glib2: Version 2.84.1
- glibc: Version 2.41
- glibc-zoneinfo: Version 2025b
- grep: Version 3.12
- gtk+3: Version 3.24.49
- gzip: Version 1.14
- harfbuzz: Version 11.1.0
- htop: Version 3.4.1
- icu4c: Version 77.1
- inih: Version 60
- intel-microcode: Version 20250211
- iperf3: Version 3.18
- iproute2: Version 6.14.0
- iw: Version 6.9
- jansson: Version 2.14.1
- kernel-firmware: Version 20250425\_cf6ea3d
- kmod: Version 34.2
- less: Version 674
- libSM: Version 1.2.6
- libX11: Version 1.8.12
- libarchive: Version 3.7.8
- libcgroup: Version 3.2.0
- libedit: Version 20250104\_3.1
- libevdev: Version 1.13.4
- libffi: Version 3.4.8
- libidn: Version 1.43
- libnftnl: Version 1.2.9
- libnvme: Version 1.13
- libgpg-error: Version 1.55
- libpng: Version 1.6.47
- libseccomp: Version 2.6.0
- liburing: Version 2.9
- libusb: Version 1.0.28
- libuv: Version 1.51.0
- libvirt: Version 11.2.0
- libXft: Version 2.3.9
- libxkbcommon: Version 1.9.0
- libxml2: Version 2.13.8
- libxslt: Version 1.1.43
- libzip: Version 1.11.3
- linuxptp: Version 4.4
- lvm2: Version 2.03.31
- lzip: Version 1.25
- lzlib: Version 1.15
- mcelog: Version 204
- mesa: Version 25.0.4
- mpfr: Version 4.2.2
- nano: Version 8.4
- ncurses: Version 6.5\_20250419
- nettle: Version 3.10.1
- nghttp2: Version 1.65.0
- nghttp3: Version 1.9.0
- noto-fonts-ttf: Version 2025.03.01
- nvme-cli: Version 2.13
- oniguruma: Version 6.9.10
- openssh: Version 10.0p1
- openssl: Version 3.5.0
- ovmf: Version stable202502
- pam: Version 1.7.0
- pango: Version 1.56.3
- parted: Version 3.6
- patch: Version 2.8
- pcre2: Version 10.45
- perl: Version 5.40.2
- php: Version 8.3.19
- procps-ng: Version 4.0.5
- qemu: Version 9.2.3
- rsync: Version 3.4.1
- samba: Version 4.21.3
- shadow: Version 4.17.4
- spice: Version 0.15.2
- spirv-llvm-translator: Version 20.1.0
- sqlite: Version 3.49.1
- sysstat: Version 12.7.7
- sysvinit: Version 3.14
- talloc: Version 2.4.3
- tdb: Version 1.4.13
- tevent: Version 0.16.2
- tree: Version 2.2.1
- userspace-rcu: Version 0.15.2
- utempter: Version 1.2.3
- util-linux: Version 2.41
- virglrenderer: Version 1.1.1
- virtiofsd: Version 1.13.1
- which: Version 2.23
- wireless-regdb: Version 2025.02.20
- wpa\_supplicant: Version 2.11
- xauth: Version 1.1.4
- xf86-input-synaptics: Version 1.10.0
- xfsprogs: Version 6.14.0
- xhost: Version 1.0.10
- xinit: Version 1.4.4
- xkeyboard-config: Version 2.44
- xorg-server: Version 21.1.16
- xterm: Version 398
- xtrans: Version 1.6.0
- xz: Version 5.8.1
- zstd: Version 1.5.7

## Patches

Zurzeit sind keine Patches für diese Version verfügbar.
