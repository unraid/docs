# Version 6.12.8 2024-02-15

## Upgrade-Hinweise

Diese Version enthält zwei sehr wichtige Korrekturen. Zunächst haben wir Docker aktualisiert, um die Fixes für ihre
[jüngste Sicherheitsmeldung](https://www.docker.com/blog/docker-security-advisory-multiple-vulnerabilities-in-runc-buildkit-and-moby/) zu integrieren.

Zweitens haben wir einen Randfall-Bug behoben, der zu Datenverlust führen kann, wenn ein neu hinzugefügtes Array-Laufwerk ein nicht standardmäßiges Partitionslayout aufweist. Wenn Sie eines dieser Laufwerke hinzufügen, wird beim zweiten Start des Arrays das Laufwerk als unformatiert angezeigt. Wenn dies passiert, wenden Sie sich bitte an den Support, und wir können Ihnen bei der Datenwiederherstellung helfen. Selbst wenn Sie dieses Problem noch nicht erlebt haben, empfehlen wir ein Upgrade, um in Zukunft beim Hinzufügen von Laufwerken nicht betroffen zu sein.

Diese Version enthält auch einige nette Korrekturen im Bereich der Netzwerke, Docker-Container, Time Machine-Unterstützung und VMs sowie eine Behebung für eine Verlangsamung, die einige Systeme auf dem Dashboard erlebt haben. Wir haben auch die SMART-Attributverarbeitung für NVME- und SSD-Laufwerke verbessert. Details unten.

### Bekannte Probleme

#### Veraltete Plugins

Veraltete Plugins können Probleme verursachen. Wir empfehlen, sie aktuell zu halten.

#### Call Traces und Abstürze im Zusammenhang mit macvlan

Wenn Sie Anruftraces im Zusammenhang mit macvlan (oder unerklärliche Abstürze generell) erhalten, empfehlen wir als ersten Schritt, zu ***Einstellungen > Docker*** zu navigieren, in die **Erweiterte** Ansicht zu wechseln und **Docker-Benutzerdefinierter Netzwerktype** von **macvlan** auf **ipvlan** zu ändern. Dies ist die Standardkonfiguration, mit der Unraid seit der Version 6.11.5 ausgeliefert wurde und sollte für die meisten Systeme funktionieren.

Bitte beachten Sie, dass einige Benutzer Probleme mit der Portweiterleitung von bestimmten Routern (Fritzbox) und eingeschränkter Funktionalität mit erweiterten Netzwerkverwaltungstools (Ubiquity) im IPvlan-Modus gemeldet haben. Wenn Sie betroffen sind, sehen Sie sich die alternative Lösung an, die seit Unraid [6.12.4](6.12.4.md#fix-for-macvlan-call-traces) verfügbar ist.

#### Netzwerkprobleme aufgrund von Jumbo-Frames

Wenn Sie irgendwelche Netzwerkprobleme haben, überprüfen Sie, dass Sie keine Jumbo Frames aktiviert haben. Navigieren Sie zu ***Einstellungen > Netzwerkeinstellungen > eth0*** und bestätigen Sie, dass die **Gewünschte MTU** 1500 ist. Weitere Informationen finden Sie in der [Fehlerbehebungswarnung für Jumbo Frames](https://forums.unraid.net/topic/120220-fix-common-problems-more-information/page/2/#comment-1167702).

#### Probleme aufgrund von Realtek-Netzwerkkarten

Der aktualisierte Kernel behebt das Deadlock-Problem mit Jumbo Frames und dem In-Tree Realtek 8125 Treiber. Wir empfehlen jedoch weiterhin, den oben genannten Ratschlägen bezüglich Jumbo Frames zu folgen.

Sollten weiterhin Probleme mit der Netzwerkstabilität auftreten und ***Werkzeuge > Systemgeräte*** anzeigt, dass Sie einen Realtek Ethernet-Controller haben, notieren Sie sich die angezeigte Teilenummer und suchen Sie in den Community-Apps nach einem Realtek-Treibersystem-Plugin für dieses Gerät. Weitere Informationen finden Sie auf der [Support-Seite für Realtek-Treiber-Plugins](https://forums.unraid.net/topic/141349-plugin-realtek-r8125-r8168-and-r81526-drivers/).

#### Weitere Probleme?

Wir empfehlen dringend, das **Fix Common Problems** Plugin zu installieren, da es Sie über gängige Konfigurationsprobleme informiert.

Wenn Sie andere Abstürze oder Stabilitätsprobleme haben, navigieren Sie zu ***Einstellungen > Syslog-Server*** und aktivieren Sie **Syslog auf Flash spiegeln**. Dies wird zu zusätzlichem Verschleiß Ihres USB-Flash-Startgeräts führen, ist jedoch kurzfristig nützlich, um Protokolle nach einem Absturz zu sammeln.

Nach dem nächsten Neustart gehen Sie zu ***Werkzeuge > Diagnose*** und laden Sie Ihre anonymisierten Diagnosen herunter (ab 6.12.5,
Diagnosen beinhalten automatisch Protokolle, die auf dem Flash-Laufwerk gespiegelt wurden).

Erstellen Sie schließlich ein neues Thema unter [Allgemeine Unterstützung](https://forums.unraid.net/forum/55-general-support/) und geben Sie alle Details des Problems an. Sobald das Problem gelöst ist, deaktivieren Sie unbedingt **Syslog auf Flash spiegeln**.

### Rückschritte

Beachten Sie, dass das Zurücksetzen auf eine frühere Version Ihr System anfällig für die Docker-Sicherheitsprobleme und das potenzielle Datenverlustszenario macht, das in den [Upgrade-Hinweise](#upgrade-notes) erwähnt wird.

Wenn Sie auf eine Version früher als 6.12.6 zurückgehen, lesen Sie auch die [6.12.6 Release Notes](6.12.6.md#rolling-back).

## Änderungen gegenüber 6.12.7

Ein Problem im Zusammenhang mit dem Upgrade von rc-Veröffentlichungen behoben.

## Änderungen gegenüber [6.12.6](6.12.6.md)

### Fehlerbehebungen und Verbesserungen

- Docker:
  - Korrigieren Sie, dass WG-Routen zu der korrekten Schnittstelle (br0 oder eth0 oder bond0) hinzugefügt werden.
  - Verwenden Sie "Lazy Unmount", um ein Blockieren des Array-Stopps zu verhindern
  - Aktualisiert, um mehrere Sicherheitsprobleme (CVE-2024-21626, CVE-2024-24557) zu beheben
- Netzwerkverbesserungen:
  - Schnellerer Boot-Vorgang durch Überprüfung, ob ein Träger vorhanden ist, bevor DHCP-Adressen zugewiesen werden
  - Führen Sie führende Nullen aus IPv4- und IPv6-Adressen aus
  - Neue Befehle '/etc/rc.d/rc.inet1 status' und '/etc/rc.d/rc.inet1 status ip', um Netzwerkprobleme von der Befehlszeile aus zu beheben
- Benachrichtigungen: fügen Sie ntfy.sh zu den Benachrichtigungsagenten hinzu
- SMART-Verbesserungen:
  - NVME-Selbsttest beheben
  - Anzeige des 'Akkumulierte Einschaltzeit, Stunden: Minuten xxxxx:yy' SMART-Attributs beheben
  - Angezeigte KB/MB/GB/TB in SMART-Attributen für SSDs hinzufügen
  - 'SSD-Endurance verbleibend' SMART-Attribut hinzufügen
- Systemprotokollierung:
  - Standardmäßig wird das Syslog beim Herunterfahren auf den USB-Boot-Flash kopiert, siehe ***Einstellungen > Syslog-Server***, um dies zu deaktivieren
  - Protokolle aus dem Obigen und **Systemprotokoll auf USB-Flash spiegeln** sind beim nächsten Booten auf ***Werkzeuge > Syslog*** und in Diagnosen verfügbar
- VM-Manager: Fix für Downgrade: Wenn die VM-Vorlage auf den neuesten QEMU-Maschinentyps aktualisiert wurde, wird sie beim Downgrade nicht gefunden. Diese Änderung findet die aktuellste Version eines gegebenen Maschinentyps.
- ZFS: Verwenden Sie das Zpool-Import-Flag "-f", um den Import fremder Pools zu erlauben
- Sonstige:
  - Standardmäßiges Aktivieren des EFI-Boots für Neuinstallationen
  - Behebung der Verlangsamung auf den Dashboard- und Docker-Seiten (und reduziert Flash-Geräteschreibvorgänge)
  - Formatierung: Initialisieren des Gerätepartition-Layouts nicht, wenn bereits gültig.
  - OS-Update: Betriebssystem-Update und Downgrade-Seiten neu gestalten, siehe [Blogpost](https://unraid.net/blog/new-update-os-tool)
  - Fix: MacOS kann nicht auf den 'Flash'-Share schreiben und die Time Machine-Kompatibilität wiederherstellen (Änderungen an der Frucht)
  - Ermöglichen es den Community-Apps (falls installiert), Container beim Multi-Install automatisch zu starten
  - Feedbackformular: Taste "DONE" in "CANCEL" ändern

### Paketaktualisierungen

- docker: Version 24.0.9
- kernel-firmware: Version 20231226\_abfcad8

### Linux-Kernel

- Version 6.1.74
  - CONFIG\_USB\_SERIAL\_XR: USB MaxLinear/Exar USB zu Seriell Treiber
  - CONFIG\_CAN: CAN-Bus-Subsystem-Unterstützung
  - CONFIG\_CAN\_NETLINK: CAN-Gerätetreiber mit Netlink-Unterstützung
  - CONFIG\_CAN\_GS\_USB: Geschwister Schneider UG und candleLight-kompatible Schnittstellen
  - CONFIG\_SCSI\_LPFC: Emulex LightPulse Fibre Channel-Unterstützung

## Patches

Mit dem [Unraid-Patch-Plugin](https://forums.unraid.net/topic/185560-unraid-patch-plugin/) installiert, besuchen Sie ***Tools → Unraid Patch***, um folgende Patches/Hotfixes zu erhalten:

- Ein Teil der Sicherheitsaktualisierungen, siehe [diesen Blogbeitrag](https://unraid.net/blog/cvd) für Details. Wir empfehlen, auf die neueste stabile Version zu aktualisieren, um zusätzliche Sicherheitsaktualisierungen zu erhalten.
