---
sidebar_position: 1
sidebar_label: 什么是 Unraid？
---

# 什么是 Unraid？

Unraid is an embedded operating system designed to give you complete control over your hardware.  It functions as a robust network-attached storage (NAS) system, an %%application server|application-server%%, and a host for %%virtual machines (VMs)|vm%%.

Unraid 安装在 USB 闪存驱动器上并从中启动，加载到根 RAM 文件系统中。 它使用了现代 Linux 内核和更新的硬件驱动程序，允许它以最小的内存容量运行在几乎所有 64 位 x86_64 系统上。 操作系统的所有配置数据都存储在闪存驱动器上，并与操作系统同时加载。

Unraid 具有用户友好的 [网页界面](./explore-the-user-interface/tour-the-web-gui.mdx) ，易于管理。 它为常见任务提供基本控制，为经验丰富的用户提供高级设置。 虽然默认设置适合大多数人，但也允许自定义。 这种简单性和灵活性的结合有效地帮助您存储、保护、共享和享受内容。

**Unraid 的核心功能集中在三个主要方面：**

<details>
  <summary><h3>软件定义NAS</h3>允许用户高效地在网络上共享存储容量。</summary>

  ### 阵列和校验

  Unraid provides a simple and flexible solution for turning any 64-bit capable system into a Network Attached Storage (NAS) device. It can handle a variety of drives, whether they connect through IDE, SATA, or SAS, and supports different drive sizes. This means you can add new drives one at a time as your storage needs grow, without having to reorganize your existing data when you expand your setup.

  The main job of an Unraid %%array|array%% is to organize and protect the data stored across several drives. It does this by using up to two special drives called %%parity drive|parity-drives%%s. These %%parity drive|parity-drives%%s are important because they help reconstruct your data if one of the other drives fails. In fact, with just one %%parity drive|parity-drives%%, you can protect all the other drives in your %%array|array%%, keeping your data safe. Plus, you can mix different sized drives and easily expand your storage over time, making Unraid a user-friendly option for anyone looking to manage their data effectively.

  <details>
    <summary><strong>校验工作原理</strong> - 点击展开/折叠</summary>

    In Unraid, %%parity|parity%% information is updated in real time.  To understand how this works, imagine the contents of a hard drive as a long stream of bits, where each bit is either a zero or a one.  By summing the nth bit values across all drives and determining whether that sum is even or odd, the corresponding nth %%parity|parity%% bit can be set accordingly.  If a data drive ever fails, this %%parity|parity%% information allows for an accurate determination of the exact bit values, facilitating a precise rebuild on the replacement drive.

    例如：

    <div style={{ maxWidth: '600px', margin: '1rem auto' }}>
      ![无校验](/img/No_parity_500px.png)
    </div>

    In the image above, three drives contain streams of bits that vary by device size.  These drives are unprotected, so if one fails, data will be lost.  To protect against failure, we need a fourth disk as a %%parity disk|parity-drive%%, which must be equal to or larger than the largest data disk.

    To set the %%parity|parity%% bits, we find the total for each column.  If the sum is even, the %%parity|parity%% bit is 0; if odd, the %%parity|parity%% bit is 1.

    Here's the same image as before, but with %%parity|parity%% calculated per frame:

    <div style={{ maxWidth: '600px', margin: '1rem auto' }}>
      ![校验](/img/Parity@500px.png)
    </div>

    假设我们的例子中磁盘2出现故障，并购买了新磁盘来替换它：

    <div style={{ maxWidth: '600px', margin: '1rem auto' }}>
      ![磁盘故障](/img/Drive_failure@500px.png)
    </div>

    To rebuild data on the new disk, we determine the missing bit rather than calculating the %%parity|parity%% bit.  For column 1, the sum is 0, so the missing bit is 0.  For column 6, with a sum of 1, the missing bit is 1.

    Rebuilding a disk using %%parity|parity%% protects against data loss and offers fault tolerance, ensuring full access to the system even if a drive fails.
  </details>

  ### 用户份额

  Unraid is different from most %%RAID|raid%% systems because it saves data on individual drives instead of combining them into one. As a %%root user|root-user%%, you can create %%user shares|user-share%%, which are like top-level folders that gather files from multiple drives in the %%array|array%% or %%cache pool|cache-pool%%. This means you don’t have to worry about which specific drive holds your files; they are organized for you.

  You can also customize these shares to include or leave out certain drives and decide how files are spread across your storage. Additionally, you can manage how users access the shares by setting up network options, like %%SMB|samba%% and %%NFS|nfs%%, and applying security settings. To keep private data safe, you can create user accounts and set access limits for trusted individuals.

  ```mdx-code-block

    <div className="flex-container">
      <figure className="flex-figure">
        <img src="/img/User_shares_-_distribution@500px.png" alt="User shares distribution example" />

        <figcaption>User shares - Distribution</figcaption>
      </figure>

      <figure className="flex-figure">
        <img src="/img/User_shares_-_access@500px.png" alt="User shares distribution example larger" />

        <figcaption>User shares - Access</figcaption>
      </figure>
    </div>

  ```

  ### 理解缓存驱动器

  One of the standout features of Unraid is the %%cache drive|cache%%, which helps speed up data transfer. When you use a %%cache drive|cache%% alongside three or more drives, you can write data up to **three times faster**. When you save files to a %%user shares|user-share%% with a %%cache drive|cache%%, the data is first stored on the %%cache drive|cache%%. This allows for quick writing, and later, a process called %%Mover|mover%% transfers the data to the main storage %%array|array%% - often during the night—making room on the %%cache drive|cache%%.

  For added data safety, you can set up a %%cache pool|cache-pool%% with multiple drives. This setup not only increases storage space but also uses technologies like %%ZFS|zfs%% or %%BTRFS|btrfs%% to provide extra protection for your data, similar to %%RAID 1|raid1%%. Overall, Unraid’s management of shares and %%cache drives|cache%% creates a flexible, efficient, and secure storage solution.

  [在此处了解有关配置共享和缓存的更多信息。](../using-unraid-to/manage-storage/array-configuration.mdx)

  <div style={{ maxWidth: '600px', margin: '1rem auto' }}>
    ![缓存池数据捕获工作原理](/img/Cache-pool.gif)
  </div>
</details>

<details>
  <summary><h3>应用程序服务器</h3>支持容器化应用程序的执行。</summary>

  Unraid transforms your storage solution into a versatile %%application server|application-server%% through Docker containerization. This approach overcomes traditional NAS limitations while maintaining system stability and ease of use.

  传统的NAS解决方案在应用程序托管方面面临三个关键挑战：

  1. **操作系统兼容性问题** - 无法运行为不同操作系统设计的应用程序。
  2. **复杂的生命周期管理** - 困难的安装体验可能会在删除后留下残留物。
  3. **应用程序冲突** - 软件组件可能会干扰彼此或系统操作。

  Unraid 使用Docker通过以下三种关键方式解决这些挑战：

  1. **操作系统独立性** - 每个容器在自己的Linux环境中运行，消除了与主操作系统的兼容性问题。
  2. **基于映像的部署** - 预配置的应用程序包允许一键安装和完全卸载应用程序。
  3. **进程隔离** - 容器化应用程序在单独的用户空间中运行，防止软件之间的任何冲突。

  Docker containers allow you to run applications in isolated, lightweight environments without the overhead associated with %%virtual machines|vm%%. Unraid simplifies the use of Docker by providing access to thousands of pre-configured apps through [Docker Hub](https://hub.docker.com/) and [Community Applications](../using-unraid-to/run-docker-containers/community-applications.mdx). This containerized approach enables Unraid users to run multiple applications simultaneously without compatibility issues. It also helps keep the system organized by using self-contained application packages and makes it easy to enhance server capabilities through Docker's ecosystem.

  :::note
  For advanced Docker settings, check out [Run Docker Containers](../using-unraid-to/run-docker-containers/managing-and-customizing-containers.mdx).
  :::
</details>

<details>
  <summary><h3>虚拟化平台</h3>允许以接近裸机硬件的性能运行虚拟机。</summary>

  Unraid functions as a virtualization host, using a %%hypervisor|hypervisor%% to securely allocate resources to virtualized guests. This allows you to run various applications in isolated environments, going beyond just network-attached storage.

  :::tip
  To use hardware virtualization in Unraid, ensure your CPU, chipset, BIOS, and device drivers are compatible. A full list of requirements is available in the [VM setup guide](../using-unraid-to/create-virtual-machines/overview-and-system-prep.mdx). If your server doesn't meet these requirements, the %%VMs|vm%% menu will be disabled in the Unraid %%WebGUI|web-gui%%.
  :::

  <details>
    <summary><strong>使用虚拟机的好处</strong> - 点击展开/折叠</summary>

    虽然 Docker 容器在基于 Linux 的应用程序中很受欢迎，%%虚拟机|vm%% 提高了 Unraid 服务器设置的灵活性和效率，并为您的 Unraid 服务器提供了显著优势：

    - **隔离：**%%VMs|vm%%在独立的环境中运行，确保其中一个失败不会影响其他。

    - **整合：** 将多个物理服务器整合到一台 Unraid 机器上，减少硬件需求，简化维护。

    - **资源分配：** Unraid 允许您为每个 %%虚拟机|vm%% 分配特定的 CPU、内存、存储和网络资源，以确保关键任务获得必要的资源。

    - **测试与开发：**%%VMs|vm%%允许轻松创建和测试软件在不同环境中的运行，而不需要多台物理机器。

    - **安全：**%%VMs|vm%%的隔离增强了安全性，使恶意软件很难在它们之间传播。

    - **遗留应用程序支持：**%%VMs|vm%%允许您运行可能与现代硬件不兼容的遗留应用程序或操作系统。

    - \*\*资源隔离：\*\*每个%%VM|vm%%可以具有专用资源，防止%%VMs|vm%%之间的性能问题。

    - \*\*资源过度承诺：\*\*您可以运行比通常的物理资源允许的更多%%VMs|vm%%，理解到并非所有资源会同时完全利用它们的分配。
  </details>

  <details>
    <summary><strong>用于虚拟化的可分配设备支持</strong> - 点击展开/折叠</summary>

    Unraid's %%KVM|kvm%%-based virtualization uses modern tools for flexible hardware assignment while maintaining host stability.

    主要组件包括：

    **核心技术**

    - %%QEMU|qemu%% 和 %%libvirt|libvirt%%：管理 %%VM|vm%% 生命周期。
    - %%VFIO|vfio%% 设备直通：提供直接硬件访问。
    - %%VirtIO|virtio%% 和 %%VirtFS|virtfs%%：优化存储和网络性能。
    - %%OVMF|ovmf%%：支持 %%UEFI|uefi%% 和安全启动。

    **分配资源**

    - **计算：** 通过 %%CPU pinning|cpu-pinning%% 绑定专用 CPU 核心。
    - **内存：** 隔离的内存。
    - **存储：** 通过 %%VirtIO|virtio%% 优化的 SSD 虚拟磁盘。
    - **外设：** 全 PCI/USB 设备直通，包括 %%GPU passthrough|gpu-passthrough%% 支持。

    **平台灵活性**

    - 支持 %%i440fx|i440fx%% 和 %%Q35|q35%% 机器类型。
    - 兼容 %%Xen HVM|xen-hvm%% 和 %%Xen PV|xen-pv%% 工作负载。
    - 启用 %%Intel VT-x|intel-vt-x%% 和 %%AMD-V|amd-v%% 硬件虚拟化。

    <div style={{ maxWidth: '600px', margin: '1rem auto' }}>
      ![可分配资源](/img/KVM@2x.png)
    </div>
  </details>

  对于 %%虚拟机|vm%% 设置步骤，请查看 [创建虚拟机](../using-unraid-to/create-virtual-machines/overview-and-system-prep.mdx)。

  :::caution
  %%GPU passthrough|gpu-passthrough%% requires compatible hardware (see [VM setup](../using-unraid-to/create-virtual-machines/vm-setup.mdx)).
  :::
</details>
