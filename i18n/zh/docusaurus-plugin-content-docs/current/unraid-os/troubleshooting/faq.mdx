---
sidebar_position: 3
sidebar_label: 常见问题
toc_max_heading_level: 3
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";

# 常见问题解答

如果您需要 Unraid OS 的帮助，您有几种支持选项：

- **Unraid 论坛：** [一般支持](https://forums.unraid.net/forum/55-general-support/), [强迫性设计](https://forums.unraid.net/forum/35-unraid-compulsive-design/)
- **官方文档：** [Unraid 文档](../../docs-home.mdx)
- **Discord：** [Unraid Discord 社区](https://discord.unraid.net)
- **支持门户：** [Unraid 支持](https://unraid.net/support)

---

## 组装与硬件

<a id="build-help" />

### I need help with a build or system configuration. Where do I go?

要了解如何构建或升级 Unraid 服务器，请访问 [强迫性设计论坛](https://forums.unraid.net/forum/35-unraid-compulsive-design/) 或加入 [Unraid Discord](https://discord.unraid.net)。无论您的经验水平如何，社区都活跃且随时准备协助您。

<br />

<a id="hardware-raid-support" />

### Unraid 推荐使用哪些控制器？

Unraid 在非 %%RAID|raid%% 主机总线适配器 (HBA) 上表现最好。最好避免使用硬件 %%RAID|raid%% 控制器，这些控制器可能会隐藏驱动器健康信息并使维护复杂化。

始终检查固件更新并确保控制器设置为 HBA/IT 模式，而不是 %%RAID|raid%% 模式。您可以参考 [推荐控制器线程](https://forums.unraid.net/topic/102010-recommended-controllers-for-unraid/) 获取社区已成功测试的型号。

<br />

<a id="add-more-storage" />

### 如果内置控制器已满，添加更多存储的最佳方法是什么？

Unraid allows for the expansion of storage across multiple controllers. You can add a compatible HBA (as mentioned above). Ensure the controller operates in standard HBA (non-%%RAID|raid%%) mode and supports %%AHCI|ahci%%/SATA. Avoid using %%RAID|raid%%-only cards, as Unraid requires direct disk access for %%parity|parity%% and monitoring.

<br />

<a id="bad-sector-allocation" />

### Unraid 是否具有分配功能，可以记住硬盘上的坏扇区以避免向这些区域写入数据？

Unraid 使用来自驱动器的 %%SMART|smart%% 数据来监控其健康状况并检测坏扇区等问题。%%SMART|smart%% 已经内置于现代硬盘和 SSD 中，可跟踪重新分配和待处理扇区等属性。

虽然 Unraid 没有特定的分配功能来避免坏扇区，但它确实使用 %%SMART|smart%% 数据通知您是否有任何驱动器显示故障迹象或坏扇区数量增加。此信息可以在驱动器健康状况和 %%SMART|smart%% 属性的 %%WebGUI|web-gui%% 中找到。

如果驱动器显示出高计数的重新分配或未决扇区，建议及时更换以防止数据丢失。

如果您对驱动器的健康状况不确定，可以在 [常规支持论坛](https://forums.unraid.net/forum/55-general-support/) 分享您的 %%SMART|smart%% 数据以获得社区的协助。

<br />

---

## 操作系统与配置

<a id="hasp-key-vm" />

### Can I use a HASP key within a VM on Unraid? How does that work with multiple VMs?

If your HASP key is a USB dongle, you can assign it to only one %%VM|vm%% at a time. Note that two %%VM|vm%%s cannot use the same key simultaneously. You might need to pass through an entire USB controller for better compatibility. Always run tests with a Trial license to confirm that your hardware performs as expected.

<br />

<a id="usb-failed-restore" />

### My USB flash has failed, and I don't have a backup. How do I restore my configuration?

如果您启用了 [Unraid Connect](../../unraid-connect/overview-and-setup.mdx) 进行闪存备份，则可以使用它进行恢复。如果没有，请获取一个新的高质量闪存驱动器，在其上安装 Unraid，并使用您通过电子邮件收到的注册密钥。重新分配您的驱动器。如果您不记得分配，请在 [常规支持论坛](https://forums.unraid.net/forum/55-general-support/) 上寻求协助。

<br />

<a id="forgot-root-password" />

### 如果我忘记了 root 密码，我该怎么办？

请参考 [重置您的密码](../system-administration/secure-your-server/user-management.mdx#reset-your-password)。

:::note
If you're using encrypted drives and forget the encryption password, data recovery isn't possible - there is no backdoor.
:::

<br />

<a id="factory-reset" />

### How do I completely start Unraid OS from scratch? (Factory reset procedure)

1. 备份任何你希望保留的数据。
2. 停止%%array|array%%并关闭服务器。
3. 移除 USB 闪存设备。
4. 使用 Unraid USB Flash Creator 工具重新格式化和重新安装 Unraid 到闪存驱动器。
5. 重新插入闪存设备并启动服务器。
6. 在 WebGUI 中打开终端并运行 `lsblk` 列出现有驱动器（不包括闪存）。
7. 清除每个数据驱动器上的现有文件系统：

:::danger[Critical: Destructive Operation]

- **在继续之前，确保您已经备份**所需的任何数据

- **Double-check the device identifier** in the WebGUI or with `lsblk` before running this command

- **确保您锁定了正确的驱动器** - 错误驱动器的数据损失无法恢复

对于每个数据驱动器，运行：

```bash
wipefs /dev/sdX
```

将 `X` 替换为正确的驱动器字母（例如，sda、sdb、sdc）
:::

8. 继续正常的 Unraid 设置和配置。

<br />

<a id="change-hostname" />

### 如何更改我服务器的主机名？

To change your Unraid server's hostname, navigate the %%WebGUI|web-gui%% to ***Settings → System Settings → Identification***.

**更改主机名的影响：**

- 新主机名将用于网络标识（例如，通过 `http://newname` 访问）。
- 您可能需要重新连接任何使用新主机名的映射网络驱动器或快捷方式。
- 某些设备或服务可能缓存旧名称；可能需要完全重新启动设备以识别新名称。

<br />

<a id="invalid-guid" />

### My flash drive is reporting an invalid GUID. What do I do?

Unraid requires a USB flash device with a unique hardware %%GUID|guid%% (serial number). Some manufacturers may reuse %%GUID|guid%%s or use generic values, making these drives incompatible with each other.

**经过实地测试的品牌：**

- 三星 FIT Plus / Bar Plus
- 金士顿 DataTraveler Exodia
- 雷克沙 JumpDrive M45
- PNY Elite-X
  (Avoid newer SanDisk Ultra Fit/Cruzer models unless you can confirm a unique %%GUID|guid%%.)

It's best to avoid generic or unbranded drives, SSDs, USB card readers, and SD card adapters, as these often lack unique %%GUID|guid%%s and may not be supported for booting Unraid.

<br />

---

## 虚拟化与设备

<a id="amd-gpu-vm-restart" />

### Whenever I shut down my Windows VM with an AMD GPU assigned, it fails to restart. What can I do?

许多 AMD GPU 在功能级别复位时会出现问题，从而导致此问题。解决方法包括在 Windows 中关闭前弹出 GPU 或使用通常可以避免该问题的 NVIDIA GPU。

<br />

<a id="primary-gpu-passthrough" />

### 如果 CPU 没有集成图形，如何将主 GPU 传递给虚拟机？

This is feasible but requires additional steps. Check out [SpaceInvaderOne's video guide](https://forums.unraid.net/topic/51230-video-guidehow-to-pass-through-an-nvidia-gpu-as-primary-or-only-gpu-in-unraid/) for detailed instructions on how to do this properly.

<br />

---

## 存储 & RAID

<a id="raid-types-support" />

### Unraid 是否支持 RAID1/5/6/10 等不同的 RAID 类型？

Unraid 具有独特的存储架构，使其与传统的 %%RAID|raid%% 系统区分开来。以下是不同存储选项的比较：

<div style={{ display: 'flex', justifyContent: 'center', margin: '20px 0' }}>
  | 特性 / 能力                        | Unraid %%parity\|parity%% %%array\|array%% (md)           | %%BTRFS\|btrfs%% 池 (%%cache\|cache%%)                                                             | **%%ZFS\|zfs%% 池（7.x+）**             | 传统 %%RAID 1\|raid1%%/%%RAID 5\|raid5%%/%%RAID 6\|raid6%%/%%RAID 10\|raid10%%           |
  | ------------------------------ | --------------------------------------------------------- | ------------------------------------------------------------------------------------------------- | ------------------------------------ | -------------------------------------------------------------------------------------- |
  | %%Parity\|parity%% / 冗余模型      | 专用 %%parity\|parity%% 磁盘                                  | 通过 %%BTRFS\|btrfs%% 的软件 %%RAID 1\|raid1%%/%%RAID 10\|raid10%%/%%RAID 5\|raid5%%/%%RAID 6\|raid6%% | %%RAID 1\|raid1%%-Z1/Z2/Z3 或镜像       | 条带化 %%parity\|parity%% (%%RAID 5\|raid5%%/%%RAID 6\|raid6%%) 或镜像 (%%RAID 10\|raid10%%) |
  | 数据条带化                          | 不可以                                                       | 是的（除了 %%RAID 1\|raid1%%）                                                                          | 可以                                   | 可以                                                                                     |
  | 磁盘大小灵活性                        | 支持混合大小                                                    | 相似大小更佳                                                                                            | 每个 vdev 相似更佳                         | 需要匹配的大小                                                                                |
  | 一次扩展一块磁盘                       | 可以                                                        | 是（添加或更换设备）                                                                                        | 是的（每个 vdev\*）                        | 通常否                                                                                    |
  | 每个磁盘的文件系统                      | 可以                                                        | 不可以                                                                                               | 不可以                                  | 不可以                                                                                    |
  | 单磁盘读取速度                        | 本地磁盘速度                                                    | 聚合（多磁盘）                                                                                           | 聚合（多磁盘）                              | 聚合                                                                                     |
  | 重建期间写入劣化                       | 最小（仅失败驱动器）                                                | 取决于级别                                                                                             | 取决于 vdev 布局                          | 显著                                                                                     |
  | %%Bit rot\|bit-rot%% 检测        | 可选 (%%BTRFS\|btrfs%%/%%ZFS\|zfs%% %%checksum\|checksum%%) | ✅ 内置                                                                                              | ✅ End-to-end %%checksum\|checksum%%s | ❌ 非固有                                                                                  |
  | %%Snapshot\|snapshot%% / 发送-接收 | ❌                                                         | ✅ (%%BTRFS\|btrfs%%)                                                                              | ✅ 原生                                 | ❌                                                                                      |
  | 推荐生产使用                         | 一般媒体存储                                                    | %%RAID 1\|raid1%%/%%RAID 10\|raid10%% (避免 %%RAID 5\|raid5%%/%%RAID 6\|raid6%%)\*\*                | ✅ 所有级别稳定                             | Enterprise %%array\|array%%s                                                           |
</div>

\* %%ZFS|zfs%% vdevs 必须通过更换 **所有** 驱动器或添加新的 vdev 来扩展。\
\* %%BTRFS|btrfs%% %%RAID 5|raid5%%/%%RAID 6|raid6%% 仍然被“实验性”上游标记；谨慎使用。

- **Unraid %%parity|parity%% %%array|array%%** 非常适合增量扩展，允许不匹配的驱动器大小并且重建压力较小。
- **%%ZFS|zfs%% pools** (available in 7.x) provide enterprise-class redundancy, %%snapshot|snapshot%%s, and %%checksum|checksum%%s, making them ideal for %%VM|vm%%s and databases.
- **%%BTRFS|btrfs%% pools** excel for fast SSD %%cache|cache%%s, especially in mirrored %%RAID 1|raid1%%/%%RAID 10|raid10%% mode.
- Traditional hardware %%RAID|raid%% cards are *not* necessary; you can use simple HBAs to allow Unraid to manage drives directly.

<br />

<a id="mbr-to-gpt-conversion" />

### I currently have an array of devices formatted with an MBR-style partition table and want to convert to GPT. How do I do that?

<div
  style={{
   fontSize: "1.1em",
   fontWeight: 600,
   marginBottom: "0.5rem",
   marginTop: "1.5rem",
  }}
>
  为何从MBR转换到GPT？
</div>

MBR (Master Boot Record) partitioning supports disks up to 2TB and only allows a maximum of four primary partitions. On the other hand, GPT (%%GUID|guid%% Partition Table) can handle much larger disks and nearly unlimited partitions. Converting to GPT is advisable if you work with larger drives or want better partition management.

:::important[Use **维护模式**]
Before starting the conversion process, put your %%array|array%% into **Maintenance Mode**. This step ensures no writes occur during the conversion, protecting your data.
:::

<div
  style={{
   fontSize: "1.1em",
   fontWeight: 600,
   marginBottom: "0.5rem",
   marginTop: "1.5rem",
  }}
>
  转换过程
</div>

1. 确保您有一个有效的%%parity|parity%%和一个最新的闪存驱动器备份。
2. Enter **Maintenance Mode** from the ***Main*** tab.
3. 首先替换并重建您的%%parity|parity%%驱动器。
4. 一次替换每个数据驱动器，并在每次更换后重建%%array|array%%。
5. 新的驱动器将根据其大小被格式化为适当的分区样式：
   - **2TB或更小**：使用MBR分区
   - **大于2TB**：使用GPT分区
6. 在所有驱动器更换并重建后，退出**维护模式**。

此过程在更改分区格式时保证您的数据安全。

:::note[Additional 笔记]

- **分区是自动的**：Unraid 会根据磁盘大小自动选择分区类型：
  - **2TB或更小**：始终使用MBR分区
  - **大于2TB**：始终使用GPT分区

- Starting with Unraid OS 6.9, partition 1 starts at 32KiB for rotational devices and 1MiB for non-rotational devices, regardless of the partition style.
  \-- Always [back up your flash drive](../system-administration/secure-your-server/secure-your-flash-drive.mdx#backups) before starting this conversion process.

:::

<br />

---

## 网络

<a id="disable-br0-bridge" />

### 如何禁用br0桥接？

是的。**br0** 桥接是一个允许 Docker 容器和 %%VM|vm%%s 直接连接到本地局域网（LAN）并获得其 IP 地址的 Linux 网络桥接器。它充当虚拟网络交换机，将物理网络接口连接到容器和 %%VM|vm%%s 使用的虚拟接口。

:::note
禁用 br0 意味着 %%VMs|vm%% 和 Docker 容器将无法直接访问 LAN，并可能失去一些高级网络功能。
:::

<br />

<a id="webgui-connection" />

### I can't seem to connect to the WebGUI using `http://tower` or `http://tower.local`. What do I do?

如果在通过主机名连接 %%WebGUI|web-gui%% 时遇到问题，则可能是由于本地 DNS 无法解析服务器名称。请尝试使用 IP 地址直接连接。

**如何找到服务器的 IP 地址：**

- 检查您的路由器或交换机的 DHCP 客户端列表，查找标记为“Tower”或类似名称的设备。
- 如果您在创建闪存时分配了静态 IP，请使用该地址。
- 插上显示器和键盘到您的服务器；IP 地址将在本地控制台启动后显示。

**该问题的常见原因：**

- 您的计算机和服务器可能在不同的子网或 VLAN 上。
- 您的路由器可能不支持本地主机名解析。
- Unraid 服务器可能未连接到网络或网络配置错误。
- 防火墙或安全软件可能阻止了访问。

如果您仍然无法连接，尝试重启服务器和网络设备，确保所有电缆牢固连接。

<br />

---

## 安装

<a id="usb-creator-issue" />

### I can't get the USB flash creator to install Unraid on my flash device. What do I do?

如果 USB 闪存创建工具不适用于您的系统或闪存驱动器，您可以使用 [手动安装方法](../getting-started/set-up-unraid/create-your-bootable-media.mdx#manual-install-method) 准备您的 Unraid 启动设备。此方法兼容 Windows、macOS 和 Debian/Ubuntu Linux。

<br />

<a id="uefi-boot-config" />

### I need to configure my system to boot using UEFI. How do I do this?

您可以通过几种不同的方法设置%%UEFI|uefi%%启动模式：

#### 选项 1：在创建闪存期间

使用 USB 闪存创建器时，在将 Unraid 写入闪存驱动器前选择启用 %%UEFI|uefi%% 启动模式选项。

#### 选项 2： 在遗留模式启动后

In the %%WebGUI|web-gui%%, head to the Flash Device ***Settings → Flash Device*** page.

启用 %%UEFI|uefi%% 启动模式并重新启动服务器。

#### 选项 3：手动重命名文件夹

在闪存驱动器上，将 `EFI-` 文件夹重命名为 `EFI`（去掉破折号`-`）。

将闪存驱动器插入服务器，然后进入主板 BIOS/%%UEFI|uefi%% 设置。

设置USB闪存为主要启动设备并启用%%UEFI|uefi%%启动模式（确保禁用CSM/Legacy/Compatibility模式，若有）。

<br />

<a id="webgui-browser-issues" />

### I'm having issues using my web browser with the WebGUI. What can I do?

如果您在使用%%WebGUI|web-gui%%时遇到显示或功能问题，请考虑以下几点：

- **Ad-blockers and content blockers:** These browser extensions may interfere with the %%WebGUI|web-gui%%. Try adding your Unraid server to your ad-blocker's whitelist or disabling the blocker for your server's address.
- \*\*浏览器扩展：\*\*某些扩展可能会阻止脚本或更改页面内容。禁用扩展或尝试使用隐私/无痕窗口。
- **过时的浏览器：** 确保你使用的是现代的、最新的浏览器（如Chrome、Firefox或Edge）。旧版浏览器可能无法完全支持%%WebGUI|web-gui%%。
- **缓存问题：** 清除浏览器缓存或尝试进行硬刷新（Ctrl+F5 或 Cmd+Shift+R）。
- \*\*网络问题：\*\*确保您的计算机和服务器连接到同一网络和子网。

如果问题仍然存在，请尝试从其他浏览器或设备访问%%WebGUI|web-gui%%。

<br />

<a id="extend-trial" />

### How do I extend my Unraid trial?

如果您需要 [Unraid 的 30 天免费试用](https://unraid.net/download) 的更多时间，可以申请延期。在原始试用期到期后，停止 %%array|array%% 并转到 **注册** 页面。您应该看到一个按钮，允许您申请 15 天的延长。您可以这样做两次，总共延长 60 天，然后需要购买许可证。

:::important
You must use the same USB flash device to continue your trial. Changing the flash device will require starting a new trial from scratch.
:::

<br />
