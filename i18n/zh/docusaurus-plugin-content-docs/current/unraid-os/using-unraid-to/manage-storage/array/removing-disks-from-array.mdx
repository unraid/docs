---
sidebar_position: 4
sidebar_label: Removing disks from array
---

# Removing disks from array

有可能您想从 Unraid 阵列中移除一个磁盘。无论您是想节约电力，退役一个旧的或不可靠的驱动器，还是将硬件重新用于其他用途，此过程都相对简单。

## 移除校验盘

如果您发现不再需要设置中的 %%parity|校验%% 保护级别，可以随时移除 %%parity disk|校验盘%%。

要移除奇偶校验驱动器：

1. 停止数组。
2. Unassign the parity drive slot and set it to "Unassigned."
3. Start the array to commit the changes.

:::warning

Before you make any changes, please keep this in mind: If you already have any failed data drives in your array, removing a %%parity disk|parity-drives%% can decrease the number of failures Unraid can handle without risking data loss.

- 使用双重校验可以从单个失效驱动器中恢复，但请注意，在重建过程中，您将无法承受另一次故障。
- 使用单校验，您将失去所有冗余，这意味着任何额外的驱动器故障都可能导致数据丢失。

:::

## 移除数据磁盘

Removing a data disk requires a parity sync afterward. Until this sync completes, there's a risk of data loss if another disk fails.

### Standard method (Recommended)

1. 停止数组。
2. Optionally document your disk assignments with a screenshot.
3. Reset the array configuration using **Tools → New Config**, choosing the option to preserve all current assignments.
4. Unassign the disk you want to remove.
5. Start the array, but do not check the "Parity is valid" box.

A parity sync starts if you have a parity disk assigned. The array is vulnerable to data loss until this sync completes.

:::tip

Move important data off the disk before removal. The parity sync process may take several hours depending on disk size and system activity.

:::

### 校验保留方法（高级）

This method allows you to remove a data disk while keeping your parity valid. It zeros out the data disk, allowing you to keep your parity intact. This is only recommended for advanced users.

:::warning

This method erases all data on the selected disk. Verify that all important data has been moved before proceeding. There is no official support from LimeTech for this process.

:::

To use the parity-preserve method:

1. Start the array in maintenance mode, click on the disk you want to remove, and then click **Erase**. This erases the file system from the device while maintaining parity, then stops the array.
2. Start the array in normal mode. The disk won't mount, but the remaining disks are online.
3. Record array assignments, especially the parity drive.
4. Optionally enable Reconstruct Write ("Turbo Write") in **Settings → Disk Settings** for faster zeroing, but only if all drives are healthy.
5. Unmount the disk: `umount /mnt/diskX`
6. Zero out the disk:
   - For Unraid 6.12 or later: `dd bs=1M if=/dev/zero of=/dev/mdXp1 status=progress`
   - For Unraid 6.11 and earlier: `dd bs=1M if=/dev/zero of=/dev/mdX status=progress`
   Replace `X` with the specific number of the data disk you're removing.
7. Stop the array once clearing is complete.
8. Reset array configuration, retaining all current assignments.
9. Unassign the disk you want to remove, double-checking all assignments, especially the parity drive.
10. Check the box indicating "Parity is already valid."
11. Start the array to finish the removal.
12. Optionally run a correcting %%parity check|parity-check%% afterward to ensure parity integrity.
