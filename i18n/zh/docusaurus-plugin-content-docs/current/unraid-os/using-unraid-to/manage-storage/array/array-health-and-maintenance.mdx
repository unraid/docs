---
sidebar_position: 5
sidebar_label: Array health and maintenance
---

import ArrayCheckParity from "../partials/array-check-parity.mdx";
import ArrayCheckRead from "../partials/array-check-read.mdx";
import TroubleshootMissingDisks from "../partials/troubleshoot-missing-disks.mdx";
import TroubleshootDeviceLimit from "../partials/troubleshoot-device-limit.mdx";
import TroubleshootLicenseIssues from "../partials/troubleshoot-license-issues.mdx";
import TroubleshootKeyServer from "../partials/troubleshoot-key-server.mdx";
import TroubleshootWithdrawnRelease from "../partials/troubleshoot-withdrawn-release.mdx";

# Array health and maintenance

Regularly checking your Unraid array is crucial for maintaining data integrity and identifying potential issues before they result in data loss. This page covers monitoring tools and troubleshooting procedures for your array.

## æ£€æŸ¥é˜µåˆ—è®¾å¤‡

You can initiate a check using the **Check** button under ***Array Operations***. Depending on your array's configuration, this button allows you to conduct either a %%parity check|parity-check%% or a %%read check|read-check%%.

<div
  style={{
   margin: "auto",
   maxWidth: "400px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![æ£€æŸ¥æŒ‰é’®å¯è®©æ‚¨æ‰§è¡Œæ ¡éªŒå’Œè¯»å–
  æ£€æŸ¥](/img/Check_button.PNG)
</div>

For convenience, you can schedule these checks to run automatically at intervals that suit you by navigating to ***Settings â†’ Scheduler***. It's advisable to perform automated, correcting checks on a monthly or quarterly basis to ensure the ongoing health of your data and fix any sync errors found.

### æ ¡éªŒæ£€æŸ¥

<ArrayCheckParity />

### è¯»å–æ£€æŸ¥

<ArrayCheckRead />

### æ£€æŸ¥å†å²

Whenever the system performs a %%parity check|parity-check%% or a %%read check|read-check%%, it keeps a record of what happened. You can view these details easily by clicking the **History** button found under ***Array Operations*** in the interface.

Unraid æä¾›å¤šç§å†™å…¥æ¨¡å¼ç”¨äºç®¡ç†é˜µåˆ—æ“ä½œï¼Œæ¯ç§æ¨¡å¼åœ¨é€Ÿåº¦ã€ç”µé‡æ¶ˆè€—å’Œç£ç›˜æŸè€—æ–¹é¢å„æœ‰ä¼˜åŠ£ã€‚äº†è§£è¿™äº›æ¨¡å¼çš„å·¥ä½œåŸç†ä»¥åŠç¼“å­˜ç›˜æˆ–ç¼“å­˜æ± çš„ä½œç”¨ï¼Œæœ‰åŠ©äºæ ¹æ®æ‚¨çš„éœ€æ±‚ä¼˜åŒ–æœåŠ¡å™¨ã€‚

## ç£ç›˜å‡é™é€Ÿæ“ä½œ

Unraid å…è®¸æ‚¨æ§åˆ¶ç¡¬ç›˜çš„ç”µæºçŠ¶æ€ã€‚æ‚¨å¯ä»¥è½»æ¾åœ° %%spin them up or down|ç”µæºçŠ¶æ€%%ï¼Œå¹¶ç®¡ç† SSD å¤„äºæ´»åŠ¨æˆ–å¾…æœºçŠ¶æ€ã€‚è¿™æœ‰åŠ©äºçœç”µï¼Œå»¶é•¿ç¡¬ç›˜å¯¿å‘½ï¼Œå¹¶åœ¨ç£ç›˜æœªä½¿ç”¨æ—¶é™ä½å™ªéŸ³ã€‚

### ä¸ºä»€ä¹ˆè¦å¯åŠ¨æˆ–åœæ­¢ï¼Ÿ

Spinning down drives that aren't used often saves energy and helps them last longer. Spinning up disks ahead of time cuts down wait times when you need files soon.

### å¦‚ä½•æ§åˆ¶å¯åŠ¨çŠ¶æ€

Control disk spin states through the **Main** tab:

1. Go to the **Main** tab and locate your array devices.
2. Each disk shows spin control buttons:
   - ğŸ”˜ button - **Spin Up** (if currently spun down)
   - ğŸŸ¢ button - **Spin Down** (if currently spinning)
3. Click the appropriate button for the action you want.

è¯·è®°ä½ï¼Œå¦‚æœç£ç›˜è¢«è®¿é—®ï¼ˆä¾‹å¦‚æ‰“å¼€æ–‡ä»¶ï¼‰ï¼Œå®ƒå°†ä¿æŒæ´»åŠ¨å¹¶å¿½ç•¥ä»»ä½•åœæ­¢è¯·æ±‚ã€‚

å½“ç£ç›˜ä¸è½¬æ—¶ï¼Œå…¶æ¸©åº¦å°†ä¸ä¼šåœ¨%%WebGUI|web-gui%%ä¸­æ˜¾ç¤ºã€‚ç„¶è€Œï¼Œä¸€æ—¦ä»»ä½•åº”ç”¨ç¨‹åºæˆ–ç”¨æˆ·è®¿é—®å®ƒï¼Œå®ƒå°†è‡ªåŠ¨å¼€å§‹è½¬åŠ¨ã€‚

:::tip

ä½¿ç”¨æ—‹è½¬æ§åˆ¶æ¥èŠ‚çœç”µåŠ›å¹¶å‡å°‘å¯¹é©±åŠ¨å™¨çš„æŸè€—ã€‚è¯·è®°ä½ï¼Œæ­£åœ¨è¢«ä½¿ç”¨çš„ç£ç›˜å°†ä¿æŒå¼€å¯çŠ¶æ€ï¼Œç›´åˆ°æ‰€æœ‰ä»»åŠ¡å®Œæˆã€‚

:::

## é‡ç½®é˜µåˆ—é…ç½®

é‡ç½®é˜µåˆ—é…ç½®æ˜¯ä¸€ä¸ªéœ€è¦è°¨æ…å¯¹å¾…çš„é‡è¦æ­¥éª¤ã€‚æ­¤è¿‡ç¨‹é€šå¸¸åœ¨ç§»é™¤ç£ç›˜ã€ä»¥æ–°é˜µåˆ—å¸ƒå±€é‡å¤´å¼€å§‹æˆ–ä¿®å¤ç£ç›˜åˆ†é…é—®é¢˜æ—¶æ˜¯å¿…è¦çš„ã€‚è¯·æ³¨æ„ï¼Œæ­¤æ“ä½œå¯èƒ½ä¼šå½±å“æ•°æ®ä¿æŠ¤å’Œæ ¡éªŒï¼Œå› æ­¤è¯·ç¡®ä¿åªæœ‰åœ¨ç¡®æœ‰å¿…è¦æ—¶æ‰ç»§ç»­è¿›è¡Œã€‚

Reset your array when:

- Removing or replacing disks
- Starting fresh with a new array layout
- Fixing disk assignment errors
- Recovering from configuration problems

<div
  style={{
   margin: "auto",
   maxWidth: "650px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![å¯ä»¥é€šè¿‡æ–°é…ç½®é¡µé¢é‡ç½®æ‚¨çš„ç£ç›˜é…ç½®](/img/Newconfig.png)
</div>

è¦é‡ç½®é˜µåˆ—é…ç½®ï¼š

1. Go to **Tools â†’ New Config**.
2. Optionally keep some existing disk assignments for minor adjustments.
3. Check the confirmation box and click **Apply**.
4. Return to the **Main** tab.
5. Assign or unassign disks as needed.
6. Start the array in Normal or %%Maintenance Mode|maintenance-mode%%.

:::important

- Unraid attempts to recognize previously used drives and preserve data where possible
- Removing a data drive invalidates parity unless that drive was zeroed before removal
- Changing disk order won't affect parity1, but it can invalidate parity2

:::

:::caution

When you see the **Start** button, there is a checkbox labeled **Parity is Valid**. Only check this box if you are certain it is correct or if an experienced Unraid user has advised you to do so during recovery. Incorrectly checking this option can lead to data loss.

Do not use **New Config** if your goal is to rebuild a disk. Performing a New Config clears the array history required for a rebuild, and Unraid will not offer to rebuild the disk afterward. Follow the disk rebuild procedure instead.

:::

### æ’¤é”€é‡ç½®

To reverse a reset:

1. \*\*æ— å¥‡å¶æ ¡éªŒä¿æŠ¤ï¼š\*\*åœ¨ç§»åŠ¨åˆ°æ•°ç»„ä¹‹å‰ï¼Œæ•°æ®æœªå—ä¿æŠ¤ã€‚
2. Open the `config` folder.
3. Rename `super.old` to `super.dat`.
4. Reboot your server to restore the prior configuration.

## çŠ¶æ€æŠ¥å‘Š

Unraid æä¾›çŠ¶æ€æŠ¥å‘Šï¼Œå¸®åŠ©æ‚¨è·Ÿè¸ªå­˜å‚¨é˜µåˆ—çš„å¥åº·çŠ¶å†µã€‚è¿™äº›æŠ¥å‘Šæ˜¯å¿«é€Ÿæ£€æŸ¥ä»»ä½•ç£ç›˜æ˜¯å¦ç¦ç”¨æˆ–åœ¨è¯»å–æˆ–å†™å…¥æ•°æ®æ—¶å‡ºç°é—®é¢˜çš„å¿«æ·æ–¹å¼ã€‚

- \*\*å½“å‰çŠ¶æ€ï¼š\*\*çŠ¶æ€æŠ¥å‘Šæ˜¾ç¤ºæ‚¨çš„é˜µåˆ—å½“å‰æƒ…å†µã€‚é‡è¦çš„æ˜¯è¦æ³¨æ„ï¼Œè¿™äº›ä¿¡æ¯åœ¨ç³»ç»Ÿé‡æ–°å¯åŠ¨åå°†è¢«é‡ç½®ï¼Œå› æ­¤ä¸ä¼šä¿ç•™è¿‡å»çš„å†å²é—®é¢˜ã€‚

- \*\*æ— å†å²æ•°æ®ï¼š\*\*å¦‚æœæ‚¨æƒ³æŸ¥çœ‹é‡å¯å‰å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæ‚¨éœ€è¦å»å…¶å®ƒåœ°æ–¹æŸ¥çœ‹ï¼Œå› ä¸ºè¿™äº›æŠ¥å‘Šä¸ä¿å­˜è¿‡å»çš„çŠ¶æ€ã€‚

:::important

è¯·è®°ä½ï¼ŒçŠ¶æ€æŠ¥å‘Šä¸åŒ…æ‹¬%%SMART|smart%%æ•°æ®ã€‚%%SMARTæŠ¥å‘Š|smart-report%%ä¸ºæ‚¨æä¾›äº†å•ä¸ªç£ç›˜å¥åº·çš„æ›´è¯¦ç»†è§†å›¾ã€‚å› æ­¤ï¼Œå³ä½¿æ‚¨çš„çŠ¶æ€æŠ¥å‘Šæ˜¾ç¤ºä¸€åˆ‡æ­£å¸¸ï¼Œå®šæœŸæ£€æŸ¥%%SMARTæŠ¥å‘Š|smart-report%%ä»¥å°½æ—©å‘ç°ä»»ä½•æ½œåœ¨é—®é¢˜ä»ç„¶æ˜¯ä¸ªå¥½ä¸»æ„ã€‚

:::

## æ•…éšœæ’é™¤æ•°ç»„å¯åŠ¨å¤±è´¥

If your array won't start, follow these steps to identify and fix common problems. Look for error messages under ***Main â†’ Array Operation***.

### ç¼ºå°‘ç£ç›˜

<TroubleshootMissingDisks />

### è®¾å¤‡é™åˆ¶

<TroubleshootDeviceLimit />

### è®¸å¯é—®é¢˜

<TroubleshootLicenseIssues />

### å¯†é’¥æœåŠ¡å™¨è¿æ¥

<TroubleshootKeyServer />

### æ’¤å›å‘å¸ƒ

<TroubleshootWithdrawnRelease />

## é‡å»ºæœŸé—´çš„ç£ç›˜æ•…éšœ

å¦‚æœåœ¨é‡å»ºå¦ä¸€ä¸ªç£ç›˜æ—¶å‘ç”Ÿç¬¬äºŒä¸ªç£ç›˜æ•…éšœï¼Œæ‚¨èƒ½åšçš„å°†å–å†³äºæ‚¨çš„å¥‡å¶æ ¡éªŒè®¾ç½®ã€‚

### Single parity disk

å¦‚æœåœ¨é‡å»ºå¦ä¸€ä¸ªç£ç›˜æ—¶ä¸€ä¸ªç£ç›˜æ•…éšœï¼Œé‡å»ºå°†åœæ­¢ï¼Œå› ä¸ºæ•°æ®æ— æ³•å‡†ç¡®æ¢å¤ã€‚

### Dual parity disk

å¦‚æœæ‚¨æœ‰ä¸¤ä¸ª %%parity drives|æ ¡éªŒç›˜%%ï¼Œæ‚¨æœ‰æ›´å¤šçš„é€‰æ‹©ï¼š

- æ‚¨å¯ä»¥ç­‰å¾…ç¬¬ä¸€ä¸ªé‡å»ºå®Œæˆï¼Œç„¶åå†å¤„ç†ç¬¬äºŒä¸ªæ•…éšœç£ç›˜ã€‚
- æˆ–è€…ï¼Œæ‚¨å¯ä»¥åœæ­¢å½“å‰é‡å»ºï¼Œæ›¿æ¢ç¬¬äºŒä¸ªæ•…éšœç£ç›˜ï¼Œç„¶åå¯åŠ¨é˜µåˆ—ä»¥åŒæ—¶é‡å»ºä¸¤ä¸ªç£ç›˜ã€‚

å¦‚æœç¬¬ä¸€æ¬¡é‡å»ºå¿«è¦å®Œæˆï¼Œé€šå¸¸æœ€å¥½è®©å®ƒå®Œæˆã€‚å¦‚æœåˆšå¼€å§‹ï¼Œé‡å»ºä¸¤ä¸ªå¯èƒ½ä¼šæ›´å¿«ã€‚

:::warning

é‡å»ºç£ç›˜ä¼šç»™æ‰€æœ‰é©±åŠ¨å™¨å¸¦æ¥å¾ˆå¤§å‹åŠ›ï¼Œä»è€Œå¢åŠ æ–°æ•…éšœçš„æ¦‚ç‡ã€‚åœ¨å¼€å§‹é‡å»ºå‰ï¼Œè¯·ä½¿ç”¨%%SMARTæŠ¥å‘Š|smart-report%%æ£€æŸ¥ç£ç›˜å¥åº·ã€‚

:::

:::info[Rebuild æ—¶é—´]

è¦å‡†å¤‡å¥½é‡å»ºè¿‡ç¨‹å¯èƒ½éœ€è¦å‡ ä¸ªå°æ—¶ã€‚æ—¶é—´å¯èƒ½å› ç£ç›˜å¤§å°å’Œç³»ç»Ÿå¿™ç¢Œç¨‹åº¦è€Œå¼‚ã€‚è¾ƒå¤§çš„ç£ç›˜å’Œç¹å¿™çš„ç³»ç»Ÿå¯èƒ½éœ€è¦æ›´é•¿æ—¶é—´ã€‚

:::
