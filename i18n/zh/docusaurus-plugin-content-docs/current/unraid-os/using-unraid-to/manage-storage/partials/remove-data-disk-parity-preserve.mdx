The parity-preserve method allows you to remove a data disk from your Unraid array without losing your parity protection. This process requires careful preparation and some technical knowledge and is only recommended for advanced users.

<h4>这种方法的作用</h4>

该方法有效地将您想移除的数据盘归零，从而保持奇偶校验完整。由于填满零的磁盘不会影响奇偶校验，因此在整个过程中您的阵列始终受到保护。

<h4>何时使用该方法</h4>

Use the %%parity|parity%%-preserve method to remove a data disk while keeping your %%parity|parity%% valid safely. This is especially useful to avoid a full %%parity|parity%% sync after removal. Please ensure that the disk you're removing is healthy.

:::important\[Prerequisites]

Before you begin, ensure that you meet the following conditions:

- 此方法仅允许您一次移除一个磁盘。
- Note that there is no official support from LimeTech for this process; please proceed with caution.

:::

:::warning

此方法会擦除所选磁盘上的所有数据。在继续之前，请确认所有重要数据已被转移。

:::

要使用保留校验的方法来移除磁盘：

1. **将阵列启动为维护模式：** 点击要移除的磁盘，然后点击**擦除**按钮。这将擦除设备上的文件系统，同时保持奇偶校验完整，随后停止阵列。
2. **启动阵列：** 在正常模式下启动阵列；将被擦除的磁盘不会挂载，但在此过程中的其余磁盘将在线。
3. **记录阵列分配：** 请注意您的阵列分配，尤其是 %%parity drive|parity-drives%%，这是一个安全措施。
4. **（可选）启用 Turbo Write：** 为了更快的清零速度，在**设置→磁盘设置**中启用重建写入（"Turbo Write"），但前提是所有驱动器正常。
5. **清零磁盘：** 使用以下替代命令行方法手动清零磁盘。
6. **停止阵列：** 清除完成后，停止阵列。
7. **重置阵列配置：** 重置阵列配置时保留所有当前分配。
8. **取消分配磁盘：** 选择您希望移除的磁盘，并仔细检查所有分配，尤其是 %%parity drive|parity-drives%%。
9. **确认奇偶校验状态：** 勾选“奇偶校验已有效”框。
10. **再次启动阵列：** 启动阵列以完成移除过程。
11. **(可选) 验证奇偶性：** 您可以在之后运行一个矫正 %%parity check|parity-check%% 以确保奇偶性的完整性。

<details>
  <summary>**清零磁盘的替代命令行方法**</summary>

  如果您熟悉使用 Linux 命令行，可以使用以下说明手动清零您的磁盘。确保选择与您的 Unraid 版本相对应的命令。

  由于清零磁盘可能需要几个小时，建议使用类似 [Tmux 终端管理器 TTM 插件](https://forums.unraid.net/topic/183427/plugin-tmux-terminal-manager-ttm/) 的工具来输入命令，并确保会话保持活动状态。

  **适用于 Unraid 6.12 或更高版本：**

  1. 首先，卸载磁盘：
     ```bash
     umount /mnt/diskX
     ```
  2. 使用以下命令将磁盘清零：
     ```bash
     dd bs=1M if=/dev/zero of=/dev/mdXp1 status=progress
     ```

  **适用于 Unraid 6.11 及更早版本：**

  1. 开始卸载磁盘：
     ```bash
     umount /mnt/diskX
     ```
  2. 然后使用此命令清零磁盘：
     ```bash
     dd bs=1M if=/dev/zero of=/dev/mdX status=progress
     ```

  :::note
  记得将 `X` 替换为您正在移除的数据磁盘的具体编号。
  :::

  :::caution
  在执行这些命令之前，请仔细检查驱动器编号，以避免不小心擦除错误磁盘上的数据。
  :::

  别犹豫，随时访问 [Unraid 论坛](https://forums.unraid.net/)。在那里，您可以找到有用的资源和社区支持。
</details>
