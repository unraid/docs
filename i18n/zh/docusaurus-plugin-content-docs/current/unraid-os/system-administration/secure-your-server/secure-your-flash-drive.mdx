---
sidebar_position: 2
sidebar_label: 确保您的闪存驱动器安全
---

# 确保您的闪存驱动器安全

The flash drive is essential to your Unraid server, as it stores all configuration data, licensing, and system settings. Due to its importance, it’s crucial to keep its contents secure and accessible at all times.

## 备份

拥有闪存驱动器的最新备份可以保证您在硬件故障、意外更改或数据损坏时能够快速恢复。请务必在以下情况备份：

- 在升级 Unraid 或安装插件之前
- 添加或移除驱动器后
- 更改网络、共享或安全设置后
- 进行重大配置更改之前
- 定期作为日常维护的一部分

要使用 Unraid %%WebGUI|web-gui%% 备份您的闪存驱动器，请按照以下步骤操作：

1. 在**主**选项卡中选择您的闪存驱动器。
2. 在**闪存设备设置**中，点击**闪存备份**。

<div style={{ margin: 'auto', maxWidth: '600px', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
  ![选择闪存备份按钮](/img/flashbackup.png)
</div>

3. Unraid 将创建一个包含闪存驱动器内容的 ZIP 文件。
4. Save this ZIP file to a secure location outside your Unraid server (like a separate PC, NAS, or cloud storage).

如果需要重新创建您的闪存驱动器，请使用此备份和[USB Creator工具](https://unraid.net/download)。

:::tip

Consider keeping a screenshot of your [disk assignments](../../getting-started/set-up-unraid/configure-your-array.mdx#assign-parity-and-data-disks) after any hardware changes. This ensures correct drive placement if you need to restore from your backup.

:::

---

## Network access

You can control whether your flash drive is accessible over the network, similar to other shares in Unraid. However, network access should be restricted since the flash drive contains sensitive configuration and licensing data. Consider the following:

- **Network visibility:** Decide if your flash drive should be visible or hidden on your network.
- **Access rights:** If network access is enabled, set permissions to limit who can view or modify its contents.

:::important[Reducing security risks]

- **Disable sharing:** Set the flash drive's %%SMB|samba%% export to **No** to prevent network access entirely.
- **Restrict access:** If you must share the flash drive, set security to **Private** and grant access only to trusted users with strong passwords.
- **Avoid public access:** Never leave the flash drive share set to **Public** or **Secure** with guest write access.

These steps help prevent unauthorized changes or exposure of critical files.

:::

---

## 权限

To enhance system security, files on the flash drive can no longer be given execute permission. This change prevents malicious or unintended code from running directly off the flash drive, reducing the risk of exploitation or accidental system modification.

If you have custom scripts or programs stored on the flash drive, follow these steps:

1. **Copy scripts to an executable location:**
   - Use `/usr/local/bin` if you want the scripts on the default system path.
   - Automate this by adding copy commands to your `config/go` file.
   - After copying, set the execute permission on the files.

2. **Run scripts with an interpreter:**
   - Prefix the script with the interpreter (e.g., `bash /boot/config/scripts/myscript.sh`).

This approach keeps your system secure while allowing advanced users to run their scripts.
