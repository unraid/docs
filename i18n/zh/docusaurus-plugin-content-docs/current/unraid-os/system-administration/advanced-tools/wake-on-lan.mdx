---
sidebar_position: 2
sidebar_label: 远程唤醒（WoL）
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import WakeOnLanWindows from './partials/wake-on-lan/windows.mdx';
import WakeOnLanMacos from './partials/wake-on-lan/macos.mdx';
import WakeOnLanLinux from './partials/wake-on-lan/linux.mdx';

# 远程唤醒（WoL）

%%Wake-on-LAN (WOL)|远程唤醒 (WOL)%% 允许您通过网络发送一个“魔术包”来远程唤醒已关机或睡眠状态的 Unraid 服务器。此页面将帮助您为本地网络设置 WoL。

## 要求

为了让 WoL 正常工作，请确保满足以下要求：

- **网卡支持**：您的网络接口控制器应支持 WoL；大多数现代网卡支持。

- **BIOS/UEFI 设置**：在主板的 BIOS/%%UEFI|UEFI%% 下的电源管理中启用 WoL。以下是一些常见的设置名称：

  | 设置名称             | 描述                  |
  | ---------------- | ------------------- |
  | 远程唤醒             | 通用 WoL 设置           |
  | PME 事件唤醒         | 用于 PCIe 唤醒事件        |
  | 通过 PCI/PCIe 设备开机 | WoL 的替代名称           |
  | ErP 准备           | 为了让 WoL 正常工作，必须*禁用* |

- **电源连接**: 确保您的服务器连接到电源。

- **网络连接**：使用以太网线将服务器连接到局域网（不支持 WiFi WoL）。

:::caution[Hardware 兼容性]
Not all hardware supports S3 sleep or WoL reliably. Some systems may experience issues entering sleep, fail to wake up correctly, or require additional BIOS/%%UEFI|uefi%% settings. Always test these features thoroughly before relying on them.
:::

## Putting an Unraid server to sleep

The preferred and user-friendly way to manage sleep on Unraid is by using the [**Dynamix S3 Sleep plugin**](https://unraid.net/community/apps/c/plugins/p3?srsltid=AfmBOorpfP2Psw_bCorklf-QVCUHvADYGsdbsAH-4CldU4V2hWgoO-09#r:~:text=%3E%3E-,Dynamix%20S3%20Sleep,-Dynamix%20Repository). This plugin offers a graphical interface to help schedule sleep, wake, and idle behavior, while also addressing common issues that may arise with various hardware configurations.

To install and configure:

1. Open the ***Apps tab*** in the Unraid %%WebGUI|web-gui%%.
2. Search for "Dynamix S3 Sleep" and install the plugin.
3. Navigate to ***Settings → Sleep Settings*** to set up your sleep and wake options.

The plugin manages most sleep configuration options.

<details>
  <summary><strong>Alternative manual method</strong> - Click to expand/collapse</summary>

  If you want more control or need advanced customization, you can configure sleep and WoL settings through the command line. This method is recommended for advanced users.

  To configure sleep manually:

  1. Connect to your server using the %%WebGUI|web-gui%% terminal or [%%SSH|ssh%%](../../system-administration/advanced-tools/command-line-interface.mdx#accessing-the-terminal).

  2. Identify your primary network interface (usually `eth0`) by running the following command:

     ```
     ifconfig
     ```

     Note the MAC address (labelled as `ether`).

  3. Enable WoL on the interface with this command:

     ```
     ethtool -s eth0 wol g
     ```

  4. Put the server to sleep by entering this command:

     ```
     echo -n mem > /sys/power/state
     ```

  :::caution[Persistence]
  WoL settings configured manually are **not persistent** across reboots by default. To make them permanent:

  1. Create a `go` file on your flash drive at `/boot/config/go`.

  2. Add this line:

  ```
  /sbin/ethtool -s eth0 wol g
  ```
  :::
</details>

## Wake your Unraid server

To wake your Unraid server remotely, you need to send a special "magic packet" over your local network. This packet includes your server's MAC address and instructs the network interface to power on the system from a sleep or shutdown state. Different operating systems provide various tools and methods for sending this packet. Below are specific instructions for Windows, macOS, and Linux.

<Tabs>
  <TabItem value="Windows" label="Windows">
    <WakeOnLanWindows />
  </TabItem>

  <TabItem value="macOS" label="macOS">
    <WakeOnLanMacos />
  </TabItem>

  <TabItem value="Linux" label="Linux">
    <WakeOnLanLinux />
  </TabItem>
</Tabs>
