---
title: CLIå‚è€ƒ
description: Complete reference for all Unraid API CLI commands
sidebar_position: 4
---

# CLIå‘½ä»¤

:::info[Command ç»“æ„]
æ‰€æœ‰å‘½ä»¤éµå¾ªæ¨¡å¼ï¼š`unraid-api <command> [options]`
:::

## ğŸš€ æœåŠ¡ç®¡ç†

### å¼€å§‹

```bash
unraid-api start [--log-level <level>]
```

Starts the Unraid API service.

é€‰é¡¹ï¼š

- `--log-level`ï¼šè®¾ç½®æ—¥å¿—è®°å½•çº§åˆ«(trace|debug|info|warn|error|fatal)

æ›¿ä»£ï¼šæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `LOG_LEVEL` ç¯å¢ƒå˜é‡è®¾ç½®æ—¥å¿—çº§åˆ«ï¼š

```bash
LOG_LEVEL=trace unraid-api start
```

### åœæ­¢

```bash
unraid-api stop [--delete]
```

Stops the Unraid API service.

- `--delete`: å¯é€‰ã€‚åˆ é™¤PM2ä¸»ç›®å½•

### é‡å¯

```bash
unraid-api restart [--log-level <level>]
```

Restarts the Unraid API service.

é€‰é¡¹ï¼š

- `--log-level`ï¼šè®¾ç½®æ—¥å¿—è®°å½•çº§åˆ«(trace|debug|info|warn|error|fatal)

æ›¿ä»£ï¼šæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨ `LOG_LEVEL` ç¯å¢ƒå˜é‡è®¾ç½®æ—¥å¿—çº§åˆ«ï¼š

```bash
LOG_LEVEL=trace unraid-api restart
```

### æ—¥å¿—

```bash
unraid-api logs [-l <lines>]
```

æŸ¥çœ‹APIæ—¥å¿—ã€‚

- `-l, --lines`: å¯é€‰ã€‚è¦å°¾éƒ¨çš„è¡Œæ•°ï¼ˆé»˜è®¤: 100ï¼‰

## âš™ï¸ é…ç½®å‘½ä»¤

### é…ç½®

```bash
unraid-api config
```

æ˜¾ç¤ºå½“å‰é…ç½®å€¼ã€‚

### åˆ‡æ¢ç¯å¢ƒ

```bash
unraid-api switch-env [-e <environment>]
```

åœ¨ç”Ÿäº§å’Œæµ‹è¯•ç¯å¢ƒé—´åˆ‡æ¢ã€‚

- `-e, --environment`: å¯é€‰ã€‚ç›®æ ‡ç¯å¢ƒï¼ˆproductionï½œstagingï¼‰

### å¼€å‘è€…æ¨¡å¼

:::tip[Web GUI ç®¡ç†]
æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡Web GUIç®¡ç†å¼€å‘è€…é€‰é¡¹ï¼Œè·¯å¾„ä¸º **è®¾ç½®** â†’ **ç®¡ç†è®¿é—®** â†’ **å¼€å‘è€…é€‰é¡¹**
:::

```bash
unraid-api developer                       # Interactive prompt for tools
unraid-api developer --sandbox true        # Enable GraphQL sandbox
unraid-api developer --sandbox false       # Disable GraphQL sandbox
unraid-api developer --enable-modal        # Enable modal testing tool
unraid-api developer --disable-modal       # Disable modal testing tool
```

é…ç½®APIçš„å¼€å‘äººå‘˜åŠŸèƒ½ï¼š

- **GraphQLæ²™ç®±**ï¼šå¯ç”¨/ç¦ç”¨Apollo GraphQLæ²™ç®±ä½äº `/graphql`
- **Modal Testing Tool**: Enable/disable UI modal testing in the Unraid menu

## APIå¯†é’¥ç®¡ç†

:::tip[Web GUI ç®¡ç†]
æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡Web GUIç®¡ç†APIå¯†é’¥ï¼Œè·¯å¾„ä¸º **è®¾ç½®** â†’ **ç®¡ç†è®¿é—®** â†’ **APIå¯†é’¥**
:::

### APIå¯†é’¥å‘½ä»¤

```bash
unraid-api apikey [options]
```

é€šè¿‡CLIåˆ›å»ºå’Œç®¡ç†APIå¯†é’¥ã€‚

é€‰é¡¹ï¼š

- `--name <name>`ï¼šå¯†é’¥åç§°
- `--create`ï¼šåˆ›å»ºæ–°å¯†é’¥
- `-r, --roles <roles>`ï¼šè§’è‰²åˆ—è¡¨ï¼Œé€—å·åˆ†éš”
- `-p, --permissions <permissions>`ï¼šæƒé™åˆ—è¡¨ï¼Œé€—å·åˆ†éš”
- `-d, --description <description>`ï¼šå¯†é’¥æè¿°

## SSO (å•ç‚¹ç™»å½•)ç®¡ç†

:::info\[OIDC é…ç½®

æœ‰å…³OIDC/SSOæä¾›å•†é…ç½®ï¼Œè¯·å‚é˜…Webç•Œé¢åœ¨ **è®¾ç½®** â†’ **ç®¡ç†è®¿é—®** â†’ **API** â†’ **OIDC** æˆ–å‚è€ƒ [OIDCæä¾›å•†è®¾ç½®](./oidc-provider-setup.mdx) æŒ‡å—ã€‚

:::

### SSOåŸºç¡€å‘½ä»¤

```bash
unraid-api sso
```

#### æ·»åŠ SSOç”¨æˆ·

```bash
unraid-api sso add-user
# or
unraid-api sso add
# or
unraid-api sso a
```

ä¸ºSSOè®¤è¯æ·»åŠ æ–°ç”¨æˆ·ã€‚

#### ç§»é™¤SSOç”¨æˆ·

```bash
unraid-api sso remove-user
# or
unraid-api sso remove
# or
unraid-api sso r
```

ä»SSOä¸­ç§»é™¤ç”¨æˆ·ï¼ˆæˆ–æ‰€æœ‰ç”¨æˆ·ï¼‰ã€‚

#### åˆ—å‡ºSSOç”¨æˆ·

```bash
unraid-api sso list-users
# or
unraid-api sso list
# or
unraid-api sso l
```

åˆ—å‡ºæ‰€æœ‰é…ç½®çš„SSOç”¨æˆ·ã€‚

#### éªŒè¯SSOä»¤ç‰Œ

```bash
unraid-api sso validate-token <token>
# or
unraid-api sso validate
# or
unraid-api sso v
```

éªŒè¯SSOä»¤ç‰Œå¹¶è¿”å›å…¶çŠ¶æ€ã€‚

## æŠ¥å‘Šç”Ÿæˆ

### ç”ŸæˆæŠ¥å‘Š

```bash
unraid-api report [-r] [-j]
```

ç”Ÿæˆç³»ç»ŸæŠ¥å‘Šã€‚

- `-r, --raw`ï¼šæ˜¾ç¤ºåŸå§‹å‘½ä»¤è¾“å‡º
- `-j, --json`ï¼šä»¥JSONæ ¼å¼æ˜¾ç¤ºè¾“å‡º

## ç¬”è®°

1. å¤§å¤šæ•°å‘½ä»¤éœ€è¦é€‚å½“çš„æƒé™æ¥ä¿®æ”¹ç³»ç»ŸçŠ¶æ€
2. æŸäº›å‘½ä»¤éœ€è¦APIæ­£åœ¨è¿è¡Œæˆ–åœæ­¢
3. å®‰å…¨å­˜å‚¨APIå¯†é’¥ï¼Œå› ä¸ºå®ƒä»¬æä¾›ç³»ç»Ÿè®¿é—®
4. SSOé…ç½®æ›´æ”¹å¯èƒ½éœ€è¦æœåŠ¡é‡å¯
