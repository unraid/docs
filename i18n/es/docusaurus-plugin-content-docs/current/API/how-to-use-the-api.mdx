---
title: Usando la API de Unraid
description: Aprenda c√≥mo interactuar con su servidor Unraid a trav√©s de la API GraphQL
sidebar_position: 2
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ManageApiKeysGui from './partials/manage-api-keys-gui.mdx';
import ManageApiKeysCli from './partials/manage-api-keys-cli.mdx';

# Usando la API de Unraid

:::tip[Quick Iniciar]

La API de Unraid ofrece una interfaz GraphQL que le permite interactuar con su servidor Unraid. Esta gu√≠a le ayudar√° a comenzar a explorar y utilizar la API.

:::

La API de Unraid ofrece una interfaz GraphQL que le permite interactuar con su servidor Unraid. Esta gu√≠a le ayudar√° a comenzar a explorar y utilizar la API.

## üéÆ Habilitaci√≥n del Sandbox de GraphQL

### M√©todo GUI Web (Recomendado)

:::info[Preferred M√©todo]

Usar la GUI Web es la forma m√°s f√°cil de habilitar el sandbox de GraphQL.

:::

1. Navegue a **Configuraci√≥n** ‚Üí **Acceso de Administraci√≥n** ‚Üí **Opciones de Desarrollador**
2. Habilite el interruptor **Sandbox de GraphQL**
3. Acceda al playground de GraphQL navegando a:

   ```txt
   http://YOUR_SERVER_IP/graphql
   ```

### M√©todo CLI

Alternativamente, puede habilitar el modo desarrollador usando la CLI:

```bash
unraid-api developer --sandbox true
```

O use el modo interactivo:

```bash
unraid-api developer
```

## üîë Autenticaci√≥n

:::warning[Required para la mayor√≠a de las operaciones]

La mayor√≠a de las consultas y mutaciones requieren autenticaci√≥n. Siempre incluya las credenciales apropiadas en sus solicitudes.

:::

Puede autenticarse usando:

1. **Claves API** - Para acceso program√°tico
2. **Cookies** - Autom√°ticamente al iniciar sesi√≥n en la WebGUI
3. **SSO/OIDC** - Cuando se configura con proveedores externos

### Gesti√≥n de Claves API

<Tabs>
  <TabItem value="gui" label="Interfaz Gr√°fica de Usuario Web (Recomendado)" default>
    <ManageApiKeysGui />
  </TabItem>

  <TabItem value="cli" label="M√©todo CLI">
    <ManageApiKeysCli />
  </TabItem>
</Tabs>

### Usando Claves API

La clave API generada debe incluirse en sus solicitudes GraphQL como un encabezado:

```json
{
    "x-api-key": "YOUR_API_KEY"
}
```

## üìä Esquemas Disponibles

La API proporciona acceso a varios aspectos de su servidor Unraid:

### Informaci√≥n del Sistema

- Consultar detalles del sistema incluyendo CPU, memoria e informaci√≥n del SO
- Monitorear el estado y salud del sistema
- Acceder a informaci√≥n de placa base y hardware

### Gesti√≥n de Arreglos

- Consultar estado y configuraci√≥n del arreglo
- Gestionar operaciones del arreglo (iniciar/detener)
- Monitorear estado y salud del disco
- Realizar comprobaciones de paridad

### Gesti√≥n Docker

- Listar y gestionar contenedores Docker
- Monitorear el estado del contenedor
- Gestionar redes Docker

### Acceso Remoto

- Configurar y gestionar configuraciones de acceso remoto
- Manejar configuraci√≥n SSO
- Gestionar or√≠genes permitidos

### üíª Consultas de Ejemplo

#### Verificar Estado del Sistema

```graphql
query {
    info {
        os {
            platform
            distro
            release
            uptime
        }
        cpu {
            manufacturer
            brand
            cores
            threads
        }
    }
}
```

#### Monitorear Estado del Arreglo

```graphql
query {
    array {
        state
        capacity {
            disks {
                free
                used
                total
            }
        }
        disks {
            name
            size
            status
            temp
        }
    }
}
```

#### Listar Contenedores Docker

```graphql
query {
    dockerContainers {
        id
        names
        state
        status
        autoStart
    }
}
```

## üèóÔ∏è Tipos de Esquema

La API incluye varios tipos fundamentales:

### Tipos Base

- `Node`: Interfaz para objetos con IDs √∫nicos - por favor, vea [Identificaci√≥n de Objeto](https://graphql.org/learn/global-object-identification/)
- `JSON`: Para datos JSON complejos
- `DateTime`: Para valores de marca de tiempo
- `Long`: Para enteros de 64 bits

### Tipos de Recursos

- `Array`: Gesti√≥n de arreglos y discos
- `Docker`: Gesti√≥n de contenedores y redes
- `Info`: Informaci√≥n del sistema
- `Config`: Configuraci√≥n de servidor
- `Connect`: Configuraci√≥n de acceso remoto

### Acceso Basado en Roles

Roles disponibles:

- `admin`: Acceso completo
- `connect`: Caracter√≠sticas de acceso remoto
- `guest`: Acceso de solo lectura limitado

## ‚ú® Mejores Pr√°cticas

:::tip[Pro Consejos]

1. Use the Apollo Sandbox to explore the schema and test queries
2. Empieza con consultas peque√±as y gradualmente agrega campos seg√∫n sea necesario
3. Monitoree la complejidad de su consulta para mantener el rendimiento
4. Use roles y permisos apropiados para sus claves API
5. Mantenga sus claves API seguras y r√≥telas peri√≥dicamente

:::

## ‚è±Ô∏è Limitaci√≥n de Tasa

:::caution[Rate L√≠mites]

La API implementa la limitaci√≥n de tasas para prevenir abusos. Aseg√∫rese de que sus aplicaciones manejen adecuadamente las respuestas de limitaci√≥n de tasas.

:::

## üö® Manejo de Errores

La API devuelve errores est√°ndar de GraphQL en el siguiente formato:

```json
{
  "errors": [
    {
      "message": "Error description",
      "locations": [...],
      "path": [...]
    }
  ]
}
```

## üìö Recursos Adicionales

:::info[Learn M√°s]

- Use the Apollo Sandbox's schema explorer to browse all available types and fields
- Check the documentation tab in Apollo Sandbox for detailed field descriptions
- Monitor the API's health using `unraid-api status`
- Generate reports using `unraid-api report` for troubleshooting

For more information about specific commands and configuration options, refer to the [CLI documentation](cli.mdx) or run `unraid-api --help`.

:::
