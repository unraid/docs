# Versión 6.12.0 2023-06-14

## Notas de actualización

Al iniciar el sistema, si todos los dispositivos PCI especificados en `config/vfio-pci.cfg` no se vinculan correctamente, se impedirá el autoinicio de la VM. Todavía puede iniciar VMs individuales. Esto es para evitar un bloqueo del host Unraid si los IDs de hardware PCI cambiaron debido a una actualización del kernel o cambio físico del hardware. Para restaurar el autoinicio de la VM, examine `/var/log/vfio-pci-errors` y elimine los IDs PCI problemáticos del archivo `config/vfio-pci.cfg` y reinicie.

Si retrocede de 6.12 a 6.11.5 o anterior, debe forzar la actualización de todos sus contenedores Docker y arrancarlos manualmente después de degradar la versión. Esto es necesario debido al cambio subyacente a cgroup v2 a partir de 6.12.0-rc1.

Linux [Multi-Gen LRU](https://lwn.net/Articles/856931/) es una característica relativamente nueva ahora incluida, pero no habilitada por defecto. Puede habilitar agregando esta línea a su archivo 'config/go':

`echo y > /sys/kernel/mm/lru_gen/enabled`

Si regresa de la versión 6.12 a la 6.11.5 o anterior, es posible que deba eliminar esa línea.

Si creó algún zpool utilizando la versión 6.12.0-beta5, por favor elimine esos pools y regréselos a su estado original.

### Complementos obsoletos/rotos

Hay algunos complementos que se sabe que son incompatibles con Unraid 6.12, y al arrancar no se instalarán. Recibirá una notificación por cada complemento afectado y podrá revisar la lista yendo a **Plugins/Errores de Instalación de Archivos de Plugins**.

- versión disklocation-master 2022.06.18 (`Ubicación de Disco` por olehj, rompe el tablero)
  - Actualice este complemento antes de actualizar el SO
- versión plexstreams 2022.08.31 (`Plex Streams` por dorgan, rompe el tablero)
  - Actualice este complemento antes de actualizar el SO
- versión corsairpsu 2021.10.05 (`Estadísticas de Corsair PSU` por Fma965, rompe el tablero)
  - Actualice este complemento antes de actualizar el SO
- versión gpustat 2022.11.30a (`Estadísticas de GPU` por b3rs3rk, rompe el tablero)
  - Cambiar a `Estadísticas de GPU` por SimonF
- versión ipmi 2021.01.08 (`Herramientas IPMI` por dmacias72, rompe el tablero)
  - Cambiar a `IPMI Tools` por SimonF
- versión nut 2022.03.20 (`NUT - Herramientas de UPS en Red` por dmacias72, rompe el tablero)
  - Cambiar a `NUT - Herramientas de UPS en Red` por SimonF
- versión NerdPack 2021.08.11 (`Herramientas Nerd` por dmacias72)
  - Cambiar a `Herramientas Nerd` por UnRAIDES
- versión upnp-monitor 2020.01.04c (`Monitor UPnP` por ljm42, no compatible con PHP 8)
- versión ZFS-companion 2021.08.24 (`ZFS-Companion` por campusantu, rompe el tablero)

Algunos de los complementos afectados han sido asumidos por diferentes desarrolladores, recomendamos que vaya a la página de **Aplicaciones** y busque reemplazos. Por favor, haga preguntas específicas de complementos en el hilo de soporte para ese complemento.

### Problemas conocidos

#### Bloqueos relacionados con el controlador i915

Nota: esto ya no es un problema desde Unraid [6.12.6](6.12.6.md#bug-fixes-and-improvements).

Somos conscientes de que algunos sistemas Intel Rocket Lake de 11ª generación están experimentando bloqueos relacionados con el i915 iGPU. Si su sistema Rocket Lake falla bajo Unraid 6.12.0-6.12.5, abra un terminal web y escriba esto, luego reinicie:

`echo "options i915 enable_dc=0" >> /boot/config/modprobe.d/i915.conf`

Configurar esta opción puede resultar en un uso de energía más alto, pero puede resolver este problema para estas GPUs.

#### Trazas de llamadas relacionadas con macvlan

Si está recibiendo rastros de llamadas relacionados con macvlan, como primer paso le recomendamos navegar a _**Configuración > Docker**_, cambiar a vista avanzada y cambiar el **tipo de red personalizada de Docker** de **macvlan** a **ipvlan**. Esta es la configuración predeterminada con la que Unraid ha funcionado desde la versión 6.11.5 y debería funcionar para la mayoría de los sistemas.

Sin embargo, algunos usuarios han reportado problemas con el reenvío de puertos desde ciertos enrutadores (Fritzbox) y funcionalidad reducida con herramientas avanzadas de gestión de red (Ubiquity) cuando están en modo ipvlan.

En la versión 6.12.0, el [método de segmentación de docker de dos NIC](https://forums.unraid.net/topic/137048-guide-how-to-solve-macvlan-and-ipvlan-issues-with-containers-on-a-custom-network/) es un menú viable, pero nuestra recomendación es actualizar a Unraid [6.12.4](6.12.4.md) que tiene una mejor solución.

#### Plex

Si los contenedores Docker tienen problemas al iniciar después de un tiempo, y está ejecutando Plex, vaya a la configuración de su contenedor Docker de Plex,
cambie a la vista avanzada y agregue esto a los Parámetros adicionales: `--no-healthcheck`

### Deshacer cambios

Vea los comentarios bajo [Notas de actualización](#upgrade-notes)

## Pools ZFS

Nuevo en esta versión es la capacidad de crear un sistema de archivos ZFS en un pool definido por el usuario. También puede formatear cualquier dispositivo de datos en el array de unRAID con un sistema de archivos ZFS de un solo dispositivo. Para obtener una buena visión general de ZFS, consulte [este artículo](https://arstechnica.com/information-technology/2020/05/zfs-101-understanding-zfs-storage-and-performance/).

Estamos dividiendo la implementación completa de ZFS en dos entregas de Unraid OS. Soporte inicial en esta versión incluye:

- Soporte para raid0, espejo, raidz1, raidz2 y perfiles raíz raidz3. Hasta un espejo de 4 vías en un vdev de espejo. Múltiples grupos vdev.
- Soporte para la eliminación de dispositivos individuales: si el dispositivo sigue presente en el servidor, se utiliza 'wipefs' para borrar la tabla de particiones.
- Soporte para reemplazar un dispositivo único perdido por un nuevo dispositivo del mismo o mayor tamaño.
- Soporte para el recorte programado de pools ZFS.
- Soporte para cambiar el nombre del pool.
- Los nombres de los 'pools' deben comenzar con una letra minúscula y solo contener letras minúsculas, dígitos, guión bajo
  y guión. Los nombres de los 'pools' no deben terminar con un dígito.
- Un 'vdev' no raíz no se puede configurar en esta versión, sin embargo, pueden ser importados. Nota: los 'pools' híbridos importados pueden no ser
  extendidos en esta versión.
- Los 'pools' creados en otros sistemas pueden o no importarse dependiendo de cómo se haya creado el 'pool'. Una futura actualización
  permitirá importar 'pools' desde cualquier sistema.

Un pool ZFS tiene tres variables:

- Perfil: la organización de datos de raíz: raid0, espejo (hasta 4 vías), raidz1, raidz2, raidz3
- Ancho: el número de dispositivos por vdev de raíz
- Grupos: el número de vdev de raíz en el pool

En el momento de la creación del pool ZFS, la WebGUI presentará todas las opciones de topología basadas en el número de dispositivos asignados al pool.

Tratamiento especial para espejos de una sola vdev de raíz:

- Un pool ZFS de un solo dispositivo se puede convertir a un espejo de múltiples dispositivos agregando hasta 3 dispositivos adicionales en una sola operación.
- Un espejo de 2 dispositivos puede incrementarse a 3 dispositivos añadiendo un dispositivo adicional; de manera similar, un espejo de 3 dispositivos puede ser
  incrementado a un espejo de 4 dispositivos añadiendo un dispositivo adicional.

Para agregar un vdev raíz adicional, debe asignar el 'ancho' número de nuevos dispositivos al pool al mismo tiempo. El nuevo vdev se creará con el mismo 'perfil' que los vdev existentes. Se proporcionará flexibilidad adicional en la adición/ampliación de vdevs en una actualización futura.

Los pools creados con el complemento **steini84** se pueden importar de la siguiente manera: Primero, cree un nuevo pool con el número de ranuras correspondiente al número de dispositivos en el pool que desea importar. A continuación, asigne todos los dispositivos al nuevo pool. Al iniciar el array, el pool debe ser reconocido, aunque ciertas topologías de zpool pueden no ser reconocidas (por favor informe). Tenga en cuenta que solo los pools que usan la partición #1 pueden importarse en esta versión, por ejemplo, esta salida de `lsblk`:

```bash
# lsblk
NAME        MAJ:MIN RM   SIZE RO TYPE MOUNTPOINTS
sdb           8:16   0   7.3T  0 disk
├─sdb1        8:17   0     2G  0 part
└─sdb2        8:18   0   7.3T  0 part
```

indica que la segunda partición (`sdb2`) del disco está siendo utilizada para datos, y **no puede** ser importada.

Las topologías mixtas no son compatibles. Por ejemplo, un pool con un vdev root espejo y un vdev root raidz no es reconocido.

Autotrim se puede configurar como **on** o **off** (excepto para volúmenes ZFS de un solo dispositivo en la matriz unRAID).

La compresión se puede configurar como **activado** o **desactivado**, donde **activado** selecciona **lz4**. Una actualización futura permitirá especificar otros algoritmos/niveles.

Al crear un nuevo pool ZFS, puede elegir **zfs - cifrado**, el cual, al igual que otros volúmenes cifrados, aplica cifrado a nivel de dispositivo a través de LUKS. El cifrado nativo de ZFS no es compatible en este momento.

Durante el arranque del sistema, el archivo /etc/modprobe.d/zfs.conf se genera automáticamente para limitar el ZFS ARC a 1/8 de la memoria instalada. Esto se puede anular si es necesario creando un archivo personalizado 'config/modprobe.d/zfs.conf'. Una futura actualización incluirá la capacidad de configurar el ARC a través de WebGUI, incluyendo el ajuste automático según la presión de memoria, por ejemplo, arranque/detención de VMs.

Los shares de nivel superior en un pool ZFS se crean como datasets en lugar de directorios ordinarios.

## Cambio conceptual en el almacenamiento compartido

Nuevo en esta versión es un cambio conceptual en la manera en que se asigna el almacenamiento a los compartidos. El concepto antiguo de almacenamiento principal siendo el array de unRAID con un "Cache" opcional es confuso para muchos usuarios nuevos, especialmente desde que _cache_ tiene un significado específico en ZFS.

Como se describe a continuación, hemos introducido el concepto de un _compartido exclusivo_. Esto es simplemente un compartido donde todos los datos existen en un único pool nombrado. En este caso, el sistema de archivos del compartido de usuario basado en FUSE devuelve un **symlink** al directorio del compartido real en el pool. Todas las operaciones dentro del compartido, incluyendo la transferencia de datos, por lo tanto, omiten FUSE, lo que resulta en un mayor rendimiento. Esta característica está principalmente dirigida a maximizar el I/O para pools ZFS grandes y ráfagos accedidos a través de una red rápida.

Este es un cambio solo de front-end; los shares existentes se verán con esta nueva estructura automáticamente al actualizar,
y automáticamente volverán al estilo anterior si retrocede a una versión anterior.

La configuración de las opciones de almacenamiento para un share se especifica usando dos entradas:

- Almacenamiento primario
- Almacenamiento secundario

El almacenamiento primario es donde se crean **nuevos** archivos/carpetas. Si el almacenamiento primario está por debajo del ajuste de Espacio Libre Mínimo, entonces se crearán nuevos archivos y carpetas en el almacenamiento secundario, si está configurado.

Cada entrada presenta un menú desplegable que lista "matriz", "ninguno" y cada pool nombrado como una selección según algunas reglas de configuración:

Para el menú desplegable de almacenamiento primario:

- se omite la opción "ninguno", es decir, se debe seleccionar almacenamiento primario
- se puede seleccionar cualquier pool nombrado
- Se puede seleccionar "Matriz" (lo que significa la matriz unRAID)

Para el menú desplegable de almacenamiento secundario:

- se incluye la opción "ninguno", es decir, el almacenamiento secundario es opcional
- si el almacenamiento primario es un nombre de pool, entonces las únicas opciones son "ninguna" y "Array". En el futuro, otros pools también se listarán aquí.
- si el almacenamiento primario es "Matriz", entonces solo aparece "ninguno" como opción

Cuando se selecciona "Matriz" para almacenamiento primario o secundario, se despliega un conjunto de configuraciones adicionales:

- Método de asignación
- Disco(s) incluido(s)
- Disco(s) excluido(s)
- Nivel de división

Cuando se selecciona un pool nombrado _btrfs_ para almacenamiento primario o secundario, se despliega una configuración adicional:

- Habilitar escritura sobre la marcha

Cuando un pool llamado _ZFS_ se selecciona para el almacenamiento primario o secundario, no hay configuraciones adicionales en este momento pero podría haber algunas en el futuro. Por ejemplo, dado que un compartido se crea como un conjunto de datos ZFS, podría tener una configuración de compresión diferente a la del pool padre si necesitamos implementar esto.

### Acción del Movedor

Cuando hay almacenamiento secundario configurado para un share, se habilita la configuración de "Acción del Mover" permitiendo al usuario
seleccionar la dirección de transferencia del mover:

- Primario a Secundario (predeterminado)
- Secundario a Primario

### Shares Exclusivos

Añadimos un nuevo ajuste: "Configuraciones/Configuraciones Globales de Compartición/Permitir Comparticiones Exclusivas" \[Sí/No] por defecto: No.  Si se establece en Sí
y si el almacenamiento principal para una compartición es un 'pool' y el almacenamiento secundario se establece en "ninguno", entonces se crea un enlace simbólico
en /mnt/user/_compartición_ apuntando directamente al directorio de compartición del 'pool'.  (Se realiza una verificación adicional para asegurar que la compartición no exista
en otros volúmenes).

Hay una nueva bandera de estado, 'Acceso exclusivo' que se establece en 'Sí' cuando hay un symlink en lugar; y, 'No' en caso contrario. Los compartidos exclusivos también se indican en la página de Compartidos.

La ventaja de configurar symlinks es que el I/O pasa por alto el sistema de archivos de share de usuario basado en FUSE (shfs) lo cual puede incrementar significativamente
el rendimiento.

Hay algunas restricciones:

- Se ignoran las configuraciones de Espacio Libre Mínimo tanto del share como del pool al crear nuevos archivos en un share exclusivo.
- Si se exporta una compartición por NFS, no puede ser exclusiva, es decir, no se crea el enlace simbólico. Esto se debe a que los enlaces simbólicos
  se resuelven en el cliente NFS, no en el servidor. Esperamos eliminar esta restricción en una futura actualización.

### Botón Limpiar

Apareciendo en la página de Compartidos, un botón llamado LIMPIAR, cuando está habilitado indica que hay archivos config/share/_compartido_.cfg para compartidos que no existen. Al hacer clic en este botón, esos archivos se eliminarán.

## Otras mejoras

### btrfs

Autotrim se puede configurar como **on** o **off**
cuando se utiliza en un pool.

La compresión se puede configurar como **activada** o **desactivada**. **activada** selecciona **zstd**. Actualización futura para permitir especificar otros algoritmos/niveles.

### xfs

Autotrim se puede configurar como **on** o **off** cuando se utiliza como un pool de un solo slot.

### Docker

Es posible configurar el **Docker data-root** para que se ubique en un directorio en un pool de almacenamiento ZFS. En este caso, Docker utilizará el controlador de almacenamiento 'zfs'. Este controlador crea un conjunto de datos separado para cada capa de imagen. Debido a esto, aquí está nuestra recomendación para configurar Docker usando **directorio**:

Primero, cree un share de usuario **docker** configurado de la siguiente manera:

- Nombre del share: **docker**
- Almacenamiento primario: _**nombre de su grupo ZFS**_
- Almacenamiento secundario: **ninguno**

A continuación, en la página de **configuración de Docker**:

- Habilitar Docker: **Sí**
- Raíz de datos de Docker: **directorio**
- Directorio de Docker: **/mnt/user/docker**

Si alguna vez necesita eliminar el estado persistente de Docker, entonces abra la página de configuraciones de Docker y ajuste **Habilitar docker** a **No** y haga clic en **Aplicar**. Después de que docker se haya apagado haga clic en la casilla de **Eliminar directorio** y luego en **Eliminar**. Esto resultará en la eliminación no solo de los varios archivos y directorios, sino también de todas las capas almacenadas como conjuntos de datos.

Antes de habilitar Docker nuevamente, asegúrese de recrear primero el **compartir docker** como se describió anteriormente.

#### Otros cambios de Docker

- CreateDocker: cambió la etiqueta **Docker Hub URL** a **Registry URL** debido a GHCR y otros nuevos
  registros de contenedores que se están volviendo cada vez más populares.
- Respeta la configuración de usuario del tiempo de espera de parada.
- Aceptar imágenes en formato OCI.
- Agregar opción para deshabilitar readmore-js en la tabla de contenedores.
- Corrección: la consola de contenedores de Docker no usará bash si está seleccionado.
- Solucionar el problema de la detección de apagado correcto de Docker.
- rc.docker: dar 30 seg a dockerd en lugar de 15 para iniciar.

### Gestor de VM

Si habilita el copiar/pegar para consolas virtuales, necesita instalar software adicional en el cliente además del agente QEMU si se ha instalado. [Aquí está la ubicación](https://www.spice-space.org/download.html) para spice-vdagent tanto para Windows como para Linux. Tenga en cuenta que la función de copiar/pegar no funcionará con el visor web spice, necesita usar el visor virt.

#### Otros cambios en VM

- Agregar opción Serial a vdisk.
- Corrección de error de Spice para usuarios con puertos GUI no estándar definidos.
- OVMF para QEMU: versión stable202302
- Corrección para el texto del bus.
- Habilitar la opción de copiar y pegar para consolas virtuales.
- Actualización del procesamiento de copia de seguridad de memoria para Virtiofs.
- Corregir bloqueo cuando no hay VMs presentes.
- Agregar soporte para el modelo de red rtl8139.
- corregir omisión de traducción.
- agregó bloqueo/desbloqueo para elementos ordenables.
- Corrección para Spice Mouse si se habilita copiar y pegar.
- Permitir que la página se cargue incluso cuando los dispositivos PCI parecen faltar o están mal asignados.
- Hacer opciones del visor remoto y consola web seleccionables.
- Opción para descargar el archivo .vv e iniciar el visor remoto si el navegador está configurado para abrir el archivo .vv cuando se descarga.
- Agregar soporte para consola de visor remoto.
- Quitar-bloqueo-posix='on'-flock='on'/-
- Corregir VM marcada como Autoinicio que no arranca tras el inicio manual de una matriz.
- Corrección para memoria máxima > 1TB.
- Corregir problemas con cargas de página de VM si los usuarios han eliminado el pinning de vcpu.
- ovmf-stable: versión 202305 (build 3).
- corregido el asunto de la notificación.

### Panel de Control

El Tablero WebGUI ha sido rediseñado y ahora es posible mover elementos (azulejos) hacia arriba y abajo y entre columnas. Esto permite al usuario organizar los azulejos de cualquier manera que desee. Hay un pequeño icono de **candado** en la barra de menú que debe hacer clic para habilitar esta función:

- Verde es el estado normal (la página está bloqueada)
- Rojo es el estado de atención (la página está desbloqueada)

Nota: El icono de **bloqueo** también aparece en las páginas de Docker y VM y se debe hacer clic para reorganizar el orden de inicio.

### Mejoras en la red

Añadimos una nueva sección: Configuración/Configuraciones de red/Interfaz Extra

Esta nueva sección permite al usuario definir qué interfaces son usadas por los servicios de Unraid. Por defecto, todas las interfaces regulares con una dirección IP están incluidas en la lista de interfaces de escucha.

Los túneles de la función WireGuard incorporada en Unraid se agregan o eliminan automáticamente de la lista cuando los túneles Wireguard se activan o desactivan. El usuario puede excluir estos túneles de la lista de interfaces de escucha.

Para usar la interfaz Tailscale o Zerotier, se requiere agregar el nombre de la interfaz o la dirección IP de la comunicación a la lista de interfaces de escucha incluidas. **Importante:** Es imperativo que el contenedor de Tailscale o Zerotier esté en funcionamiento antes de que la interfaz sea agregada a la lista. Para obtener más información, consulte [esta publicación del foro de la comunidad](https://forums.unraid.net/bug-reports/prereleases/unraid-os-version-6120-rc7-available-r2427/?tab=comments#comment-24235).

#### Otros cambios en la red

- Soporte para interfaces personalizadas (ej. túnel VPN Tailscale o túnel L2 zerotier)
- create\_network\_ini - reiniciar smb cuando se realizan cambios en la red
- rc.inet1 - agregar procesamiento de iptables a las interfaces puente para hacerlas funcionar de manera similar a las interfaces macvlan
- rc.avahidaemon - permitir que el servicio escuche solo en interfaces regulares que tengan una dirección IP, esto incluye la interfaz principal + establecer soporte ipv4 / ipv6
- rc.docker - suprimir la dirección de enlace-local de ipv6 para docker0 e interfaces shim cuando se configuré únicamente como ipv4
- rc.samba - permitir que el servicio smb, nmb escuche solo en interfaces regulares que tengan una dirección IP, esto incluye la interfaz principal + establecer soporte ipv4 / ipv6 (también para wsdd2)
- rc.ssh - escuchar solo en interfaces regulares que tengan una dirección IP, esto incluye la interfaz principal + establecer soporte ipv4 / ipv6
- Solucionar problema donde /etc/resolve.conf puede ser eliminado al cambiar el servidor DNS entre automático/estático.
- Corregir error en el manejo del campo de descripción.
- corregir nginx reconociendo la dirección IP de servidores dhcp lentos

### Otras mejoras/Correcciones de errores

- Se aumentó el número máximo de dispositivos por pool de 30 a 60. En una versión futura eliminaremos el máximo superior por completo.
- webTerminal: Para mejorar la legibilidad, se cambió el color de fondo en los listados de directorios donde 'w+o' está configurado. También se cambió
  el motor de renderizado de webgl a canvas para mitigar el problema con las últimas versiones de Chrome.
- Archivo de deriva de ntp fix save/restore desde el directorio persistente 'config' de USB flash.
- Se eliminó el archivo extraviado /root/.config/remmina
- Edición de compartición: advertir cuando se usa un nombre ZFS no válido
- Edición de compartición: permitir nombres de una letra
- Agregar [Agente Pushbits](https://github.com/pushbits/server) para integración de Matrix/Synapse.
- cgroup2 ahora es predeterminado
- las imágenes de loopback ya no montadas usando directio
- nuevo script newperms restringido a operar solo en /mnt/.
- upgradepkg parcheado para prevenir la sustitución de un paquete existente por una versión más antigua.
- la información actual de bus/dispositivo PCI guardada en el archivo '/boot/previous/hardware' al actualizar el OS de Unraid.
- NFS: habilitar transporte UPD
- emhttp: corregir las cadenas del registro del sistema del grupo de caché (nulo)
- emhttp: corregir la muestra del grupo de caché de tamaño de dispositivo incorrecto para un dispositivo de reemplazo seleccionado
- mover: corregir manejo incorrecto de enlaces simbólicos
- mover: corregir el formato de las entradas del registro del sistema del movimiento diferente de las versiones anteriores
- plugin: Mostrar el comando Run retval en el mensaje de error
- shfs: ignorar directorios ocultos de nivel superior (nombres que comienzan con '.')
- terminal: OpenTerminal: cambiar la señal de terminación (detención forzosa)
- actualizar el OS de Unraid: verificar actualizaciones anteriores sin reiniciar
- WebGUI: soporte para PHP8, aumentar la memoria máxima de PHP de 128M a 256M
- WebGUI: ManagementAccess: Desactivar los botones de Provisión/Renovación/Actualización cuando no hay IP en eth0
- WebGUI: ManagementAccess: Soporte para direcciones IP locales de wireguard en combinación con el certificado SSL myservers.unraid.net
- WebGUI: Mover el icono "ver" en la página principal y de comparticiones a la izquierda
- WebGUI: Mantener ocultas las banderas desestimadas durante un mes
- WebGUI: Dashboard: corregir error de regresión en "selecciona caso"
- WebGUI: Dashboard: hacer que los elementos se puedan mover entre columnas
- WebGUI: Dashboard: API para agregar azulejos personalizados
- WebGUI: Dashboard: reorganizar la información del procesador
- WebGUI: Dashboard: reorganizar la información de UPS
- WebGUI: Dashboard: reorganizar la información de memoria
- WebGUI: Dashboard: reajuste del encabezado de VPN
- WebGUI: Dashboard: reordenaciones de encabezado
- WebGUI: Añadir jqueryUI touch punch para dispositivos móviles
- WebGUI: Cambiar ID a CLASS para elementos que ocurren más de una vez
- WebGUI: Hacer el encabezado en temas blanco y negro desplazables
  - Cuando hay más elementos presentes que espacio en pantalla, el usuario ahora puede desplazarse por ellos (anteriormente estos elementos eran invisibles)
- WebGUI: Panel de control y Docker: introducir el botón de bloqueo para elementos ordenables
  - Por defecto, los elementos ordenables están bloqueados, lo que permite a los dispositivos móviles desplazarse por la página. A pedido, los elementos pueden hacerse ordenables.
- WebGUI: Usuarios: añadir icono a la barra de título
- WebGUI: Herramientas: nueva función -> Configuraciones de PHP
  - Ver información de PHP
  - Configurar la notificación de errores
  - Abrir LOG para ver errores en tiempo real
- WebGUI: Información del sistema: corregir lectura de puertos inactivos
- WebGUI: Plugin: Incluir el comando real que se ejecuta
- WebGUI: Información del sistema: mejora de caché
- WebGUI: Información del sistema: mejora de memoria
- WebGUI: Información del dispositivo: deshabilitar botones cuando se está ejecutando una operación de borrado
- WebGUI: Docker: correcciones del árbol de archivos
- WebGUI: Dashboard: corregido mostrar alarma de calor por grupo
- WebGUI: Notificaciones: operación revisada
  - Cerrar automáticamente nuevas notificaciones después de 3 segundos
  - Corregir notificaciones que reaparecen después del cierre
- WebGUI: Lista de Dispositivos: añadir tipo de sistema de archivos en estado offline
- WebGUI: Añadir agente de notificación para Bark
- WebGUI: Principal: ocultar icono de navegación cuando el disco no está montado
- WebGUI: Diagnósticos: añadir información btrfs y zfs adicional
- WebGUI: Dashboard: añadir uso de memoria ZFS
- WebGUI: Nuevos Permisos revisados
  - Seleccionar ya sea discos o comparticiones (no ambos)
- WebGUI: Añadir testparm a diagnósticos
- WebGUI: Soporte para nuevo punto de montaje reservado UD de /mnt/addons
- WebGUI: corregir problema al mostrar Atributos cuando la pantalla de temperatura está configurada en Fahrenheit
- WebGUI: Cambios en el Panel de control:
  - bloquear completamente el Panel de control: La edición/movilización solo se vuelve posible al desbloquear la página
  - Una columna vacía se rellena cuando los azulejos respectivos se hacen visibles de nuevo, no es necesario restablecer todo
  - se agregó un "indicador de movimiento" visual en la página de Docker y VM, para hacer más claro que las filas pueden moverse ahora.
  - cambiar la forma del cursor cuando el movimiento está habilitado
  - usar el título del azulejo como índice
- WebGUI: corregir: mensajes emergentes de cuenta local de Firefox no funcionan
- WebGUI: La prueba SMART no se puede ejecutar en un disco UD porque no hay selección de retraso de apagado
- WebGUI: el pie de página de estado atascado en "Iniciando servicios" al aplicar cambios de configuración del compartimiento.
- WebGUI: Corregir diseño de tabla para imágenes huérfanas
- WebGUI: Plugin: No mostrar botón de actualización si no es compatible
- WebGUI: Plugin: Mejorar la detección de porcentaje de wget
- WebGUI: OpenTerminal: limitar clientes
- WebGUI: Menú contextual: colocación automática de triángulos
- WebGUI: Panel de control: corregir advertencias de grupo
- WebGUI: Permitir prueba SMART larga para UD
- WebGUI: Leer tipo de procesador desde /proc/cpuinfo
- WebGUI: CSS: resolver problema de barra de desplazamiento en Firefox
- WebGUI: Agregar compartición: corregir comprobación de nombre de compartición oculta
- WebGUI: Configuraciones de visualización: agregar valores predeterminados faltantes
- WebGUI: Operación de Array: prevenir doble clic en el botón de inicio
- WebGUI: DeviceInfo: mostrar shareFloor con unidades
- WebGUI: DeviceInfo: se añadió cálculo automático del piso
- WebGUI: Mensaje de ajustes automáticos añadido
- WebGUI: Shares: se añadió icono de información
- WebGUI: Página de DeviceInfo y Shares actualizada
- WebGUI: Corregir aberración de visualización de red.
- WebGUI: Autocompletar espacio libre mínimo para nuevos compartidos
- WebGUI: feat(upc): actualizar a v3 para conectar
- WebGUI: Cálculo de tamaño de Share/Pool: mostrar y permitir valores en porcentaje
- wireguard: añadir soporte SSL para direcciones IP de túnel WG (sólo cerficados wildcard de myunraid.net)
- wireguard: corregir problema de nginx cuando configuración de WireGuard es parcial

### Liberar diferencias de archivos _bz_

Unraid OS está compuesto por un conjunto de 5 archivos denominados _bz_ en la raíz del dispositivo de arranque USB Flash:

- bzimage - el núcleo de Linux
- bzroot - el sistema de archivos raíz, sin la consola de escritorio
- bzroot-gui - archivos adicionales necesarios para la consola de escritorio
- bzmodules - módulos (controladores) asociados con el núcleo de Linux
- bzfirmware - firmware de dispositivo requerido por ciertos módulos

A partir de la versión 6.12, el contenido de estos archivos ha sido reorganizado:

- bzimage - el núcleo de Linux (igual que antes)
- bzroot - el sistema de archivos raíz excluyendo el árbol de directorios /usr
- bzroot-gui - un único archivo que auto-inicia la consola de escritorio (para compatibilidad)
- bzmodules - módulos (controladores) asociados con el núcleo de Linux y firmware de dispositivo requerido por ciertos módulos
- bzfirmware - el directorio /usr y todos los archivos contenidos en él, incluyendo la consola de escritorio

Estos cambios aceleran el proceso de arranque y liberan casi 1G de RAM. También nos permite agregar más "cosas" al Unraid OS en el futuro sin requerir más RAM. Finalmente, cuando se inicia en modo **no-GUI**, el escritorio se puede iniciar iniciando sesión en la consola y escribiendo el comando 'slim'.

#### Actualización manual

La actualización manual se refiere a actualizar el Unraid OS en su dispositivo de arranque USB flash sin usar la función **Herramientas/Actualizar OS**. Normalmente uno haría una de las siguientes opciones:

- abrir una ventana de Terminal, obtener el archivo zip de la versión, descomprimir la versión, y luego 'cp' los archivos _bz_ a la raíz del dispositivo de arranque.

o

- exportar el compartido 'flash' en su red y arrastrar los archivos _bz_ desde un PC directamente al flash.

Cualquiera de los métodos, comenzando con la versión 6.12 **puede fallar** porque el archivo _bzfirmware_ será sobrescrito mientras esté montado - no es bueno.

Para evitar esto, primero debe crear un directorio temporal en el dispositivo flash y luego 'mv' (o arrastrar) todos los archivos _bz_ existentes en este directorio temporal. Ahora puede copiar los nuevos archivos _bz_ a la raíz del dispositivo flash y reiniciar.

## Núcleo de Linux

- versión 6.1.33
- md/unraid: versión 2.9.27
- CONFIG\_FS\_DAX: Soporte de Acceso Directo basado en el Sistema de Archivos (DAX)
- CONFIG\_VIRTIO\_FS: Sistema de archivos Virtio
- CONFIG\_ZONE\_DEVICE: Soporte para memoria de dispositivo (pmem, HMM, etc...) emergente
- CONFIG\_USBIP\_HOST: Controlador anfitrión
- CONFIG\_INTEL\_MEI: Interfaz de Motor de Gestión Intel
- CONFIG\_INTEL\_MEI\_ME: Chipsets Intel habilitados para ME
- CONFIG\_INTEL\_MEI\_GSC: Dispositivo integrado GSC de MEI Intel
- CONFIG\_INTEL\_MEI\_PXP: Servicios PXP del interfaz ME de Intel
- CONFIG\_INTEL\_MEI\_HDCP: Servicios HDCP2.2 del interfaz ME de Intel
- CONFIG\_INTEL\_PMC\_CORE: Controlador de núcleo PMC de Intel
- CONFIG\_DRM\_I915\_PXP: Habilitar soporte PXP de Intel
- CONFIG\_SCSI\_FC\_ATTRS: Atributos de Transporte de Canal de Fibra
- CONFIG\_FUSION\_SPI: Controladores de ScsiHost MPT de Fusión para SPI
- CONFIG\_FUSION\_FC: Controladores de ScsiHost MPT de Fusión para FC
- CONFIG\_FUSION\_CTL: Controlador de dispositivo misc MPT de Fusión (ioctl)
- CONFIG\_FUSION\_LOGGING: Instalación de registro MPT de Fusión
- CONFIG\_X86\_AMD\_PSTATE: Controlador P-State de procesador AMD
- CONFIG\_LRU\_GEN: LRU de Generación Múltiple
- CONFIG\_SERIAL\_8250\_NR\_UARTS=32: Número máximo de puertos seriales 8250/16550
- CONFIG\_SERIAL\_8250\_RUNTIME\_UARTS=4: Número de puertos seriales 8250/16550 a registrar en tiempo de ejecución
- CONFIG\_FANOTIFY: Notificación de acceso de archivos a nivel de sistema de archivos

## Actualizaciones de Base Distro

- aaa\_glibc-solibs: versión 2.37
- adwaita-icon-theme: versión 43
- at-spi2-core: versión 2.46.0
- bash: versión 5.2.015
- bash\_completion: versión 2.11
- bind: versión 9.18.12
- btrfs-progs: versión 6.2.1
- ca-certificates: versión 20221205
- cryptsetup: versión 2.6.1
- curl: versión 7.88.1
- dbus: versión 1.14.6
- diffutils: versión 3.9
- dnsmasq: versión 2.89
- docker: versión 23.0.6
- e2fsprogs: versión 1.47.0
- encodings: versión 1.0.7
- file: versión 5.44
- firefox: versión 111.0 (AppImage)
- freetype: versión 2.13.0
- fuse3: versión 3.12.0
- gawk: versión 5.2.1
- git: versión 2.39.2
- glib2: versión 2.74.6
- glibc: versión 2.37
- glibc-zoneinfo: versión 2022g
- gnutls: versión 3.7.9
- gptfdisk: versión 1.0.9
- gtk+3: versión 3.24.37
- harfbuzz: versión 7.1.0
- htop: versión 3.2.2
- iproute2: versión 6.2.0
- iptables: versión 1.8.9
- iputils: versión 20221126
- kernel-firmware: 20230531\_fc90c59
- less: versión 612
- libICE: versión 1.1.1
- libSM: versión 1.2.4
- libX11: versión 1.8.4
- libXau: versión 1.0.11
- libXcomposite: versión 0.4.6
- libXdamage: versión 1.1.6
- libXdmcp: versión 1.1.4
- libXpm: versión 3.5.15
- libXrandr: versión 1.5.3
- libXres: versión 1.2.2
- libXxf86dga: versión 1.1.6
- libarchive: versión 3.6.2
- libdrm: versión 2.4.115
- libfontenc: versión 1.1.7
- libglvnd: versión 1.6.0
- libjpeg-turbo: versión 2.1.5.1
- libpcap: versión 1.10.3
- libpng: versión 1.6.39
- libpsl: versión 0.21.2
- liburcu: versión 0.14.0
- libwebp: versión 1.3.0
- libxkbcommon: versión 1.5.0
- libxkbfile: versión 1.1.2
- libxshmfence: versión 1.3.2
- lmdb: versión 0.9.30
- logrotate: versión 3.21.0
- lsof: versión 4.98.0
- lz4: versión 1.9.4
- lzlib: versión 1.13
- mc: versión 4.8.29
- mcelog: versión 191
- mpfr: versión 4.2.0
- nano: versión 7.2
- ncurses: versión 6.4
- nginx: versión 1.23.3
- nghttp2: versión 1.52.0
- openssh: versión 9.2p1
- openssl: versión 1.1.1t
- openssl-solibs: versión 1.1.1t
- openzfs: versión 2.1.12
- pango: versión 1.50.14
- pciutils: versión 3.9.0
- pcre2: versión 10.42
- php: versión 8.2.4
- php-libvirt: versión 0.5.7
- php-markdown: versión 2.0.0
- samba: versión 4.17.7
- sqlite: versión 3.41.0
- sudo: versión 1.9.13p2
- sysstat: versión 12.7.2
- tdb: versión 1.4.8
- tevent: versión 0.14.1
- traceroute: versión 2.1.2
- transset: versión 1.0.3
- tree: versión 2.1.0
- usbutils: versión 015
- xcb-util: versión 0.4.1
- xdriinfo: versión 1.0.7
- xf86-video-vesa: versión 2.6.0
- xfsprogs: versión 6.1.1
- xhost: versión 1.0.9
- xinit: versión 1.4.2
- xkbcomp: versión 1.4.6
- xkeyboard-config: versión 2.38
- xorg-server: versión 21.1.7
- xprop: versión 1.2.6
- xrandr: versión 1.5.2
- xset: versión 1.2.5
- xterm: versión 379
- xz: versión 5.4.1
- zstd: versión 1.5.4

## Parches

Con el [plugin de Parches para Unraid](https://forums.unraid.net/topic/185560-unraid-patch-plugin/) instalado, visite _**Herramientas → Parche de Unraid**_ para obtener los siguientes parches / hot fixes:

- Un subconjunto de actualizaciones de seguridad, vea [esta publicación de blog](https://unraid.net/blog/cvd) para más detalles. Recomendamos actualizar a la última versión estable para obtener actualizaciones de seguridad adicionales.
