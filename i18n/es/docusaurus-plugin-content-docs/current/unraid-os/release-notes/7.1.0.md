# Versión 7.1.0 2025-05-05

Esta versión añade redes inalámbricas, la capacidad de importar TrueNAS y otros grupos extranjeros, múltiples mejoras en las máquinas virtuales, los primeros pasos para hacer que el webGUI sea responsivo, y más.

## Actualización

### Problemas conocidos

Esta versión tiene un problema potencial de pérdida de datos donde la reciente función "mover disco vacío" no maneja correctamente los niveles divididos en los recursos compartidos. Resuelto en 7.1.2.

#### Plugins

Por favor, actualiza todos los plugins, particularmente Unraid Connect y el controlador Nvidia.

Para otros problemas conocidos, consulte las [notas de la versión 7.0.0](7.0.0.md#known-issues).

### Deshacer cambios

Estamos realizando mejoras en la forma en que distribuimos parches entre versiones, por lo que el Plugin de Parche independiente se desinstalará a partir de esta versión. Si retrocede a una versión anterior, recomendamos reinstalarlo. Más detalles a continuación.

Si retrocedes a versiones anteriores a la 7.0.0, también consulta las [notas de la versión 7.0.0](7.0.0.md#rolling-back).

## Cambios vs. [7.0.1](7.0.1.md)

### Almacenamiento

- Importar grupos ZFS extranjeros como TrueNAS, Proxmox, Ubuntu, QNAP.
- Importar la partición más grande en el disco en lugar de la primera.
- Eliminar dispositivo de btrfs raid1 o espejo de un solo vdev zfs ahora reducirá el conteo de ranura del grupo.

#### Otros cambios de almacenamiento

- Corrección: Los discos desactivados no se mostraban en el Tablero.
- Corrección: Inicialmente, solo el primer dispositivo del grupo se apaga después de agregar una configuración personalizada de apagado.
- Corrección: Se permitía iniciar el Grupo si solo había 2 dispositivos de Paridad y ningún dispositivo de Datos.
- Corrección: La notificación de verificación de paridad mostraba a menudo la verificación de paridad anterior y no la verificación actual.
- Corrección: Se resolvieron ciertos casos de _Estado de grupo incorrecto. Demasiados dispositivos erróneos o ausentes_ al actualizar.
- Corrección: No era posible reemplazar un dispositivo zfs de un vdev más pequeño.
- mover:
  - Corrección: Resuelto el problema con archivos antiguos de share.cfg que impedían al mover funcionar.
  - Corrección: mover fallaba al recrear un enlace duro si el directorio padre no existía.
  - Corrección: mover se colgaba en tuberías nombradas.
  - Corrección: [Utilizando mover para vaciar un disco de array](7.0.0.md#using-mover-to-empty-an-array-disk) ahora solo mueve carpetas de nivel superior que tienen un archivo share.cfg correspondiente, también se corrigió un error que impedía mostrar la lista de archivos _no movidos_.

### Red

#### Redes Inalámbricas

¡Unraid ahora admite WiFi! Se prefiere normalmente una conexión por cable, pero si no es posible para su situación, ahora puede configurar WiFi.

Para la configuración inicial necesitará un teclado/monitor local (arrancar en modo GUI) o una conexión por cable. En el futuro, el Creador USB podrá configurar la red inalámbrica antes del arranque inicial.

- Accede al webGUI y visita _**Ajustes → Configuración de Red → Red Inalámbrica wlan0**_
  - Primero, habilita WiFi
  - La **Región Normativa** generalmente puede dejarse en **Automático**, pero establécelo en tu ubicación si la red a la que deseas conectarte no está disponible.
  - Encuentra tu red preferida y haz clic en el icono **Conectar a la red WiFi**
  - Escribe tu contraseña de WiFi y otros ajustes, luego presiona **Unirse a esta red**
  - Nota: si tu objetivo es usar contenedores Docker sobre WiFi, desconecta cualquier conexión con cable antes de iniciar Docker.

Detalles adicionales

- WPA2/WPA3 y WPA2/WPA3 Enterprise son compatibles, si tanto WPA2 como WPA3 están disponibles, entonces se usa WPA3.
- No se recomienda tener ambas conexiones, alámbrica e inalámbrica, para uso a largo plazo; debería ser una u otra. Pero si ambas conexiones utilizan DHCP y desconecta un cable de red mientras la inalámbrica está configurada, el sistema (excluyendo Docker) debería ajustarse en 45-60 segundos.
- Soporte de chipset inalámbrico: Esperamos tener éxito con adaptadores WiFi modernos, pero es posible que los adaptadores más antiguos no funcionen. Si su adaptador WiFi no se detecta, por favor inicie un nuevo hilo en el foro y proporcione sus diagnósticos para que se pueda investigar.
- Si quieres usar un adaptador WiFi USB, consulta esta lista de [adaptadores WiFi USB que son compatibles con controladores dentro del kernel de Linux](https://github.com/morrownr/USB-WiFi/blob/main/home/USB_WiFi_Adapters_that_are_supported_with_Linux_in-kernel_drivers.md)
- Avanzado: Los nuevos archivos de firmware colocados en `/boot/config/firmware/` se copiarán a `/lib/firmware/` antes de que se carguen los módulos de controladores (los archivos existentes no se sobrescribirán).

Limitaciones: hay limitaciones de red al usar inalámbrico, ya que un wlan solo puede tener una dirección mac.

- Solo se admite un NIC inalámbrico, wlan0.
- wlan0 no puede participar en un enlace.
- Contenedores Docker
  - En _**Ajustes → Docker**_, nota que cuando el inalámbrico está habilitado, el sistema ignorará la configuración **Tipo de red personalizada de Docker** y siempre utilizará **ipvlan** (macvlan no es posible porque inalámbrico no soporta varias direcciones mac en una sola interfaz)
  - _**Ajustes → Docker**_, **Acceso de Host a redes personalizadas** debe estar deshabilitado
  - El **Tipo de Red** de un contenedor Docker no puede utilizar br0/bond0/eth0
  - Docker tiene una limitación: no puede participar en dos redes que comparten el mismo subred. Si cambia entre alámbrico e inalámbrico, necesitará reiniciar Docker y reconfigurar todos los contenedores existentes para utilizar la nueva interfaz. Recomendamos configurar ya sea alámbrico o inalámbrico y no cambiar.
- VMs
  - Recomendamos configurar su Fuente de Red de VM a virbr0, no hay límites para cuántas máquinas virtuales puede ejecutar en este modo. Las máquinas virtuales tendrán acceso completo a la red, pero no serán accesibles desde la red. Aún puede acceder a ellas a través de VNC al host.
  - Con algo de configuración manual, una sola máquina virtual puede hacerse accesible en la red:
    - Configura la máquina virtual con una dirección IP estática
    - Configura la misma dirección IP en la interfaz ipvtap, tipo: `ip addr add DIRECCIÓN-IP dev shim-wlan0`

#### Otros cambios de red

- En **Configuración → Configuración de Red**, ahora puede ajustar la configuración DNS del servidor sin detener otros servicios primero. Vea el inicio de la sección **eth0**.
- Al configurar una interfaz de red, cada interfaz tiene un botón **Info** que muestra detalles de la conexión actual.
- Al configurar una interfaz de red, el campo **MTU deseado** está deshabilitado hasta que haga clic en **Habilitar marcos jumbo**. Pase el cursor sobre el ícono para una advertencia sobre cambiar el MTU, en la mayoría de los casos debería dejarse en el ajuste predeterminado.
- Al configurar múltiples interfaces de red, por defecto las interfaces adicionales tendrán su puerta de enlace deshabilitada, este es un ajuste seguro que funciona en la mayoría de redes donde se requiere una sola puerta de enlace. Si se habilita una puerta de enlace adicional, se le dará una métrica más alta que a las puertas de enlace existentes para evitar conflictos. Puede anular según sea necesario.
- Las interfaces de red antiguas se eliminan automáticamente de los archivos de configuración cuando guardas cambios en _**Ajustes → Configuración de Red**_.
- Corregir varios problemas con DHCP.

### Gestor de VM

#### Controlador GPU Nouveau

El controlador Nouveau para GPUs Nvidia ahora está incluido, pero deshabilitado por defecto, ya que esperamos que la mayoría de los usuarios prefieran el controlador Nvidia. Para habilitarlo, desinstale el complemento del controlador Nvidia y ejecute `touch /boot/config/modprobe.d/nouveau.conf` y luego reinicie.

#### VirGL

Ahora puede compartir GPUs Intel y AMD entre múltiples máquinas virtuales de Linux al mismo tiempo usando VirGL, el renderizador virtual 3D OpenGL. Cuando se usa de esta manera, la GPU proporcionará gráficos acelerados pero no se mostrará en el monitor. Tenga en cuenta que esto todavía no funciona con VMs de Windows o el complemento estándar de Nvidia (aunque sí funciona con GPUs Nvidia usando el controlador Nouveau).

Para usar la GPU virtual en una VM de Linux, edite la plantilla de VM y configure la **Tarjeta Gráfica** como **Virtual**. Luego configure el **Controlador de Video de Consola de VM** a **Virtio(3d)** y seleccione la **GPU de Renderizado** apropiada de la lista de GPUs disponibles (tenga en cuenta que las GPUs vinculadas a VFIO-PCI o pasadas a otras VMs no pueden ser elegidas aquí, y las GPUs Nvidia están disponibles solo si el controlador Nouveau está habilitado).

#### GPUs Virtuales QXL

Para usar esta característica en una máquina virtual, edita la plantilla de la máquina virtual y establece la **Tarjeta Gráfica** en **Virtual** y el **Controlador de Video de la Consola de VM** en **QXL (Mejor)**, luego puedes elegir cuántas pantallas soportará y cuánta memoria asignar a ella.

#### Fijación de CPU es opcional

La fijación de CPU ahora es opcional, si no se fijan núcleos a una máquina virtual, el sistema operativo elige qué núcleos usar.

Desde _**Ajustes → Ajustes de CPU**_ o al editar una máquina virtual, presiona **Desseleccionar Todo** para desenlazar todos los núcleos para esta máquina virtual y establece el número de vCPUs en 1, incrementa según sea necesario.

### Plantillas de Máquina Virtual de Usuario

Para crear una plantilla de usuario:

- Edite la VM, elija **Crear Modificar Plantilla** y asigne un nombre. Ahora se almacenará como una **Plantilla de Usuario**, disponible en la pantalla **Añadir VM**.

Para usar una plantilla de usuario:

- Desde la lista de máquinas virtuales, presiona **Añadir Máquina Virtual**, luego elige la plantilla en el área de **Plantillas de Usuario**.

Importar/Exportar

- Desde la pantalla **Añadir Máquina Virtual**, pasa el cursor sobre una plantilla de usuario y haz clic en la flecha para exportar la plantilla a una ubicación en el servidor o descargarla.
- En otro sistema Unraid presiona **Importar desde archivo** o **Cargar** para usar la plantilla.

#### Otros cambios en VM

- Cuando el GPU **Primario** es asignado como passthrough para una máquina virtual, advierte que puede no funcionar sin cargar un vBIOS compatible.
- Corrección: Remover mensaje confuso _La ruta no existe_ al configurar el servicio de la máquina virtual
- Carácter: Las máquinas virtuales de Unraid ahora pueden arrancar en modo GUI, cuando se usa el controlador de video QXL
- Corrección: No se podía cambiar el icono de la máquina virtual al usar la vista XML

### WebGUI

#### Cambios en CSS

Como un paso hacia hacer que la webGUI sea sensible, hemos rehecho el CSS. En su mayor parte, esto no debería ser notorio aparte de algunos ajustes menores de color. Esperamos que la mayoría de los complementos estén bien también, aunque los autores de complementos pueden querer revisar [esta documentación](https://github.com/unraid/webgui/blob/master/emhttp/plugins/dynamix/styles/themes/README.md). La capacidad de respuesta continuará mejorando en futuras versiones.

Si notas problemas de alineación o problemas de color en algún tema oficial, por favor háznoslo saber.

#### nchan problemas de fuera de memoria compartida

Hemos hecho varios cambios que deberían prevenir este problema, y si detectamos que sucede, reiniciamos nginx en un intento por recuperarse automáticamente de ello.

Si su página principal nunca se rellena, o si ve "nchan: Fuera de memoria compartida" en sus registros, por favor inicie un nuevo hilo en el foro y proporcione sus diagnósticos. Opcionalmente, puede navegar a **Configuración → Configuración de Pantalla** y deshabilitar **Permitir actualizaciones en tiempo real en navegadores inactivos**; esto evita que su navegador solicite ciertas actualizaciones una vez que pierde el foco. Cuando está en este estado verá un banner diciendo **Actualizaciones en Vivo Pausadas**, simplemente haga clic en la webGUI para llevarla al primer plano y reactivar las actualizaciones en vivo. Ciertas páginas se recargarán automáticamente para asegurarse de que estén mostrando la información más reciente.

#### Otros cambios en el WebGUI

- Corrección: Los bloqueadores de anuncios podrían impedir que el Tablero cargue
- Corrección: Bajo ciertas circunstancias, la utilización de memoria del navegador en el Tablero podría crecer exponencialmente
- Corrección: Prevenir que un archivo de configuración corrupto rompa el Tablero

## Varios

### Otros cambios

- En _**Ajustes → Fecha y Hora**_ puedes ahora sincronizar tu reloj con un servidor **PTP** (esperamos que la mayoría de los usuarios sigan usando **NTP**)
- Actualizado a jQuery 3.7.1 y jQuery UI 1.14.1
- Corrección: Visitar boot.php ya no apagará el servidor
- Corrección: En la pestaña de Docker, el menú desplegable para el último contenedor se truncaba en ciertas situaciones
- Corrección: En _**Ajustes → Docker**_, eliminar un **Directorio Docker** almacenado en un volumen ZFS ahora funciona correctamente.
- Corrección: En el arranque, configuración ssh personalizada copiada de `/boot/config/ssh/` a `/etc/ssh/` de nuevo
- Corrección: El Administrador de Archivos puede copiar archivos de un Compartido de Usuario a un montaje de Disco No Asignado
- Corrección: Quitar mensaje confuso _La ruta no existe_ al configurar el servicio Docker
- Corrección: actualizar `rc.messagebus` para manejar correctamente `/etc/machine-id`
- Diagnósticos
  - Corrección: Mejorada la anonimización de direcciones IPv6 en diagnósticos
  - Corrección: Mejorada la anonimización de nombres de usuario en ciertos archivos de configuración en diagnósticos
  - Corrección: los diagnósticos podían fallar debido a cadenas multibyte en syslog
  - Carácter: los diagnósticos ahora registran errores en logs/diagnostics.error.log

### Núcleo de Linux

- versión 6.12.24-Unraid
  - Aplicar: \[PATCH] [Revertir "PCI: Evitar reinicio cuando está desactivado a través de sysfs"](https://lore.kernel.org/lkml/20250414211828.3530741-1-alex.williamson@redhat.com/)
  - CONFIG\_NR\_CPUS: incrementado de 256 a 512
  - CONFIG\_TEHUTI\_TN40: Adaptadores de red Ethernet Tehuti Networks TN40xx 10G
  - CONFIG\_DRM\_XE: Intel Xe Graphics
  - CONFIG\_UDMABUF: controlador misceláneo dmabuf del espacio de usuario
  - CONFIG\_DRM\_NOUVEAU: Tarjetas Nouveau (NVIDIA)
  - CONFIG\_DRM\_QXL: GPU virtual QXL
  - CONFIG\_EXFAT\_FS: soporte del sistema de archivos exFAT
  - CONFIG\_PSI: seguimiento de la información de presión de estancamiento
  - CONFIG\_PSI\_DEFAULT\_DISABLED: Requiere un parámetro de inicio para habilitar el seguimiento de la información de presión de estancamiento, es decir, `psi=1`
  - CONFIG\_ENCLOSURE\_SERVICES: Servicios de Recinto
  - CONFIG\_SCSI\_ENCLOSURE: Soporte de Recintos SCSI
  - CONFIG\_DRM\_ACCEL: Marco de Aceleración de Cómputo
  - CONFIG\_DRM\_ACCEL\_HABANALABS: Aceleradores AI HabanaLabs
  - CONFIG\_DRM\_ACCEL\_IVPU: NPU (Unidad de Procesamiento Neural) de Intel
  - CONFIG\_DRM\_ACCEL\_QAIC: Aceleradores Cloud AI de Qualcomm
  - zfs: versión 2.3.1

- Soporte inalámbrico
  - Atheros/Qualcomm
  - Broadcom
  - Intel
  - Marvell
  - Microtek
  - Realtek

### Actualizaciones de distribución base

- aaa\_glibc-solibs: versión 2.41
- adwaita-icon-theme: versión 48.0
- at-spi2-core: versión 2.56.1
- bind: versión 9.20.8
- btrfs-progs: versión 6.14
- ca-certificates: versión 20250425
- cairo: versión 1.18.4
- cifs-utils: versión 7.3
- coreutils: versión 9.7
- dbus: versión 1.16.2
- dbus-glib: versión 0.114
- dhcpcd: versión 9.5.2
- diffutils: versión 3.12
- dnsmasq: versión 2.91
- docker: versión 27.5.1
- e2fsprogs: versión 1.47.2
- elogind: versión 255.17
- elfutils: versión 0.193
- ethtool: versión 6.14
- firefox: versión 128.10 (AppImage)
- floppy: versión 5.6
- fontconfig: versión 2.16.2
- gdbm: versión 1.25
- git: versión 2.49.0
- glib2: versión 2.84.1
- glibc: versión 2.41
- glibc-zoneinfo: versión 2025b
- grep: versión 3.12
- gtk+3: versión 3.24.49
- gzip: versión 1.14
- harfbuzz: versión 11.1.0
- htop: versión 3.4.1
- icu4c: versión 77.1
- inih: versión 60
- intel-microcode: versión 20250211
- iperf3: versión 3.18
- iproute2: versión 6.14.0
- iw: versión 6.9
- jansson: versión 2.14.1
- kernel-firmware: versión 20250425\_cf6ea3d
- kmod: versión 34.2
- less: versión 674
- libSM: versión 1.2.6
- libX11: versión 1.8.12
- libarchive: versión 3.7.8
- libcgroup: versión 3.2.0
- libedit: versión 20250104\_3.1
- libevdev: versión 1.13.4
- libffi: versión 3.4.8
- libidn: versión 1.43
- libnftnl: versión 1.2.9
- libnvme: versión 1.13
- libgpg-error: versión 1.55
- libpng: versión 1.6.47
- libseccomp: versión 2.6.0
- liburing: versión 2.9
- libusb: versión 1.0.28
- libuv: versión 1.51.0
- libvirt: versión 11.2.0
- libXft: versión 2.3.9
- libxkbcommon: versión 1.9.0
- libxml2: versión 2.13.8
- libxslt: versión 1.1.43
- libzip: versión 1.11.3
- linuxptp: versión 4.4
- lvm2: versión 2.03.31
- lzip: versión 1.25
- lzlib: versión 1.15
- mcelog: versión 204
- mesa: versión 25.0.4
- mpfr: versión 4.2.2
- nano: versión 8.4
- ncurses: versión 6.5\_20250419
- nettle: versión 3.10.1
- nghttp2: versión 1.65.0
- nghttp3: versión 1.9.0
- noto-fonts-ttf: versión 2025.03.01
- nvme-cli: versión 2.13
- oniguruma: versión 6.9.10
- openssh: versión 10.0p1
- openssl: versión 3.5.0
- ovmf: versión estable202502
- pam: versión 1.7.0
- pango: versión 1.56.3
- parted: versión 3.6
- patch: versión 2.8
- pcre2: versión 10.45
- perl: versión 5.40.2
- php: versión 8.3.19
- procps-ng: versión 4.0.5
- qemu: versión 9.2.3
- rsync: versión 3.4.1
- samba: versión 4.21.3
- shadow: versión 4.17.4
- spice: versión 0.15.2
- traductor LLVM-spirv: versión 20.1.0
- sqlite: versión 3.49.1
- sysstat: versión 12.7.7
- sysvinit: versión 3.14
- talloc: versión 2.4.3
- tdb: versión 1.4.13
- tevent: versión 0.16.2
- tree: versión 2.2.1
- userspace-rcu: versión 0.15.2
- utempter: versión 1.2.3
- util-linux: versión 2.41
- virglrenderer: versión 1.1.1
- virtiofsd: versión 1.13.1
- which: versión 2.23
- wireless-regdb: versión 2025.02.20
- wpa\_supplicant: versión 2.11
- xauth: versión 1.1.4
- xf86-input-synaptics: versión 1.10.0
- xfsprogs: versión 6.14.0
- xhost: versión 1.0.10
- xinit: versión 1.4.4
- configuración de teclado x: versión 2.44
- servidor xorg: versión 21.1.16
- xterm: versión 398
- xtrans: versión 1.6.0
- xz: versión 5.8.1
- zstd: versión 1.5.7

## Parches

No hay parches disponibles actualmente para esta versión.
