---
sidebar_position: 2
sidebar_label: Configuraci√≥n de la matriz
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import AddDataDiskParityProtected from './partials/add-data-disk-parity-protected.mdx';
import AddDataDiskNoParity from './partials/add-data-disk-no-parity.mdx';
import ParitySwapWhat from './partials/parity-swap-what.mdx';
import ParitySwapWhen from './partials/parity-swap-when.mdx';
import RemoveDataDiskStandard from './partials/remove-data-disk-standard.mdx';
import RemoveDataDiskParityPreserve from './partials/remove-data-disk-parity-preserve.mdx';
import ArrayCheckParity from './partials/array-check-parity.mdx';
import ArrayCheckRead from './partials/array-check-read.mdx';
import TroubleshootMissingDisks from './partials/troubleshoot-missing-disks.mdx';
import TroubleshootDeviceLimit from './partials/troubleshoot-device-limit.mdx';
import TroubleshootLicenseIssues from './partials/troubleshoot-license-issues.mdx';
import TroubleshootKeyServer from './partials/troubleshoot-key-server.mdx';
import TroubleshootWithdrawnRelease from './partials/troubleshoot-withdrawn-release.mdx';

# Configuraci√≥n de la matriz

El sistema de almacenamiento de Unraid combina flexibilidad con protecci√≥n de datos mediante su arquitectura de %%array|array%% y %%cache|cache%%. El %%array|array%% gestiona su almacenamiento principal con protecci√≥n de %%paridad|parity%% opcional, mientras que los grupos de cach√© aceleran el rendimiento.

A continuaci√≥n se presentan algunos principios importantes para la configuraci√≥n de la matriz:

<details>
  <summary><strong>Siempre use su(s) unidad(es) m√°s grandes para la paridad.</strong></summary>

  Cuando a√±ada m√°s discos a su %%array|array%% m√°s tarde, recuerde que no puede usar un disco de datos que sea m√°s grande que sus %%parity disks|parity-drives%%. Es una buena idea comprar el disco duro m√°s grande para sus %%parity disks|parity-drives%% al principio. De esta manera, no estar√° limitado por tama√±os m√°s peque√±os cuando expanda m√°s tarde.

  Si usa dos %%parity disks|parity-drives%%, pueden ser de diferentes tama√±os. Sin embargo, tenga en cuenta que ning√∫n disco en su %%array|array%% puede ser m√°s grande que el m√°s peque√±o de los %%parity disks|parity-drives%% que tenga.
</details>

<details>
  <summary><strong>No use SSDs en el array - gu√°rdelos para pools o dispositivos no asignados.</strong></summary>

  Unraid no admite operaciones TRIM o Discard para SSDs en el array principal. Con el tiempo, esto causar√° que el rendimiento de los SSD se degrade si se utilizan como miembros del array. Para obtener los mejores resultados, use SSDs en %%cache pools|cache-pool%% o como dispositivos no asignados, donde estas funciones son compatibles y se mantiene el rendimiento a largo plazo. La mayor√≠a de los SSD modernos, incluidos los NVMe, funcionan bien en estos roles.
</details>

<details>
  <summary><strong>Usar un cache mejorar√° el rendimiento de escritura del array.</strong></summary>

  En lugar de escribir directamente en el almacenamiento principal, los datos se env√≠an primero a un disco dedicado o a un grupo de discos. Estos datos luego se mueven al almacenamiento principal en horarios programados, generalmente una vez al d√≠a a las 3:40 AM. Lo mejor de todo es que los datos guardados en la %%cache|cache%% a√∫n aparecen a trav√©s de sus %%user shares|user-share%%, por lo que no tiene que cambiar c√≥mo accede a sus archivos.
</details>

<details>
  <summary><strong>Crear un pool de cache ayuda a mantener seguros sus datos en cache.</strong></summary>

  Usar solo un dispositivo de cache pone en riesgo sus datos en cache hasta que se muevan al array principal. Para proteger sus datos en todo momento, use m√∫ltiples dispositivos configurados como un %%cache pool|cache-pool%%. Esta configuraci√≥n proporciona redundancia para los datos en cache, reduciendo la posibilidad de p√©rdida de datos debido a una falla del dispositivo de cache.
</details>

<details>
  <summary><strong>Los dispositivos de cache SSD son excelentes para apps y m√°quinas virtuales.</strong></summary>

  El uso de SSDs ayuda a que las aplicaciones y las m√°quinas virtuales (VMs) funcionen m√°s r√°pido porque pueden acceder a los datos m√°s r√°pidamente. Los SSDs funcionan bien en un %%cache pool|cache-pool%%, brind√°ndole una excelente combinaci√≥n de velocidad, eficiencia y seguridad de datos.
</details>

<details>
  <summary><strong>El cifrado est√° desactivado por defecto.</strong></summary>

  Si desea utilizar el cifrado en su sistema, debe reformatear el disco con un tipo de sistema de archivos cifrado; este proceso elimina todos los datos existentes en el disco. Antes de habilitar el cifrado, mueva sus datos fuera del disco, cambie el sistema de archivos a una opci√≥n cifrada, formatee el disco y luego vuelva a mover sus datos. Para obtener m√°s detalles, consulte [C√≥mo cifrar un disco en Unraid](../../system-administration/secure-your-server/securing-your-data.mdx#how-to-encrypt-a-drive-in-unraid).

  Ten en cuenta que usar cifrado puede dificultar la recuperaci√≥n de datos si algo sale mal, as√≠ que √∫salo solo si realmente lo necesitas.
</details>

:::info[Disk Reconocimiento y Flexibilidad de Puerto]
Unraid identifica los discos seg√∫n sus n√∫meros de serie y tama√±os, no los puertos SATA espec√≠ficos a los que est√°n conectados. Esto significa que puede cambiar los discos entre diferentes puertos SATA sin afectar sus asignaciones en Unraid. Esta caracter√≠stica es particularmente √∫til para resolver problemas de hardware, como encontrar un puerto defectuoso o reemplazar cables de alimentaci√≥n o SATA poco confiables.
:::

:::caution
Tu matriz no iniciar√° si asignas o conectas m√°s dispositivos de los que permite tu clave de licencia.
:::

## Iniciar/detener la matriz

Cuando su sistema se inicia, generalmente enciende autom√°ticamente el conjunto de discos. Sin embargo, si ha cambiado recientemente la configuraci√≥n de discos, como agregar un nuevo disco, el conjunto permanecer√° apagado para permitirle verificar su configuraci√≥n.

:::caution
Tenga en cuenta que deber√° detener primero el conjunto para hacer cualquier ajuste. Detenerlo apagar√° completamente todos los contenedores de Docker y comparticiones de red, apagar√° o hibernar√° las VM, y sus dispositivos de almacenamiento se desmontar√°n, haciendo que sus datos y aplicaciones no sean accesibles hasta que reinicie el conjunto.
:::

Para iniciar o detener la matriz:

1. Haga clic en la pesta√±a **Principal**.
2. Navega a la secci√≥n **Operaci√≥n de la matriz**.
3. Haga clic en **Iniciar** o **Detener**. Es posible que deba marcar la casilla que dice "S√≠, quiero hacer esto" antes de continuar.

---

## Operaciones de la matriz

Unraid proporciona varias opciones de mantenimiento y configuraci√≥n para su conjunto de almacenamiento. Las operaciones clave incluyen:

import DocCardList from '@theme/DocCardList';

<DocCardList
  items={[
  { type: 'link', href: '#adding-disks', label: 'A√±adir Discos', description: 'Expandir la capacidad de almacenamiento' },
  { type: 'link', href: '#replacing-disks', label: 'Reemplazar Discos', description: 'Actualizar o cambiar discos fallidos' },
  { type: 'link', href: '#removing-disks', label: 'Eliminar Discos', description: 'Descomisionar o reducir el tama√±o del array' },
  { type: 'link', href: '#checking-array-devices', label: 'Verificar dispositivos del array', description: 'Monitorear datos SMART y diagn√≥sticos' },
  { type: 'link', href: '#spinning-disks-down-or-up', label: 'Hacer girar discos hacia abajo o hacia arriba', description: 'Gestionar encendido/apagado del disco' },
  { type: 'link', href: '#reset-the-array-configuration', label: 'Restablecer la configuraci√≥n del array', description: 'Reconstruir la estructura del array' }
  ]}
/>

---

### Agregando discos

#### Configurando discos nuevos

1. Ve a ***Principal ‚Üí Dispositivos de la matriz*** en la interfaz.
2. Selecciona el espacio donde deseas agregar el disco y selecciona el disco de la lista desplegable.
3. Por defecto, los nuevos discos del conjunto se formatear√°n con %%XFS|xfs%%. Si desea usar %%ZFS|zfs%% o %%BTRFS|btrfs%% en su lugar, seleccione su sistema de archivos preferido del men√∫ desplegable.

:::tip[Hot-Swap Caracter√≠stica]
Si est√° utilizando hardware moderno compatible con Unraid, puede cambiar discos sin apagar su servidor. Esta funci√≥n, conocida como intercambio en caliente, ha estado disponible en los servidores LimeTech desde el principio.
:::

#### Despejar vs. Pre-despejar

Unraid requiere que los discos est√©n en un estado limpiado - completamente llenos de ceros y marcados con una firma especial - antes de agregarlos a un conjunto protegido por paridad. Este proceso asegura la integridad de la paridad y mantiene el conjunto en l√≠nea durante la preparaci√≥n del disco.

Clearance is mandatory when adding a data disk to a %%parity|parity%%-protected array. If you are adding a %%parity disk|parity-drives%% or working with an array that does not use %%parity|parity%%, clearance is not required.

La operaci√≥n de limpiar incorporada escribe ceros en el disco en segundo plano, permitiendo que el conjunto permanezca disponible. Una vez que el proceso est√° completo, el disco debe formatearse antes de su uso. Este m√©todo es eficiente, no requiere herramientas de terceros y es ideal para expansiones r√°pidas.

Para un enfoque m√°s exhaustivo, la operaci√≥n de pre-limpieza ‚Äì disponible a trav√©s de complementos como [Pre-limpieza de Dispositivos No Asignados](https://unraid.net/community/apps?q=unassigned+devices#r:~:text=enable%20destructive%20mode.-,Unassigned%20Devices%20Preclear,-dlandon) ‚Äì realiza una lectura previa para verificar sectores defectuosos, llena el disco con ceros y luego verifica la integridad con una lectura posterior. Este paso adicional ayuda a detectar fallos tempranos del disco, pero toma significativamente m√°s tiempo y requiere la instalaci√≥n manual del complemento.

**Regla general:** Usa la operaci√≥n de despeje integrada para adiciones r√°pidas a tu matriz o elige pre-despeje si deseas un testeo extenso de la salud del disco antes de ponerlo en servicio.

<h4>Comparaci√≥n entre Despejar y Pre-despejar</h4>

<div style={{ margen: 'auto', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
  |                          | Borrar                             | Pre-despejar                               |
  | ------------------------ | ---------------------------------- | ------------------------------------------ |
  | **Prop√≥sito**            | Garantiza la compatibilidad b√°sica | Prueba el disco y lo prepara para su uso   |
  | **Velocidad**            | Funciona r√°pidamente               | Proceso mucho m√°s lento                    |
  | **Impacto en la matriz** | Funciona en segundo plano          | Necesita que el disco sea removido del uso |
  | **Mejor para**           | Ideal para expansiones r√°pidas     | Genial para chequear discos nuevos         |
</div>

**Despejar** prepara r√°pidamente un disco para su uso, haci√©ndolo compatible con tu sistema y permiti√©ndote agregar almacenamiento en solo unas horas.

**Pre-despejar** toma m√°s tiempo pero proporciona un test exhaustivo, asegurando que un disco nuevo es confiable antes de que se incorpore a tu matriz.

:::caution[Critical Note]
Evita formatear un disco pre-despejado antes de incluirlo en la matriz, ya que esto elimina la firma de despeje.
:::

#### Agregar discos de datos

Agregar discos de datos es una excelente manera de aumentar el espacio de almacenamiento de su conjunto Unraid. Al agregar m√°s discos, puede mantener m√°s archivos, aplicaciones y copias de seguridad, mientras sigue protegiendo sus datos.

:::important[Important Note:]
When adding a new data disk, it must be the same size or smaller than your current %%parity disks|parity-drives%%. If you want to use a larger disk, you'll need to replace the %%parity disks|parity-drives%% first with the larger one, then use the old %%parity disks|parity-drives%% as a data disk.
:::

<details>
  <summary><strong>C√≥mo agregar un disco de datos</strong></summary>

  ```mdx-code-block

  <Tabs>
    <TabItem value="standard" label="Standard addition (Parity-protected)" default>
      <AddDataDiskParityProtected />
    </TabItem>

    <TabItem value="no-parity" label="Addition without parity">
      <AddDataDiskNoParity />
    </TabItem>
  </Tabs>
  ```
</details>

#### Agregando discos de paridad

%%Parity disks|parity-drives%% are a helpful feature that provide an extra layer of protection for your data. They allow your storage system to recover information if a hard drive fails. While using %%parity disks|parity-drives%% is optional, it's highly recommended to keep your data safe.

:::important\[Requirements]

- **Paridad √önica:** El disco debe ser al menos del mismo tama√±o que tu disco de datos m√°s grande.
- **Doble Paridad:** Ambos %%parity disks|discos de paridad%% tambi√©n deben ser al menos del tama√±o de tu disco de datos m√°s grande, pero pueden tener tama√±os diferentes entre s√≠.

Agregar un %%parity disk|disco de paridad%% es similar a agregar un disco de datos, pero hay un paso importante a tener en cuenta:

1. Despu√©s de seleccionar el %%parity disk|disco de paridad%% y de iniciar tu matriz de almacenamiento, comienza un proceso llamado **c√°lculo de paridad**.
2. Mientras este proceso se ejecuta, a√∫n puede acceder a sus archivos. Sin embargo, el sistema puede funcionar un poco m√°s lento debido a que est√° trabajando para calcular la paridad.

<details>
  <summary><strong>En profundidad: ¬øQu√© es la paridad y por qu√© importa?</strong> - Haz clic para expandir/colapsar</summary>

  %%Parity|parity%% in Unraid protects your data by ensuring that you can recover from a drive failure. With the use of a %%parity disk|parity-drives%%, any single missing disk can be reconstructed by combining the information from all other data drives along with the %%parity|parity%% data.

  Unraid conf√≠a en esta paridad en tiempo real para dos prop√≥sitos principales:

  - Reconstruir datos cuando un disco falla
  - Corregir errores cuando se encuentra un sector defectuoso

  Esta caracter√≠stica te permite mantener tus datos seguros, incluso cuando los discos eventualmente fallan con el tiempo.
</details>

<details>
  <summary><strong>En profundidad: ¬øC√≥mo funciona la paridad en Unraid?</strong> - Haz clic para expandir/colapsar</summary>

  Unraid works with a special bit called the *parity bit*, which is stored for each bit position across all data disks and is managed by a dedicated %%parity disk|parity-drives%%. The %%parity|parity%% is calculated such that the total number of bits in each position across all disks (including the %%parity disk|parity-drives%%) is always an even number, a process known as even parity.

  Unraid conf√≠a en esta paridad en tiempo real para dos prop√≥sitos principales:

  - Unraid utiliza la operaci√≥n XOR (OR exclusivo) para este c√°lculo.
  - Por ejemplo, si tienes cuatro discos y sus 57¬™ bits son 1, 1, 1, 1, el bit de paridad para esa posici√≥n ser√° 0 (porque 1 + 1 + 1 + 1 + 0 = par).
  - Sin embargo, si los 57¬™ bits son 1, 0, 0, 0, la %%paridad|parity%% de esa posici√≥n ser√° 1 (para asegurar que el total siga siendo par).

  Al agregar una nueva unidad, Unraid primero lo limpia escribiendo ceros en todos los bits, lo que permite una inclusi√≥n r√°pida en el arreglo protegido ya que escribir ceros no interfiere con los c√°lculos de paridad actuales.
</details>

<details>
  <summary><strong>En profundidad: ¬øC√≥mo funciona la paridad en Unraid?</strong> - Haz clic para expandir/colapsar</summary>

  Unraid trabaja con un bit especial llamado *bit de paridad*, que se almacena para cada posici√≥n de bit en todos los discos de datos y es administrado por un %%parity disk|parity-drives%% dedicado. La %%parity|parity%% se calcula de forma que el n√∫mero total de bits en cada posici√≥n en todos los discos (incluido el %%parity disk|parity-drives%%) sea siempre un n√∫mero par, un proceso conocido como paridad par.

  - Lee todas las unidades restantes, incluido el %%parity disk|parity-drives%%.
  - Aplica la %%paridad|parity%% par para resolver los datos faltantes.

  Por ejemplo, si el disco 2 falla:

  - Si los bits relacionados son 1, 1, 1 (adem√°s de la %%paridad|parity%%), Unraid calcula: 1 + x + 1 + 1 + 0 = par. Aqu√≠, x debe ser 1 para mantener un total par.
  - Si los bits muestran 1, x, 0, 0, 1 = par, entonces x ser√° igual a 0.

  Esta caracter√≠stica de %%paridad|parity%% permite a Unraid "simular" el disco faltante. Puede continuar usando el conjunto como si el disco a√∫n funcionara. Una vez que instale un nuevo disco en el lugar fallido, Unraid recrear√° todos los datos faltantes con base en el estado actual de %%paridad|parity%% y los otros discos.

  Para asegurar una protecci√≥n continua y una recuperaci√≥n efectiva, es importante realizar revisiones regulares de %%paridad|parity-check%%.
</details>

<details>
  <summary><strong>En profundidad: ¬øC√≥mo se reconstruyen los datos usando la paridad?</strong> - Haz clic para expandir/colapsar</summary>

  Your %%parity disk|parity-drives%% must be **equal to or larger than your largest data disk**. For instance:

  - Si tu disco de datos m√°s grande es de 10TB, tu %%parity disk|parity-drives%% debe tener al menos 10TB.
  - Puedes usar varios tama√±os de discos de datos de manera libre, siempre que ninguno supere el tama√±o del %%parity disk|parity-drives%%.
</details>

<details>
  <summary><strong>¬øQu√© tama√±o necesita tener mi disco de paridad?</strong> - Haz clic para expandir/colapsar</summary>

  Writing to a %%parity|parity%%-protected array involves four disk operations for each write: reading data, reading %%parity|parity%%, writing data, and writing %%parity|parity%%. This process requires a full rotation from each affected drive, so the overall write speed is limited by the slowest drive involved in the operation.

  Adding a faster %%parity disk|parity-drives%% won't necessarily improve write speeds unless you're writing to multiple slow data disks simultaneously, allowing the %%parity disk|parity-drives%% to handle the load. Typically, the write speed is constrained by the slowest data drive being written to.
</details>

<details>
  <summary><strong>En profundidad: ¬øC√≥mo afecta la paridad al rendimiento de escritura?</strong> - Haz clic para expandir/colapsar</summary>

  Dual %%parity|parity%% enables recovery from **two simultaneous disk failures**. In Unraid, the second %%parity disk|parity-drives%% doesn't simply mirror the first. Instead:

  - **Paridad 1:** Emplea c√°lculos de %%paridad|parity%% est√°ndar XOR (par).
  - **Paridad 2:** Utiliza un algoritmo m√°s complejo (campo de Galois, en lugar de Reed-Solomon como en %%RAID 6|raid6%% tradicional), permitiendo a Unraid reconstruir a partir de cualquier dos discos faltantes al mismo tiempo. Esta caracter√≠stica es significativa para conjuntos m√°s grandes, donde el riesgo de m√∫ltiples fallos aumenta. La Doble %%paridad|parity%% mejora significativamente la resistencia sin la sobrecarga adicional de la redundancia reflejada.
</details>

:::caution\[Remember]
When setting up a new data storage system, add your data disks **first**, making sure they all use a compatible file system. **After** placing your data disks, you can add a %%parity disk|parity-drives%% to protect against drive failures.

Once your %%parity disk|parity-drives%% is added, remember that any new disk you want to include in the array must be cleared (zeroed) before it's integrated. This is to ensure that the %%parity|parity%% remains valid and continues to protect your data.
:::

#### Actualizaci√≥n de discos de paridad

Puedes actualizar tu(s) dispositivo(s) %%parity disk|parity-drives%% a uno(s) m√°s grande(s) para usar discos de mayor tama√±o en el array o agregar un %%parity disk|parity-drives%% adicional.

:::caution
If you're planning to take the following steps and only have one %%parity disk|parity-drives%%, keep these points in mind:

- Sus datos estar√°n desprotegidos hasta que la reconstrucci√≥n de la %%paridad|parity%% se complete. Si un disco de datos falla durante este tiempo, podr√≠a perder la informaci√≥n en ese disco.
- Si ya tiene un disco de datos que ha fallado, seguir estos pasos le impedir√° reconstruir ese disco. En este caso, debe seguir el procedimiento de **Cambio de Paridad**.
  :::

Para eliminar un disco de paridad:

1. **Detener el arreglo:** Usa el %%WebGUI|web-gui%% para detener el arreglo.

:::tip
Si su servidor admite intercambio en caliente, no necesita apagarlo para cambiar discos. Puede omitir de forma segura los pasos 2 y 4.
:::

2. **Apaga el servidor:** Apaga tu servidor para realizar cambios de hardware de manera segura.
3. **Instala el nuevo %%parity disk|parity-drives%%:** Coloca el nuevo, m√°s grande %%parity disk|parity-drives%% en tu servidor.
4. **Enciende el servidor:** Vuelve a encender el servidor.
5. **Asigna el nuevo disco:** Ve a la ranura de paridad en tus configuraciones y asigna el nuevo disco, reemplazando el antiguo.
6. **Inicia el arreglo:** Usa el %%WebGUI|web-gui%% para iniciar el arreglo de nuevo.

Una vez que el arreglo est√© de nuevo en l√≠nea, Unraid comenzar√° a construir la %%parity|parity%% en el disco nuevo. Puedes seguir accediendo a tus datos durante este tiempo, pero ten en cuenta que podr√≠a ser un poco m√°s lento hasta que el proceso termine. ¬°Una vez que la construcci√≥n de la %%parity|parity%% est√© completa, tus datos estar√°n protegidos de nuevo!

:::important[Important Consejos]

- **Conserva el disco antiguo:** No retires el antiguo %%parity disk|parity-drives%% hasta que la nueva construcci√≥n de %%parity|parity%% finalice. Si un disco de datos falla durante la actualizaci√≥n, tener el disco antiguo puede ayudarte a recuperar tus datos.

- **Usuarios de doble paridad:** Si tienes dos %%parity disks|parity-drives%%, actualiza uno a la vez para mayor seguridad.

- **Repurpose the old disk:** After the upgrade, you can use the old %%parity disk|parity-drives%% as a data disk if it still meets your storage needs.
  :::

---

### Reemplazo de discos

Es posible que necesites reemplazar discos en tu arreglo por dos razones principales:

1. [**Actualizaci√≥n de capacidad**](#upgrading-capacity): Tu almacenamiento est√° casi lleno, y deseas usar discos m√°s grandes.
2. [**Fallo o retiro**](#replacing-faileddisabled-disks): Un disco ha fallado o ya no es compatible.

Aunque el proceso de reemplazo de discos es similar en ambos casos, ten cuidado, ya que existe el riesgo de p√©rdida de datos durante el reemplazo. Los dispositivos de paridad ayudan a proteger tus datos; un dispositivo de paridad puede salvaguardarte contra la falla de un solo disco, mientras que dos pueden proteger contra la p√©rdida de datos si fallan dos discos. Siempre ten en cuenta tu nivel de protecci√≥n durante el reemplazo de discos.

#### Actualizaci√≥n de capacidad

Al actualizar tu disco de datos a uno m√°s grande, ten en cuenta estos puntos:

- **Discos no montables:** Arregla cualquier disco no montable antes de actualizar. Un estado no montable no se resolver√° durante la reconstrucci√≥n.

- **Riesgos de paridad √∫nica:** Si tienes paridad √∫nica, corres el riesgo de p√©rdida de datos si otra unidad falla durante la actualizaci√≥n. Busca consejo en foros si esto sucede.

- **Protecci√≥n de paridad dual:** Con paridad dual, est√°s a salvo de perder datos si una unidad falla mientras se actualiza una sola unidad. Tambi√©n puedes actualizar dos unidades a la vez, pero ten en cuenta que esto aumenta el riesgo ya que no tendr√°s protecci√≥n contra la falla de otra unidad.

- **Copia de seguridad del disco antiguo:** Mant√©n el disco original intacto hasta que se confirme que la actualizaci√≥n ha sido exitosa. Esto proporciona una opci√≥n de respaldo si algo sale mal.

:::warning
Reemplazar unidades siempre implica un riesgo. Si otra unidad falla durante la actualizaci√≥n, especialmente con solo una paridad, puede experimentar p√©rdida de datos. Siempre verifique la salud de sus unidades antes de comenzar el proceso y aseg√∫rese de mantener la antigua unidad intacta hasta que la actualizaci√≥n est√© completa y sus datos est√©n confirmados como seguros.
:::

Para actualizar un disco de datos existente:

1. **Run a parity check:** First, ensure the integrity of your data by running a %%parity check|parity-check%%. Go to [***Tools ‚Üí Parity Check***](#checking-array-devices) and make sure there are **zero errors**. If parity isn't valid, rebuilding the disk will corrupt its file system.

2. **Detener el arreglo:** A continuaci√≥n, querr√° detener el arreglo. Navegue a ***Principal ‚Üí Operaci√≥n del Arreglo*** y seleccione **Detener**.

3. **Desasignar el disco objetivo:** Una vez que el arreglo est√© detenido, encuentra el disco que deseas reemplazar. Ret√≠ralo de su ranura en ***Principal ‚Üí Dispositivos del Arreglo***.

4. **Iniciar el arreglo:** Ahora, inicia nuevamente el arreglo. Unraid emular√° el disco faltante utilizando los discos de paridad y datos existentes. Tienes dos modos para elegir:
   - **%%Maintenance Mode|maintenance-mode%%:** This mode prevents any writes to the %%emulated disk|emulated-disk%%.
   - **Normal Mode:** If you need read/write access to the %%emulated disk|emulated-disk%%, select this option.

:::note
Iniciar el arreglo en Modo Normal en este punto es opcional. Puedes utilizarlo para verificar que el disco emulado se monte y que los datos se vean correctos antes de proceder, pero no es necesario para el proceso de actualizaci√≥n.
:::

5. **Detener el arreglo nuevamente:** El arreglo ahora deber√≠a mostrar que el disco no asignado ha fallado. Det√©n el arreglo una vez m√°s.

6. **Asignar el disco de reemplazo:** Inserta tu nuevo disco m√°s grande en la ranura vacante en el arreglo.

7. **Start the array to rebuild:** Finally, start the array again. Unraid will now rebuild the contents of the %%emulated disk|emulated-disk%% onto the new disk. The file system will automatically adjust to take full advantage of the larger disk's capacity.

#### Reemplazo de discos fallidos/desactivados

<details>
  <summary><strong>¬øQu√© es un disco fallido/deshabilitado?</strong></summary>

  Un disco fallido o deshabilitado es aquel que Unraid ha dejado de utilizar para escribir datos, generalmente porque encontr√≥ un error de escritura. Tenga en cuenta que esto no siempre significa que el disco en s√≠ est√© roto; a veces, puede deberse a malas conexiones, problemas de energ√≠a o simplemente un fallo temporal.

  Algunas indicaciones incluyen:

  <div class="texto--centro">
    ![Una "X" roja indica un error de escritura](/img/Diskfailureindicator.png)
    <p class="caption-center">*Esta "X" roja muestra qu√© disco necesita reemplazo.*</p>
  </div>

  <br />

  <div class="texto--centro">
    ![Alerta de notificaci√≥n de falla](/img/Diskfailurenotification.png)
    <p class="caption-center">*Preste atenci√≥n a estas alertas.*</p>
  </div>

  <br />

  <details>
    <summary><strong>Haz clic para ver c√≥mo diferentes configuraciones de paridad manejan fallos de disco</strong></summary>

    | Escenario de Falla | Sin Paridad | Paridad √önica | Paridad Dual |
    | ------------------ | ----------- | ------------- | ------------ |

    \| **1 Falla de Disco**  | Datos Perdidos | Reconstruible   | Reconstruible |
    \| **2 Fallas de Disco** | Datos Perdidos | Datos Perdidos    | Reconstruible |

    :::tip[Consejos para Reconstrucciones Seguras]

    - **Para Paridad Simple:** Solo puede reemplazar un disco a la vez. Si otro disco falla durante la reconstrucci√≥n, podr√≠a perder datos.
    - **Para Doble Paridad:** Puede reemplazar uno o dos discos al mismo tiempo, pero sea cauteloso si m√°s de dos discos fallan.
      :::

    :::important
    Si experimenta una situaci√≥n en la que **m√°s discos fallan de los que su paridad puede proteger:**

    1. **Detenga inmediatamente todas las operaciones de escritura** para prevenir una mayor p√©rdida de datos.
    2. Busque ayuda publicando su problema en los [foros de Unraid](https://forums.unraid.net/) junto con diagn√≥sticos.
    3. **No intente una reconstrucci√≥n** hasta haber recibido asesoramiento - conc√©ntrese primero en salvar sus datos.
       :::
  </details>
</details>

<details>
  <summary><strong>C√≥mo diagnosticar el problema</strong></summary>

  Para diagnosticar el problema, comienza revisando el %%syslog|syslog%% y los informes %%SMART|smart-report%%:

  - Si el %%syslog|syslog%% muestra que el disco se ha reiniciado, podr√≠a haber un problema con la conexi√≥n o los cables.
  - Los informes %%SMART|smart-report%% pueden ayudar a evaluar la salud del disco, pero la mejor manera de verificarlo es realizando una prueba extendida de %%SMART|smart%%. Si se completa sin errores, es probable que el disco est√© bien.
  - Si ves errores %%CRC|crc-errors%%, generalmente apunta a problemas con el cableado. Ten cuidado con estos errores, ya que se acumulan con el tiempo y no se reinician.

  :::tip
  Para mantenerse informado sobre problemas de discos, [active las notificaciones](../../getting-started/set-up-unraid/customize-unraid-settings.mdx#notification-settings) en Unraid. De esta manera, ser√° alertado de inmediato si algo sale mal, reduciendo el riesgo para sus datos.
  :::
</details>

<details>
  <summary><strong>¬øQu√© es la emulaci√≥n?</strong></summary>

  Cuando un disco est√° deshabilitado, Unraid usar√° su paridad y otros discos funcionantes para emular el disco fallido. Esto significa que su sistema contin√∫a operando y a√∫n puede acceder a los datos almacenados en el %%emulated drive|emulated-disk%%:

  - Unraid dejar√° de escribir en el disco f√≠sico, y cualquier actualizaci√≥n se guardar√° en la paridad y la emulaci√≥n en su lugar.
  - Before replacing the failed drive, you can check and recover data from the %%emulated drive|emulated-disk%%, which keeps the physical drive intact for potential recovery.
  - If you can't access the %%emulated drive|emulated-disk%%, repairing the file system is essential before any rebuild since fixing the file system is quicker and more effective than a rebuild.
</details>

<details>
  <summary><strong>¬øQu√© es un disco fallido/deshabilitado?</strong></summary>

  Un disco fallido o deshabilitado es aquel que Unraid ha dejado de utilizar para escribir datos, generalmente porque encontr√≥ un error de escritura. Tenga en cuenta que esto no siempre significa que el disco en s√≠ est√© roto; a veces, puede deberse a malas conexiones, problemas de energ√≠a o simplemente un fallo temporal.

  Mientras no es obligatorio, muchos usuarios eligen pre-limpiar los nuevos discos para probarlos y ayudar a prevenir fallas tempranas. Puede hacer esto con el complemento Preclear, una prueba extendida %%SMART|smart%% o herramientas del fabricante.

  :::caution
  Si intenta reconstruir usando un %%emulated drive|emulated-disk%% no montable, el nuevo disco tambi√©n se volver√° no montable. Siempre repare el sistema de archivos antes de intentar una reconstrucci√≥n.
  :::
</details>

Si un disco en su sistema Unraid ha fallado o est√° desactivado, ¬°no se preocupe! Puede reemplazarlo y recuperar sus datos. Simplemente siga estos sencillos pasos. Recuerde, necesita un nuevo disco que sea del mismo tama√±o o m√°s grande que el que est√° reemplazando, pero no puede ser m√°s grande que su disco de %%paridad m√°s peque√±o|parity-drives%%.

:::important
Antes de comenzar, aseg√∫rese de verificar si hay errores o advertencias en el disco. Unraid debe poder leer todos los discos restantes sin ning√∫n problema para que la reconstrucci√≥n funcione correctamente. Si otro disco est√° fallando, podr√≠a provocar p√©rdida de datos.
:::

Para reemplazar y reconstruir un disco:

1. **Detenga el array:**

   - Inicie sesi√≥n en el Unraid %%WebGUI|web-gui%% (la interfaz web).
   - Encuentra la opci√≥n para detener el arreglo. Esto es necesario antes de que puedas cambiar cualquier disco.

:::tip
Si tu servidor soporta hot-swap, puedes omitir el siguiente paso y simplemente detener el array.
:::

2. **Apague su servidor** (solo si **no** est√° usando intercambio en caliente):
   - Si su servidor no soporta intercambio en caliente, deber√° apagarlo completamente.

3. **Reemplace el disco fallido:**
   - Retire el disco viejo y fallado de su servidor.
   - Inserte el nuevo disco. Solo recuerde, debe ser al menos del mismo tama√±o que el disco anterior pero no m√°s grande que su disco de %%paridad|parity-drives%% m√°s peque√±o.

4. **Encienda el servidor** (si lo apag√≥):
   - Enciende tu servidor si lo apagaste.

5. **Asignar el nuevo disco:**
   - Regrese al %%WebGUI|web-gui%% de Unraid.
   - Encuentre la ranura del disco fallido y asigne su nuevo disco a esa ranura.

6. **Confirme su acci√≥n:**
   - Verifique el cuadro que dice **S√≠, quiero hacer esto** y confirme.

7. **(Opcional) Elija el %%Modo de Mantenimiento|maintenance-mode%%:**
   - Puedes seleccionar el %%modo de mantenimiento|maintenance-mode%%, lo que puede hacer que el proceso de reconstrucci√≥n sea m√°s r√°pido. Sin embargo, durante este tiempo, no podr√° acceder al arreglo en absoluto.
   - Si eliges el %%Modo de Mantenimiento|maintenance-mode%%, aseg√∫rate de hacer clic en **Sincronizar** para iniciar la reconstrucci√≥n.

8. **Inicie la reconstrucci√≥n:**
   - Click **Start** to begin the process. Unraid will copy your data from the %%emulated disk|emulated-disk%% to the new disk.
   - Si tu nuevo disco es m√°s grande, Unraid gestionar√° el espacio adicional por ti.

:::warning
Si Unraid le solicita formatear el nuevo disco durante la reconstrucci√≥n, **no lo haga**. Formatear borrar√° todos los datos y har√° imposible la recuperaci√≥n.
:::

<h4>Qu√© esperar durante la reconstrucci√≥n</h4>

- El array seguir√° disponible para usar durante el proceso de reconstrucci√≥n (a menos que est√© en el %%Modo de Mantenimiento|maintenance-mode%%), pero puede funcionar m√°s lento.
- La reconstrucci√≥n puede tomar varias horas, dependiendo del tama√±o de sus discos y el uso del sistema.
- El nuevo disco tendr√° el mismo sistema de archivos que el original.
- Si el disco viejo era no montable debido a problemas del sistema de archivos, el nuevo disco tampoco ser√° montable. Por favor, solucione cualquier problema del sistema de archivos antes de iniciar la reconstrucci√≥n.

:::note[Additional notas]

- El proceso de reconstrucci√≥n no cambiar√° el formato de archivo del disco; simplemente restaurar√° su forma anterior.
- Siempre verifique el estado de salud de cada disco antes de comenzar una reconstrucci√≥n para evitar posibles problemas.
  :::

#### Intercambio de Paridad

```mdx-code-block

<Tabs>
  <TabItem value="what" label="What is parity swap?">
    <ParitySwapWhat />
  </TabItem>

  <TabItem value="when" label="When to use parity swap?">
    <ParitySwapWhen />
  </TabItem>
</Tabs>
```

<details>
  <summary><strong>Escenario de ejemplo</strong></summary>

  Tiene una configuraci√≥n de Unraid con un **disco de paridad de 2TB** y un **disco de datos de 1TB** y quiere reemplazar el disco de 1TB con un **disco de 4TB**.

  Primero, asigne el nuevo disco de 4TB como el disco de paridad, que reemplazar√° al disco de 2TB. Luego mueva el disco de 2TB original a la ranura de datos y retire el disco de 1TB por completo.

  Despu√©s de estos cambios, tendr√° un disco de 4TB como su nueva paridad, asegur√°ndose de que puede agregar discos de datos futuros de hasta 4TB. El disco de 2TB ahora contendr√° sus datos existentes, mientras que el disco de 1TB puede ser reutilizado.

  Este intercambio mantiene sus datos seguros y su array protegido, permitiendo futuras actualizaciones.
</details>

:::important\[Prerequisites]

- Antes de comenzar, aseg√∫rese de que el disco de datos que desea reemplazar est√© deshabilitado. Si el disco ha fallado (muestra un indicador rojo), ya est√° deshabilitado. Si el disco est√° saludable pero desea reemplazarlo, desasigne el disco y comience el arreglo una vez sin √©l para forzar a Unraid a marcarlo como deshabilitado.
- Si su disco de datos de reemplazo no es m√°s grande que su disco de paridad, use el procedimiento est√°ndar de [Reemplazo de un Disco de Datos](#replacing-faileddisabled-disks) en su lugar.
- Este procedimiento solo es necesario para reemplazar discos de datos en un conjunto de Unraid con un disco m√°s grande que el disco de paridad actual. Si solo necesita actualizar su disco de paridad, simplemente retire el disco de paridad viejo, agregue el nuevo y comience el conjunto. La paridad se reconstruir√° autom√°ticamente.
  :::

:::warning\[Warnings]

- Always verify the health of all drives using %%SMART reports|smart-report%% before starting a %%parity swap|parity-swap%%. Attempting this procedure with another failing or unhealthy disk increases the risk of data loss.
- Si es posible, pre-limpie el nuevo disco. Aunque no es necesario, pre-limpiar comprueba la resistencia del disco y reduce el riesgo de fallo temprano.
- Identifique correctamente todos los discos antes de comenzar. Anote los n√∫meros de modelo y los √∫ltimos cuatro caracteres de cada n√∫mero de serie para evitar errores durante la asignaci√≥n.
  :::

Para realizar un intercambio de paridad:

:::note
Si el disco a ser reemplazado ya est√° deshabilitado (fallido), es posible que no necesite realizar los pasos 1-4. Si ya ha instalado la nueva unidad de reemplazo (por ejemplo, despu√©s de pre-limpiarla), puede omitir los pasos 5-8.
:::

1. **Detener el array** si est√° en funcionamiento.
2. **Desasigne la vieja unidad de datos** si todav√≠a est√° asignada. Si el disco estaba previamente saludable, puede ver notificaciones de error por un disco faltante - esto es esperado.
3. **Inicie el arreglo.** Si se le solicita, marque la casilla confirmando su acci√≥n. El disco de datos ahora deber√≠a mostrar como "No instalado."
4. **Detenga el array nuevamente.** En este punto, el array trata el disco como fallido.
5. **Apaga el servidor.**

   :::tip
   Si su sistema admite **hot-swap**, no necesita apagar para quitar o instalar discos. Solo aseg√∫rese de que el array est√© detenido antes de hacer cambios de hardware.
   :::

:::

6. *(Opcional)* **Retire la unidad vieja.** Puede desear mantenerla instalada para pruebas o reasignarla.
7. **Instale el nuevo disco.** Se recomienda encarecidamente pre-limpiar, pero no es necesario formatear.
8. **Encienda el servidor.**
9. **Detenga el arreglo** si se inici√≥ autom√°ticamente. Si ve un mensaje sobre intentar desmontar comparticiones de disco, deshabilita los servicios de Docker y/o VM en Configuraciones, reinicie e intente de nuevo.
10. **Desasigne el disco de paridad.**
11. **Asigne el nuevo disco a la ranura de paridad.** Puede recibir notificaciones de error - esto es normal.
12. **Asigne el disco de %%paridad|parity-drives%% viejo a la ranura de datos** del disco que est√° siendo reemplazado. Tanto el disco de paridad como el disco de datos de reemplazo ahora deber√≠an mostrar indicadores de estado azules.
13. **Vaya a *Principal ‚Üí Operaci√≥n del Arreglo.*** Deber√≠a ver un bot√≥n de **Copiar** y un mensaje indicando "Copiar llevar√° la informaci√≥n de paridad al nuevo disco de %%paridad|parity-drives%%."
14. **Confirme e inicie el proceso de copia.** Verifique el cuadro de confirmaci√≥n y haga clic en **Copiar**. El arreglo no estar√° disponible durante esta operaci√≥n.

- El proceso de copia puede tomar muchas horas, dependiendo del tama√±o del disco. Cuando finalice, el arreglo estar√° detenido y listo para una reconstrucci√≥n de datos.

15. **Inicie el array para comenzar la reconstrucci√≥n de datos.**
    - Confirme su acci√≥n si se le solicita. El arreglo ahora est√° iniciado y los datos se reconstruyen en el nuevo disco de datos.
    - Puede usar el array durante la reconstrucci√≥n, pero para mejor rendimiento, limite el uso.
    - El proceso de reconstrucci√≥n tambi√©n tomar√° varias horas.

:::warning
Nunca formatee un disco durante este proceso. Formatear borrar√° todos los datos y actualizar√° la paridad, haciendo imposible la recuperaci√≥n.
:::

After completion, you will have a larger parity disk and a replaced data disk. Many users run a %%parity check|parity-check%% afterward for extra confidence, though this is optional.

---

### Remoci√≥n de discos

Es posible que llegue un momento en que desee eliminar un disco de su arreglo Unraid. Ya sea que est√© buscando ahorrar energ√≠a, retirar un disco viejo o poco confiable, o reutilizar hardware para un uso diferente, el proceso es bastante sencillo.

#### Removiendo discos de paridad

Si encuentra que ya no necesita el nivel de protecci√≥n de %%paridad|parity%% en su configuraci√≥n, puede eliminar un disco de %%paridad|parity-drives%% cuando desee.

Para eliminar un disco de %%paridad|parity-drives%%:

1. **Detenga el array:** Comience accediendo al %%WebGUI|web-gui%% y deteniendo el array.
2. **Desasigne los discos de %%paridad|parity-drives%%:** Ubique la ranura de los discos de %%paridad|parity-drives%% y config√∫rela como "No asignado".
3. **Inicie la matriz:** Finalmente, reinicie la matriz para aplicar los cambios y eliminar con √©xito los discos de %%paridad|parity-drives%% de la configuraci√≥n.

:::warning
Before you make any changes, please keep this in mind: If you already have any failed data drives in your array, removing a %%parity disk|parity-drives%% can decrease the number of failures Unraid can handle without risking data loss.

- Con dual paridad, puedes recuperar de una sola unidad fallida, pero ten en cuenta que no podr√°s sobrevivir a otra falla durante el proceso de reconstrucci√≥n.
- Con una sola paridad, pierde toda redundancia, lo que significa que cualquier fallo adicional de disco podr√≠a resultar en p√©rdida de datos.
  :::

#### Eliminar discos de datos

Eliminar un disco de datos es un proceso sencillo, pero es importante recordar que necesitar√°s realizar una sincronizaci√≥n de %%parity|parity%% despu√©s. Hasta que esta sincronizaci√≥n est√© completa, hay un riesgo de p√©rdida de datos si otro disco falla.

Puedes elegir entre dos m√©todos para eliminar un disco de datos:

1. **M√©todo est√°ndar** - Recomendado para la mayor√≠a de los usuarios.
2. **M√©todo de preservaci√≥n de paridad** - Adecuado para usuarios avanzados que desean mantener la paridad durante la eliminaci√≥n.

```mdx-code-block

<Tabs>
  <TabItem value="standard" label="Standard method" default>
    <RemoveDataDiskStandard />
  </TabItem>

  <TabItem value="parity-preserve" label="Parity-preserve method (Advanced)">
    <RemoveDataDiskParityPreserve />
  </TabItem>
</Tabs>
```

---

### Verificaci√≥n de dispositivos del arreglo

Verificar regularmente su arreglo Unraid es crucial para mantener la integridad de los datos e identificar problemas potenciales antes de que resulten en p√©rdida de datos. Puede iniciar una verificaci√≥n utilizando el bot√≥n **Verificar** en ***Operaciones del Arreglo***. Dependiendo de la configuraci√≥n de su arreglo, este bot√≥n le permite realizar una verificaci√≥n de %%paridad|parity-check%% o de lectura.

<div style={{ margin: 'auto', maxWidth: '400px', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
  ![The check button lets you perform parity and read checks](/img/Check_button.PNG)
</div>

Para comodidad, puede programar estas verificaciones para que se ejecuten autom√°ticamente en intervalos que se adapten a usted navegando a ***Configuraci√≥n ‚Üí Programador***. Se recomienda realizar verificaciones autom√°ticas, no correctivas, mensualmente o trimestralmente para garantizar la salud continua de sus datos.

#### Chequeos de Paridad y Lectura

```mdx-code-block

<Tabs>
  <TabItem value="parity-check" label="Parity checks" default>
    <ArrayCheckParity />
  </TabItem>

  <TabItem value="read-check" label="Read checks">
    <ArrayCheckRead />
  </TabItem>
</Tabs>
```

#### Historial de verificaci√≥n

Siempre que el sistema realice una verificaci√≥n de %%paridad|parity-check%% o una verificaci√≥n de lectura, mantendr√° un registro de lo que ocurri√≥. Puede ver estos detalles f√°cilmente haciendo clic en el bot√≥n **Historial** que se encuentra bajo ***Operaciones del Arreglo*** en la interfaz.

Para aquellos que quieran indagar m√°s a fundo, todos estos registros se guardan en un archivo de texto ubicado en el directorio `config` en tu dispositivo USB de Unraid.

---

### Apagar o encender discos

Unraid allows you to control the power states of your hard drives. You can easily %%spin them up or down|spin-state%%, and manage SSDs to be active or in standby. This helps save energy, extend the life of your drives, and reduce noise when the disks are not being used.

<h4>¬øPor qu√© bajar o subir la velocidad?</h4>

- **Reducir velocidad:** Si tienes discos que no se utilizan con frecuencia, reducir su velocidad puede ahorrar energ√≠a y ayudar a que duren m√°s.
- **Aumentar velocidad:** Si sabes que necesitar√°s los archivos pronto, aumentar la velocidad de los discos con antelaci√≥n puede reducir los tiempos de espera.

<h4>C√≥mo controlar los estados de velocidad</h4>

Puedes controlar los estados de velocidad del disco a trav√©s de la pesta√±a **Main** en el %%WebGUI|web-gui%%.

1. **Ve a la pesta√±a Main** y localiza tus dispositivos de arreglo.
2. **Encuentra los botones de control de velocidad**: cada disco mostrar√° una de las siguientes opciones:
   - Haz clic en el bot√≥n üîò para **Aumentar velocidad** si el disco est√° actualmente en baja velocidad
   - Haz clic en el bot√≥n üü¢ para **Reducir velocidad** si el disco est√° actualmente girando
3. **Haz clic en el bot√≥n apropiado** para la acci√≥n que deseas:
   - Haz clic en **Reducir velocidad** üü¢ para apagar un disco inactivo y ahorrar energ√≠a
   - Haz clic en **Aumentar velocidad** üîò para encender un disco que actualmente est√° en baja velocidad

Recuerda que si un disco est√° siendo accedido (por ejemplo, si est√°s abriendo un archivo), permanecer√° activo e ignorar√° cualquier solicitud de reducir velocidad.

Cuando un disco est√° desactivado, su temperatura no se mostrar√° en el %%WebGUI|web-gui%%. Sin embargo, una vez que cualquier aplicaci√≥n o usuario acceda a √©l, se activar√° autom√°ticamente.

:::tip
Use los controles de activaci√≥n para ahorrar energ√≠a y reducir el desgaste de sus discos. Recuerde que los discos que se est√°n utilizando activamente permanecer√°n encendidos hasta que todas las tareas est√©n terminadas.
:::

---

### Restablecer la configuraci√≥n del arreglo

Restablecer la configuraci√≥n de su arreglo es un paso importante que debe llevarse a cabo con cuidado. Este proceso suele ser necesario cuando se elimina un disco, se comienza desde cero con un nuevo dise√±o de arreglo o se resuelven problemas de asignaci√≥n de discos. Tenga en cuenta que esta acci√≥n puede afectar la protecci√≥n de datos y la paridad, as√≠ que asegurese de proceder solo cuando realmente lo necesite.

Razones comunes para restablecer tu arreglo incluyen:

- **Eliminar o reemplazar discos:** Si necesita retirar o intercambiar discos en su arreglo.
- **Comenzar de nuevo:** Cuando busca crear una nueva disposici√≥n para su arreglo.
- **Corregir errores de asignaci√≥n de discos:** Para corregir cualquier problema con la forma en que los discos est√°n asignados actualmente.
- **Recuperarse de problemas de configuraci√≥n:** Al enfrentar desaf√≠os con su configuraci√≥n existente.

<div style={{ margin: 'auto', maxWidth: '650px', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
  ![Resetear la configuraci√≥n de tu disco se puede hacer a trav√©s de la nueva p√°gina de configuraci√≥n](/img/Newconfig.png)
</div>

Para restablecer la configuraci√≥n de tu arreglo:

1. Ir a la p√°gina **Herramientas** y haz clic en **Nueva Configuraci√≥n**.
2. Puedes mantener algunas asignaciones de disco existentes si solo deseas hacer ajustes menores. Esto puede ahorrar tiempo y minimizar la posibilidad de errores.
3. Confirma tu elecci√≥n marcando la casilla, luego haz clic en **Aplicar**.
4. Vuelve a la pesta√±a **Principal**. Despu√©s de aplicar los cambios, tu configuraci√≥n habr√° sido restablecida.
5. Haz los cambios necesarios en tu configuraci√≥n asignando o desasignando discos seg√∫n sea apropiado.
6. Inicia el arreglo en Modo Normal o %%Maintenance Mode|maintenance-mode%% para finalizar tus actualizaciones.

:::important

- **Preservaci√≥n de datos:** Unraid intentar√° reconocer discos previamente usados y preservar datos donde sea posible.
- **Impacto en la paridad:** Retirar un disco de datos siempre invalidar√° la paridad a menos que ese disco haya sido borrado antes de ser retirado.
- **Corregir errores de asignaci√≥n de discos:** Para corregir cualquier problema con la forma en que los discos est√°n asignados actualmente.

:::caution
When you see the **Start** button, there is a checkbox labeled **Parity is Valid**. Only check this box if you are certain it is correct or if an experienced Unraid user has advised you to do so during recovery. Incorrectly checking this option can lead to data loss.

No utilice **Configuraci√≥n Nueva** si su objetivo es reconstruir un disco. Ejecutar una Configuraci√≥n Nueva borrar√° el historial del conjunto necesario para una reconstrucci√≥n, y Unraid no ofrecer√° reconstruir el disco despu√©s. Siga el procedimiento de reconstrucci√≥n de disco en su lugar.
:::

#### Deshacer un restablecimiento

Si encuentras que necesitas revertir un restablecimiento:

1. Accede a tu dispositivo flash a trav√©s de la red (SMB).
2. Localiza y abre la carpeta `config`.
3. Renombra el archivo `super.old` a `super.dat`.
4. Reinicia tu servidor y tu configuraci√≥n anterior del arreglo deber√≠a ser restaurada.

---

### Informes de estado

Unraid proporciona informes de estado que le ayudan a mantenerse al tanto de la salud de su arreglo de almacenamiento. Estos informes son una forma r√°pida de verificar si alguno de sus discos est√° deshabilitado o si tiene problemas de lectura o escritura de datos.

- **Estado actual:** Los informes de estado muestran la condici√≥n actual de su arreglo. Es importante tener en cuenta que esta informaci√≥n se restablece despu√©s de reiniciar su sistema, por lo que no mantendr√° un historial de problemas anteriores.

- **Sin datos hist√≥ricos:** Si deseas ver qu√© ha ocurrido antes de un reinicio, tendr√°s que buscar en otro lugar, ya que estos informes no guardan estados pasados.

:::important
Recuerde que los informes de estado no incluyen datos %%SMART|smart%%. Los informes %%SMART|smart-report%% le ofrecen una vista m√°s detallada sobre la salud individual de los discos. As√≠ que, incluso si su informe de estado muestra que todo est√° bien, revisar los informes %%SMART|smart-report%% regularmente sigue siendo una buena idea para detectar cualquier problema potencial a tiempo.
:::

---

## Modos de escritura del arreglo

Unraid proporciona diversos modos de escritura para gestionar las operaciones del arreglo, cada uno con sus propias ventajas y desventajas en cuanto a velocidad, consumo de energ√≠a y desgaste de los discos. Conocer c√≥mo funcionan estos modos, junto con el papel de una unidad de cach√© o pool, puede ayudarlo a afinar su servidor para que se adapte mejor a sus necesidades.

**Modos de escritura a simple vista**

| Modo de Escritura                | Velocidad (T√≠pica)                       | Uso de energ√≠a | Cuando las unidades se activan       | Protecci√≥n de datos     | Mejor caso de uso                                                                                 |
| -------------------------------- | ---------------------------------------- | -------------- | ------------------------------------ | ----------------------- | ------------------------------------------------------------------------------------------------- |
| Leer/Modificar/Escribir          | 20‚Äì40 MB/s                               | Bajo           | Solo la paridad y la unidad objetivo | S√≠                      | La mayor√≠a de las cargas de trabajo, ahorro de energ√≠a, escrituras peque√±as                       |
| Turbo Escritura (Reconstrucci√≥n) | 40‚Äì120 MB/s                              | Alta           | Todas las unidades                   | S√≠                      | Transferencias de archivos grandes, reconstrucciones del arreglo, %%parity checks\|parity-check%% |
| Escritura en Cach√© (SSD/NVMe)    | 50‚Äì110 MB/s (SSD), 250‚Äì900 MB/s (NVMe)\* | Var√≠a          | Solo las unidades de cach√©           | No (hasta que se mueva) | Aplicaciones, VMs, escrituras frecuentes, maximizar velocidad                                     |

<h3>Leer/Modificar/Escribir</h3>

<details>
  <summary>Haz clic para expandir/colapsar</summary>

  <h4>C√≥mo funciona</h4>
  Este modo lee los datos existentes y la paridad, calcula la nueva paridad y luego escribe los datos actualizados. Solo el %%parity drive|parity-drives%% y el disco de datos objetivo se activan, lo que resulta en un menor uso de energ√≠a y menos desgaste en los discos. Sin embargo, puede ser m√°s lento debido a los ciclos adicionales de lectura/escritura.

  <h4>Cu√°ndo usar</h4>

  - En cualquier momento, especialmente si deseas ahorro de energ√≠a y que las unidades en reposo se activen.
  - Ideal para escrituras peque√±as o infrecuentes.
</details>

<h3>Turbo Escritura (Escritura reconstruida)</h3>

<details>
  <summary>Haz clic para expandir/colapsar</summary>

  Escritura turbo, tambi√©n conocida como escritura reconstructiva, es una funci√≥n dise√±ada para aumentar la velocidad de escritura de su array de Unraid. Funciona leyendo todos los discos de datos y actualizando la paridad simult√°neamente. Este proceso elimina los retrasos causados por esperar que los platos giren, como se ve en el modo de escritura predeterminado. Sin embargo, es importante se√±alar que todos los discos del array deben estar girando y funcionando correctamente para que esto funcione de manera efectiva.

  <h4>C√≥mo funciona</h4>

  - Cuando escribes nuevos datos, Unraid lee de las otras unidades de datos y calcula la paridad al mismo tiempo. Tanto los datos nuevos como la paridad actualizada se escriben juntos.
  - Todas las unidades del arreglo deben estar operativas y activamente girando.
  - Este m√©todo mejora significativamente las velocidades de escritura en comparaci√≥n con el modo de escritura predeterminado.

  <h4>Cu√°ndo usar la Turbo Escritura</h4>

  - Utiliza la turbo escritura al transferir archivos grandes y secuenciales al arreglo.
  - Es eficaz durante las reconstrucciones del arreglo o %%parity checks|parity-check%%, ya que todas las unidades ya estar√°n girando.
  - Este modo es muy √∫til cuando minimizar el tiempo de escritura es una prioridad y puedes confirmar que todas las unidades est√°n sanas.

  <h4>Cu√°ndo evitar la Turbo Escritura</h4>

  - Evita usar este modo si deseas que tus unidades se apaguen durante los tiempos de inactividad para conservar energ√≠a.
  - La turbo escritura no es ideal para operaciones de escritura peque√±as o poco frecuentes, ya que provoca que todas las unidades se activen para cada escritura, aumentando el consumo de energ√≠a y el desgaste de las unidades.
  - Si sospechas que alguna unidad est√° fallando o es poco confiable, es mejor evitar la turbo escritura, ya que depende de que todas las unidades funcionen.

  :::info
  La escritura turbo es ideal para operaciones masivas y escenarios que requieren alto rendimiento. Sin embargo, puede que no sea la mejor opci√≥n para tareas cotidianas si se enfoca en el ahorro de energ√≠a y minimizar el desgaste de los discos.
  :::
</details>

<h3>Escritura en Cach√©</h3>

<details>
  <summary>Haz clic para expandir/colapsar</summary>

  <h4>C√≥mo funciona</h4>

  Los datos se escriben primero en un SSD r√°pido o NVMe %%cache|cache%% y luego se pueden mover al array principal m√°s adelante por un proceso llamado %%Mover|mover%%. Las velocidades var√≠an:

  - SSD: 50‚Äì110 MB/s
  - NVMe: 250‚Äì900 MB/s (que puede utilizar redes 10GbE)

  Una vez que los datos se trasladan al arreglo, est√°n protegidos por la paridad.

  <h4>Cu√°ndo usar la Escritura en Cach√©</h4>

  - Para compartir operaciones de escritura frecuentes, como aplicaciones, m√°quinas virtuales o descargas.
  - Para mejorar el rendimiento y reducir cualquier latencia percibida de escritura.

  <h4>Expectativas de rendimiento</h4>

  - Sin una unidad de cach√©: Promedio 20‚Äì30 MB/s, con picos de hasta 40 MB/s.
  - Con cach√© SSD: 50‚Äì110 MB/s.
  - Con cach√© NVMe: 250‚Äì900 MB/s dependiendo de las limitaciones de la red o la unidad.

  :::tip
  Considere usar un pool de cache (m√∫ltiples dispositivos) para mayor redundancia y protecci√≥n de datos antes de que el %%Mover|mover%% se ejecute.
  :::
</details>

:::info[Automated Soluciones

- El modo **Auto** (una caracter√≠stica futura) activar√° la turbo escritura solo cuando todas las unidades ya est√©n girando.
- Los complementos de la comunidad (busque "Turbo Write" en la pesta√±a de Aplicaciones) pueden ofrecer opciones avanzadas de automatizaci√≥n o programaci√≥n.
  :::

Para cambiar el Modo de Escritura:

1. Navega a ***Configuraciones ‚Üí Configuraciones de Disco***.
2. Ubica **Tunable (md_write_method)**.
3. Elige tu modo preferido:
   - **Leer/Modificar/Escribir** (predeterminado)
   - **Reconstruct Write** (Turbo Write)
   - **Auto** (caracter√≠stica futura)
4. Haz clic en **Aplicar** para confirmar tu elecci√≥n.

:::important[Quick recapitulaci√≥n

- Usa **Turbo Write** cuando necesites velocidad, pero ten en cuenta el aumento del consumo de energ√≠a y la activaci√≥n de las unidades.
- Utiliza **Escritura en Cach√©** para un rendimiento √≥ptimo, especialmente con unidades SSD o NVMe.
- Para la mayor√≠a de los usuarios, el modo de escritura por defecto ofrece el mejor equilibrio a menos que necesites espec√≠ficamente velocidades m√°s altas.
  :::

---

## Modos de lectura

Cuando uses Unraid, la velocidad a la que puedes leer archivos est√° determinada principalmente por el disco individual que contiene cada archivo. A diferencia de los sistemas %%RAID|raid%% tradicionales, que combinan m√∫ltiples discos para mejorar el rendimiento, Unraid almacena cada archivo en un solo disco. Esto significa que las velocidades de lectura no se incrementar√°n por las velocidades combinadas de varios discos.

<h3>Expectativas de rendimiento</h3>

- **HDD √∫nico t√≠pico:** 70‚Äì250 MB/s (depende del modelo de la unidad, la edad y la ubicaci√≥n de los datos)
- **SSD SATA t√≠pico:** 400‚Äì550 MB/s
- **NVMe SSD (en un pool):** 250‚Äì7,000 MB/s (se aplican limitaciones de generaci√≥n PCIe y red/PCIe; por ejemplo, red 10GbE se limita a ~1,100 MB/s)

:::note[Special casos

- Si un disco est√° deshabilitado y sus datos est√°n siendo reconstruidos, Unraid usar√° las unidades restantes junto con la informaci√≥n de paridad para recrear los datos. Durante este proceso, la velocidad de lectura puede reducirse a 30‚Äì60 MB/s o incluso menos, dependiendo del disco m√°s lento en tu sistema.
- Any ongoing operations in the array, such as a %%parity check|parity-check%% or rebuilding a drive, can also affect read performance. This is due to increased movement of the drive heads and overall contention for resources.
  :::

---

## Piscinas de cach√©

Los %%Cache pools|cache-pool%% en Unraid proporcionan ventajas significativas, particularmente para tareas intensivas en escrituras, m√°quinas virtuales (VMs) y contenedores Docker. Estos pools operan por separado del array principal y pueden configurarse con m√∫ltiples discos utilizando los sistemas de archivos %%BTRFS|btrfs%% o %%ZFS|zfs%%, soportando varias configuraciones de %%RAID|raid%% para velocidad y protecci√≥n de datos.

<h3>Pools de cach√© vs. el arreglo principal</h3>

| Caracter√≠stica                     | Pool de cach√© (BTRFS)                                                                                             | Pool de cach√© (ZFS)                                                                                                                                                    | Arreglo principal (Unraid)                                  |
| ---------------------------------- | ----------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| **Velocidad de lectura**           | SSD: 400‚Äì550 MB/s, NVMe: 250‚Äì7,000 MB/s\*                                                                         | SSD: 400‚Äì550 MB/s, NVMe: 250‚Äì7,000 MB/s\*                                                                                                                              | HDD: 70‚Äì250 MB/s (por disco)                                |
| **Velocidad de escritura**         | SSD: 400‚Äì550 MB/s, NVMe: 250‚Äì7,000 MB/s\*                                                                         | SSD: 400‚Äì550 MB/s, NVMe: 250‚Äì7,000 MB/s\*                                                                                                                              | 20‚Äì120 MB/s (dependiente del modo de paridad)               |
| **Protecci√≥n de datos**            | %%RAID 1\|raid1%%/%%RAID 10\|raid10%%; %%RAID 5\|raid5%%/%%RAID 6\|raid6%% (experimental, no para datos cr√≠ticos) | %%RAID 1\|raid1%%/%%RAID 10\|raid10%%; %%RAIDZ1\|raidz1%%/%%RAIDZ2\|raidz2%%/%%RAIDZ3\|raidz3%% (estable, listo para producci√≥n)                                       | Basado en paridad, independiente del sistema de archivos    |
| **Expansi√≥n**                      | Mezclar tama√±os de unidades; agregar/eliminar dispositivos din√°micamente                                          | Soporte limitado de adici√≥n/eliminaci√≥n de dispositivos; no se puede eliminar de RAIDZ; adici√≥n de un solo dispositivo para expandir un √∫nico vdev RAIDZ en Unraid 7.2 | Agregar unidades, pero sin banda ni escalado de rendimiento |
| **Complejidad en la recuperaci√≥n** | Mayor riesgo de p√©rdida de datos; se necesitan herramientas %%BTRFS\|btrfs%%                                      | Mayor riesgo de p√©rdida de datos; se requieren herramientas %%ZFS\|zfs%%                                                                                               | Reconstrucciones m√°s f√°ciles basadas en paridad             |
| **Mejor para**                     | Aplicaciones, m√°quinas virtuales, escrituras frecuentes                                                           | Aplicaciones, m√°quinas virtuales, escrituras frecuentes, cargas de trabajo empresariales                                                                               | Almacenamiento a granel, bibliotecas de medios              |

\**Las velocidades reales de NVMe dependen de la generaci√≥n PCIe, el enfriamiento, y el ancho de banda de la red (p.ej., 10GbE se limita a ~1,100 MB/s).*

<h4>Pros de los pools de cach√©</h4>

- **Mayor rendimiento:** Los pools NVMe pueden saturar redes de 10GbE/40GbE (1,100‚Äì3,500 MB/s).
- **RAID flexible:** Tanto %%BTRFS|btrfs%% como %%ZFS|zfs%% soportan %%RAID 1|raid1%%/%%RAID 10|raid10%% para redundancia sin necesidad de igualar tama√±os de unidades.
- **Baja latencia:** Ideal para bases de datos, m√°quinas virtuales y contenedores Docker.
- **Ventajas de ZFS:** %%ZFS|zfs%% proporciona funciones de grado empresarial como verificaci√≥n de integridad de datos, compresi√≥n y snapshots.

<h4>Contras de los pools de cach√©</h4>

- **Sin protecci√≥n de paridad:** Los datos no est√°n protegidos hasta que se trasladan al arreglo.
- **Riesgos de recuperaci√≥n:** %%BTRFS|btrfs%% %%RAID 5|raid5%%/%%RAID 6|raid6%% es inestable; los pools de un solo disco carecen de redundancia.
- **Consideraciones de ZFS:** %%ZFS|zfs%% requiere m√°s memoria RAM y tiene requisitos de hardware m√°s estrictos que %%BTRFS|btrfs%%.

Para obtener informaci√≥n m√°s detallada sobre %%cache pools|cache-pool%%, incluyendo c√≥mo configurarlos, gestionarlos y caracter√≠sticas avanzadas, consulte la p√°gina [Pools de Cach√©](./cache-pools.mdx).

---

## Soluci√≥n de problemas

### Soluci√≥n de fallos de inicio del arreglo

Si tu conjunto no arranca, sigue estos pasos para identificar y solucionar problemas comunes. Busca mensajes de error bajo ***Principal ‚Üí Operaci√≥n del conjunto***.

```mdx-code-block

<Tabs>
  <TabItem value="missing-disks" label="Missing disks" default>
    <TroubleshootMissingDisks />
  </TabItem>

  <TabItem value="device-limit" label="Device limit">
    <TroubleshootDeviceLimit />
  </TabItem>

  <TabItem value="key-issues" label="License issues">
    <TroubleshootLicenseIssues />
  </TabItem>

  <TabItem value="key-server" label="Key server connection">
    <TroubleshootKeyServer />
  </TabItem>

  <TabItem value="withdrawn" label="Withdrawn release">
    <TroubleshootWithdrawnRelease />
  </TabItem>
</Tabs>
```

### Fallo de disco durante una reconstrucci√≥n

Si un segundo disco falla mientras est√° reconstruyendo otro, lo que pueda hacer depender√° de su configuraci√≥n de paridad.

<h4>Disco de %%paridad √∫nico|parity-drives%%</h4>

Si un disco falla durante la reconstrucci√≥n de otro, la reconstrucci√≥n se detendr√° porque los datos no se pueden restaurar con precisi√≥n. Lamentablemente, no podr√°s recuperar tus datos en esta situaci√≥n.

<h4>Disco de %%paridad dual|parity-drives%%</h4>

Si tiene dos discos de %%paridad|parity-drives%%, tiene m√°s opciones:

- Puedes esperar a que la primera reconstrucci√≥n termine y luego ocuparte del segundo disco fallido.
- O puedes detener la reconstrucci√≥n actual, reemplazar el segundo disco fallido y luego iniciar el arreglo para reconstruir ambos discos al mismo tiempo.

Si la primera reconstrucci√≥n est√° casi terminada, generalmente es mejor dejar que termine. Si reci√©n comenz√≥, podr√≠a ser m√°s r√°pido reconstruir ambos juntos.

:::warning
Reconstruir discos pone mucha tensi√≥n en todas las unidades, lo que aumenta la probabilidad de nuevas fallas. Siempre verifica la salud del disco usando informes %%SMART|smart-report%% antes de comenzar una reconstrucci√≥n.
:::

:::info[Rebuild Tiempo]
Prep√°rate para que el proceso de reconstrucci√≥n tome varias horas. El tiempo puede variar seg√∫n el tama√±o del disco y qu√© tan ocupado est√© tu sistema. Los discos m√°s grandes y los sistemas ocupados pueden tardar m√°s.
:::
