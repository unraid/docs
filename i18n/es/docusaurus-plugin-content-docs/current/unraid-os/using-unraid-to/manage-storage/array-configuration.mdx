---
sidebar_position: 2
sidebar_label: Configuración de la matriz
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import AddDataDiskParityProtected from "./partials/add-data-disk-parity-protected.mdx";
import AddDataDiskNoParity from "./partials/add-data-disk-no-parity.mdx";
import ParitySwapWhat from "./partials/parity-swap-what.mdx";
import ParitySwapWhen from "./partials/parity-swap-when.mdx";
import RemoveDataDiskStandard from "./partials/remove-data-disk-standard.mdx";
import RemoveDataDiskParityPreserve from "./partials/remove-data-disk-parity-preserve.mdx";
import ArrayCheckParity from "./partials/array-check-parity.mdx";
import ArrayCheckRead from "./partials/array-check-read.mdx";
import TroubleshootMissingDisks from "./partials/troubleshoot-missing-disks.mdx";
import TroubleshootDeviceLimit from "./partials/troubleshoot-device-limit.mdx";
import TroubleshootLicenseIssues from "./partials/troubleshoot-license-issues.mdx";
import TroubleshootKeyServer from "./partials/troubleshoot-key-server.mdx";
import TroubleshootWithdrawnRelease from "./partials/troubleshoot-withdrawn-release.mdx";

# Configuración de la matriz

El sistema de almacenamiento de Unraid combina flexibilidad con protección de datos mediante su arquitectura de %%array|array%% y %%cache|cache%%. El %%array|array%% gestiona su almacenamiento principal con protección de %%paridad|parity%% opcional, mientras que los grupos de caché aceleran el rendimiento.

A continuación se presentan algunos principios importantes para la configuración de la matriz:

<details>
  <summary><strong>Siempre use su(s) unidad(es) más grandes para la paridad.</strong></summary>

  Cuando añada más discos a su %%array|array%% más tarde, recuerde que no puede usar un disco de datos que sea más grande que sus %%parity disks|parity-drives%%. Es una buena idea comprar el disco duro más grande para sus %%parity disks|parity-drives%% al principio. De esta manera, no estará limitado por tamaños más pequeños cuando expanda más tarde.

  Si usa dos %%parity disks|parity-drives%%, pueden ser de diferentes tamaños. Sin embargo, tenga en cuenta que ningún disco en su %%array|array%% puede ser más grande que el más pequeño de los %%parity disks|parity-drives%% que tenga.
</details>

<details>
  <summary><strong>No use SSDs en el array - guárdelos para pools o dispositivos no asignados.</strong></summary>

  Unraid no admite operaciones TRIM o Discard para SSDs en el array principal. Con el tiempo, esto causará que el rendimiento de los SSD se degrade si se utilizan como miembros del array. Para obtener los mejores resultados, use SSDs en %%cache pools|cache-pool%% o como dispositivos no asignados, donde estas funciones son compatibles y se mantiene el rendimiento a largo plazo. La mayoría de los SSD modernos, incluidos los NVMe, funcionan bien en estos roles.
</details>

<details>
  <summary><strong>Usar un cache mejorará el rendimiento de escritura del array.</strong></summary>

  En lugar de escribir directamente en el almacenamiento principal, los datos se envían primero a un disco dedicado o a un grupo de discos. Estos datos luego se mueven al almacenamiento principal en horarios programados, generalmente una vez al día a las 3:40 AM. Lo mejor de todo es que los datos guardados en la %%cache|cache%% aún aparecen a través de sus %%user shares|user-share%%, por lo que no tiene que cambiar cómo accede a sus archivos.
</details>

<details>
  <summary><strong>Crear un pool de cache ayuda a mantener seguros sus datos en cache.</strong></summary>

  Usar solo un dispositivo de cache pone en riesgo sus datos en cache hasta que se muevan al array principal. Para proteger sus datos en todo momento, use múltiples dispositivos configurados como un %%cache pool|cache-pool%%. Esta configuración proporciona redundancia para los datos en cache, reduciendo la posibilidad de pérdida de datos debido a una falla del dispositivo de cache.
</details>

<details>
  <summary><strong>Los dispositivos de cache SSD son excelentes para apps y máquinas virtuales.</strong></summary>

  El uso de SSDs ayuda a que las aplicaciones y las máquinas virtuales (VMs) funcionen más rápido porque pueden acceder a los datos más rápidamente. Los SSDs funcionan bien en un %%cache pool|cache-pool%%, brindándole una excelente combinación de velocidad, eficiencia y seguridad de datos.
</details>

<details>
  <summary><strong>El cifrado está desactivado por defecto.</strong></summary>

  Si desea utilizar el cifrado en su sistema, debe reformatear el disco con un tipo de sistema de archivos cifrado; este proceso elimina todos los datos existentes en el disco. Antes de habilitar el cifrado, mueva sus datos fuera del disco, cambie el sistema de archivos a una opción cifrada, formatee el disco y luego vuelva a mover sus datos. Para obtener más detalles, consulte [Cómo cifrar un disco en Unraid](../../system-administration/secure-your-server/securing-your-data.mdx#how-to-encrypt-a-drive-in-unraid).

  Ten en cuenta que usar cifrado puede dificultar la recuperación de datos si algo sale mal, así que úsalo solo si realmente lo necesitas.
</details>

:::info[Disk Reconocimiento y Flexibilidad de Puerto]

Unraid identifica los discos según sus números de serie y tamaños, no por los puertos SATA específicos a los que están conectados. Esto significa que puedes cambiar las unidades entre diferentes puertos SATA sin afectar sus asignaciones en Unraid. Esta función es especialmente útil para solucionar problemas de hardware, como encontrar un puerto defectuoso o reemplazar cables de alimentación o SATA poco confiables.

:::

:::caution

Tu matriz no iniciará si asignas o conectas más dispositivos de los que permite tu clave de licencia.

:::

## Iniciar/detener la matriz

Cuando tu sistema inicia, normalmente enciende automáticamente la matriz de discos. Sin embargo, si has cambiado recientemente la configuración del disco, como añadir un nuevo disco, la matriz permanecerá apagada para que puedas verificar tu configuración.

:::caution

Unraid ofrece varias opciones de mantenimiento y configuración para tu matriz de almacenamiento. Las operaciones clave incluyen:

:::

Para iniciar o detener la matriz:

1. Haga clic en la pestaña **Principal**.
2. Navega a la sección **Operación de la matriz**.
3. Haz clic en **Iniciar** o **Parar**. Puede que necesites marcar la casilla que dice "Sí, quiero hacer esto" antes de continuar.

---

## Configurando discos nuevos

Unraid ofrece varias opciones de mantenimiento y configuración para tu matriz de almacenamiento. Las operaciones clave incluyen:

import DocCardList from "@theme/DocCardList";

<DocCardList
  items={[
   {
     type: "link",
     href: "#adding-disks",
     label: "Add Disks",
     description: "Expand storage capacity",
   },
   {
     type: "link",
     href: "#replacing-disks",
     label: "Replace Disks",
     description: "Upgrade or swap failed drives",
   },
   {
     type: "link",
     href: "#removing-disks",
     label: "Remove Disks",
     description: "Decommission or reduce array size",
   },
   {
     type: "link",
     href: "#checking-array-devices",
     label: "Checking array devices",
     description: "Monitor SMART data and diagnostics",
   },
   {
     type: "link",
     href: "#spinning-disks-down-or-up",
     label: "Spinning disks down or up",
     description: "Manage disk spin-up/down",
   },
   {
     type: "link",
     href: "#reset-the-array-configuration",
     label: "Reset the array configuration",
     description: "Rebuild array structure",
   },
  ]}
/>

---

### Agregando discos

#### Configurando discos nuevos

1. Go to ***Main → Array Devices*** in the interface.
2. Selecciona el espacio donde deseas agregar el disco y selecciona el disco de la lista desplegable.
3. De forma predeterminada, los nuevos discos de la matriz se formatearán con %%XFS|xfs%%. Si deseas usar %%ZFS|zfs%% o %%BTRFS|btrfs%%, selecciona tu sistema de archivos preferido del menú desplegable.

:::tip[Hot-Swap Característica]

Si utilizas hardware moderno compatible con Unraid, puedes cambiar discos sin apagar tu servidor. Esta función, conocida como intercambio en caliente, está disponible en los servidores de LimeTech desde el principio.

:::

#### Despejar vs. Pre-despejar

Unraid requiere que los discos estén en un estado limpio —completamente llenos de ceros y marcados con una firma especial— antes de agregarlos a una matriz protegida por paridad. Este proceso asegura la integridad de la paridad y mantiene la matriz en línea durante la preparación del disco.

Clearance is mandatory when adding a data disk to a %%parity|parity%%-protected array. If you are adding a %%parity disk|parity-drives%% or working with an array that does not use %%parity|parity%%, clearance is not required.

La operación incorporada de limpieza escribe ceros en el disco en segundo plano, permitiendo que la matriz permanezca disponible. Una vez que el proceso finaliza, el disco debe formatearse antes de usarlo. Este método es eficiente, no requiere herramientas de terceros y es ideal para expansiones rápidas.

Para un enfoque más exhaustivo, la operación pre-limpieza —disponible a través de complementos como [Unassigned Devices Preclear](https://unraid.net/community/apps?q=unassigned+devices#r:~:text=enable%20destructive%20mode.-,Unassigned%20Devices%20Preclear,-dlandon)— realiza una lectura previa para verificar sectores defectuosos, borra el disco y luego verifica la integridad con una lectura posterior. Este paso adicional ayuda a detectar fallas tempranas en el disco, pero lleva significativamente más tiempo y requiere la instalación manual de complementos.

**Regla general:** Usa la operación de despeje integrada para adiciones rápidas a tu matriz o elige pre-despeje si deseas un testeo extenso de la salud del disco antes de ponerlo en servicio.

<h4>Comparación entre Despejar y Pre-despejar</h4>

<div
  style={{
   margin: "auto",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  |                | Borrar                             | Pre-despejar                             |                      |                         |   |           |
  | -------------- | ---------------------------------- | ---------------------------------------- | -------------------- | ----------------------- | - | --------- |
  | **Propósito**  | Garantiza la compatibilidad básica | Tests the drive and prepares it          |                      |                         |   |           |
  | for use        |                                    | **Velocidad**                            | Funciona rápidamente | Proceso mucho más lento |   | \*\*Array |
  | Impact\*\*     | Funciona en segundo plano          | Requires the disk to be out of the array |                      |                         |   |           |
  | **Mejor para** | Ideal para expansiones rápidas     | Genial para chequear discos nuevos       |                      |                         |   |           |
</div>

%%Parity disks|parity-drives%% are a helpful feature that provide an extra layer of protection for your data. They allow your storage system to recover information if a hard drive fails. While using %%parity disks|parity-drives%% is optional, it's highly recommended to keep your data safe.

**Pre-despejar** toma más tiempo pero proporciona un test exhaustivo, asegurando que un disco nuevo es confiable antes de que se incorpore a tu matriz.

:::caution[Critical Nota]

Evita formatear un disco pre-despejado antes de incluirlo en la matriz, ya que esto elimina la firma de despeje.

:::

#### Agregar discos de datos

Agregar discos de datos es una excelente manera de aumentar el espacio de almacenamiento de tu matriz Unraid. Al agregar más discos, puedes mantener más archivos, aplicaciones y copias de seguridad, mientras proteges tus datos.

:::important[Important Nota:]

Al agregar un nuevo disco de datos, debe ser del mismo tamaño o menor que tus actuales %%parity disks|parity-drives%%. Si deseas usar un disco más grande, primero debes reemplazar los %%parity disks|parity-drives%% con el más grande, luego usar los antiguos %%parity disks|parity-drives%% como disco de datos.

:::

<details>
  <summary><strong>¿Qué tamaño necesita tener mi disco de paridad?</strong> - Haz clic para expandir/colapsar</summary>

  ```mdx-code-block

  <Tabs>
    <TabItem value="standard" label="Standard addition (Parity-protected)" default>
      <AddDataDiskParityProtected />
    </TabItem>

    <TabItem value="no-parity" label="Addition without parity">
      <AddDataDiskNoParity />
    </TabItem>
  </Tabs>
  ```
</details>

#### Agregando discos de paridad

%%Parity disks|parity-drives%% are a helpful feature that provide an extra layer of protection for your data. They allow your storage system to recover information if a hard drive fails. While using %%parity disks|parity-drives%% is optional, it's highly recommended to keep your data safe.

:::important\[Requirements]

- **Paridad Única:** El disco debe ser al menos del mismo tamaño que tu disco de datos más grande.
- **Doble Paridad:** Ambos %%parity disks|discos de paridad%% también deben ser al menos del tamaño de tu disco de datos más grande, pero pueden tener tamaños diferentes entre sí.

:::

Agregar un %%parity disk|disco de paridad%% es similar a agregar un disco de datos, pero hay un paso importante a tener en cuenta:

1. Después de seleccionar el %%parity disk|disco de paridad%% y de iniciar tu matriz de almacenamiento, comienza un proceso llamado **cálculo de paridad**.
2. Mientras este proceso se ejecuta, aún puedes acceder a tus archivos. Sin embargo, el sistema podría funcionar un poco más lento porque está trabajando para calcular la paridad.

<details>
  <summary><strong>En profundidad: ¿Qué es la paridad y por qué importa?</strong> - Haz clic para expandir/colapsar</summary>

  %%Parity|parity%% in Unraid protects your data by ensuring that you can recover from a drive failure. With the use of a %%parity disk|parity-drives%%, any single missing disk can be reconstructed by combining the information from all other data drives along with the %%parity|parity%% data.

  Unraid confía en esta paridad en tiempo real para dos propósitos principales:

  - Reconstruir datos cuando un disco falla
  - Corregir errores cuando se encuentra un sector defectuoso

  Esta característica te permite mantener tus datos seguros, incluso cuando los discos eventualmente fallan con el tiempo.
</details>

<details>
  <summary><strong>En profundidad: ¿Cómo funciona la paridad en Unraid?</strong> - Haz clic para expandir/colapsar</summary>

  Unraid works with a special bit called the *parity bit*, which is stored for each bit position across all data disks and is managed by a dedicated %%parity disk|parity-drives%%. The %%parity|parity%% is calculated such that the total number of bits in each position across all disks (including the %%parity disk|parity-drives%%) is always an even number, a process known as even parity.

  Unraid confía en esta paridad en tiempo real para dos propósitos principales:

  - Unraid utiliza la operación XOR (OR exclusivo) para este cálculo.
  - Por ejemplo, si tienes cuatro discos y sus 57ª bits son 1, 1, 1, 1, el bit de paridad para esa posición será 0 (porque 1 + 1 + 1 + 1 + 0 = par).
  - Sin embargo, si los 57ª bits son 1, 0, 0, 0, la %%paridad|parity%% de esa posición será 1 (para asegurar que el total siga siendo par).

  Al agregar un nuevo disco, Unraid primero lo limpia escribiendo ceros en todos los bits. Esto permite una rápida inclusión en la matriz protegida, ya que escribir ceros no interfiere con los cálculos de paridad actuales.
</details>

<details>
  <summary><strong>En profundidad: ¿Cómo funciona la paridad en Unraid?</strong> - Haz clic para expandir/colapsar</summary>

  Unraid trabaja con un bit especial llamado *bit de paridad*, que se almacena para cada posición de bit en todos los discos de datos y es administrado por un %%parity disk|parity-drives%% dedicado. La %%parity|parity%% se calcula de forma que el número total de bits en cada posición en todos los discos (incluido el %%parity disk|parity-drives%%) sea siempre un número par, un proceso conocido como paridad par.

  - Lee todas las unidades restantes, incluido el %%parity disk|parity-drives%%.
  - Aplica la %%paridad|parity%% par para resolver los datos faltantes.

  Por ejemplo, si el disco 2 falla:

  - Si los bits relacionados son 1, 1, 1 (además de la %%paridad|parity%%), Unraid calcula: 1 + x + 1 + 1 + 0 = par. Aquí, x debe ser 1 para mantener un total par.
  - Si los bits muestran 1, x, 0, 0, 1 = par, entonces x será igual a 0.

  Esta característica de %%paridad|parity%% permite a Unraid "simular" el disco que falta. Puedes seguir usando la matriz como si la unidad todavía estuviera funcionando. Una vez que instales una nueva unidad en la ranura fallida, Unraid recreará todos los datos que faltan basándose en el estado actual de la %%paridad|parity%% y los otros discos.

  Para asegurar una protección continua y una recuperación efectiva, es importante realizar revisiones regulares de %%paridad|parity-check%%.
</details>

<details>
  <summary><strong>En profundidad: ¿Cómo se reconstruyen los datos usando la paridad?</strong> - Haz clic para expandir/colapsar</summary>

  Tu disco de %%parity|parity%% debe ser **igual o mayor que tu disco de datos más grande**. Por ejemplo:

  - Si tu disco de datos más grande es de 10TB, tu %%parity disk|parity-drives%% debe tener al menos 10TB.
  - Puedes usar varios tamaños de discos de datos de manera libre, siempre que ninguno supere el tamaño del %%parity disk|parity-drives%%.
</details>

<details>
  <summary><strong>¿Qué tamaño necesita tener mi disco de paridad?</strong> - Haz clic para expandir/colapsar</summary>

  Writing to a %%parity|parity%%-protected array involves four disk operations for each write: reading data, reading %%parity|parity%%, writing data, and writing %%parity|parity%%. This process requires a full rotation from each affected drive, so the overall write speed is limited by the slowest drive involved in the operation.

  Agregar un disco de %%parity|parity%% más rápido no necesariamente mejorará las velocidades de escritura, a menos que estés escribiendo simultáneamente en varios discos de datos lentos, permitiendo que el disco de %%parity|parity%% maneje la carga. Típicamente, la velocidad de escritura está restringida por el disco de datos más lento en el que se están escribiendo datos.
</details>

<details>
  <summary><strong>En profundidad: ¿Cómo afecta la paridad al rendimiento de escritura?</strong> - Haz clic para expandir/colapsar</summary>

  La dualidad de %%parity|parity%% permite la recuperación de **dos fallos de disco simultáneos**. En Unraid, el segundo disco de %%parity|paridad%% no simplemente refleja al primero. En cambio:

  - **Paridad 1:** Emplea cálculos de %%paridad|parity%% estándar XOR (par).
  - **Parity 2:** Implements Q-parity using Galois-field syndrome calculations (Reed-Solomon–style), comparable to %%RAID 6|raid6%%. This Galois-field implementation allows Unraid to rebuild from any two simultaneous disk failures. This feature is significant for larger arrays, where the risk of multiple failures increases. Dual %%parity|parity%% significantly boosts resilience without the added overhead of mirrored redundancy.
</details>

:::caution\[Remember]

Al configurar un nuevo sistema de almacenamiento de datos, agrega primero tus discos de datos, asegurándote de que todos utilicen un sistema de archivos compatible. Después de colocar tus discos de datos, puedes agregar un disco de %%parity|parity%% para proteger contra fallas de unidad.

Una vez que se agrega tu disco de %%parity|parity%%, recuerda que cualquier nuevo disco que desees incluir en la matriz debe ser limpiado (vacío) antes de integrarse. Esto es para asegurar que la %%parity|parity%% siga siendo válida y continúe protegiendo tus datos.

:::

#### Reemplazo de discos

Puedes actualizar tu(s) dispositivo(s) %%parity disk|parity-drives%% a uno(s) más grande(s) para usar discos de mayor tamaño en el array o agregar un %%parity disk|parity-drives%% adicional.

:::caution

Si planea seguir los siguientes pasos y solo tiene un %%parity disk|parity-drives%%, tenga en cuenta estos puntos:

- Sus datos estarán desprotegidos hasta que la reconstrucción de la %%paridad|parity%% se complete. Si un disco de datos falla durante este tiempo, podría perder la información en ese disco.
- Si ya tienes una unidad de datos que ha fallado, proceder con estos pasos te impedirá poder reconstruir esa unidad. En este caso, deberías seguir el procedimiento **Parity Swap** en su lugar.

:::

To upgrade a parity drive:

1. **Detener el arreglo:** Usa el %%WebGUI|web-gui%% para detener el arreglo.

:::tip

Si su servidor admite intercambio en caliente, no necesita apagarlo para cambiar discos. Puede omitir de forma segura los pasos 2 y 4.

:::

2. **Apaga el servidor:** Apaga tu servidor para realizar cambios de hardware de manera segura.
3. **Instala el nuevo %%parity disk|parity-drives%%:** Coloca el nuevo, más grande %%parity disk|parity-drives%% en tu servidor.
4. **Enciende el servidor:** Vuelve a encender el servidor.
5. **Asigna el nuevo disco:** Ve a la ranura de paridad en tus configuraciones y asigna el nuevo disco, reemplazando el antiguo.
6. **Inicia el arreglo:** Usa el %%WebGUI|web-gui%% para iniciar el arreglo de nuevo.

Una vez que el arreglo esté de nuevo en línea, Unraid comenzará a construir la %%parity|parity%% en el disco nuevo. Puedes seguir accediendo a tus datos durante este tiempo, pero ten en cuenta que podría ser un poco más lento hasta que el proceso termine. ¡Una vez que la construcción de la %%parity|parity%% esté completa, tus datos estarán protegidos de nuevo!

:::important[Important Consejos]

- **Conserva el disco antiguo:** No retires el antiguo %%parity disk|parity-drives%% hasta que la nueva construcción de %%parity|parity%% finalice. Si un disco de datos falla durante la actualización, tener el disco antiguo puede ayudarte a recuperar tus datos.

- **Usuarios de doble paridad:** Si tienes dos %%parity disks|parity-drives%%, actualiza uno a la vez para mayor seguridad.

- **Reutiliza el disco antiguo:** Después de la actualización, puedes usar el viejo %%parity disk|parity-drives%% como disco de datos si aún satisface tus necesidades de almacenamiento.

:::

---

### Reemplazo de discos

Es posible que necesites reemplazar discos en tu arreglo por dos razones principales:

1. [**Actualización de capacidad**](#upgrading-capacity): Tu almacenamiento está casi lleno, y deseas usar discos más grandes.
2. [**Fallo o retiro**](#replacing-faileddisabled-disks): Un disco ha fallado o ya no es compatible.

Aunque el proceso de reemplazo de discos es similar en ambos casos, ten cuidado, ya que existe el riesgo de pérdida de datos durante el reemplazo. Los dispositivos de paridad ayudan a proteger tus datos; un dispositivo de paridad puede salvaguardarte contra la falla de un solo disco, mientras que dos pueden proteger contra la pérdida de datos si fallan dos discos. Siempre ten en cuenta tu nivel de protección durante el reemplazo de discos.

#### Actualización de capacidad

Al actualizar tu disco de datos a uno más grande, ten en cuenta estos puntos:

- **Discos no montables:** Arregla cualquier disco no montable antes de actualizar. Un estado no montable no se resolverá durante la reconstrucción.

- **Riesgos de paridad única:** Si tienes paridad única, corres el riesgo de pérdida de datos si otra unidad falla durante la actualización. Busca consejo en foros si esto sucede.

- **Protección de paridad dual:** Con paridad dual, estás a salvo de perder datos si una unidad falla mientras se actualiza una sola unidad. También puedes actualizar dos unidades a la vez, pero ten en cuenta que esto aumenta el riesgo ya que no tendrás protección contra la falla de otra unidad.

- **Copia de seguridad del disco antiguo:** Mantén el disco original intacto hasta que se confirme que la actualización ha sido exitosa. Esto proporciona una opción de respaldo si algo sale mal.

:::warning

Reemplazar unidades siempre implica un riesgo. Si otra unidad falla durante la actualización, especialmente con solo una paridad, puede experimentar pérdida de datos. Siempre verifique la salud de sus unidades antes de comenzar el proceso y asegúrese de mantener la antigua unidad intacta hasta que la actualización esté completa y sus datos estén confirmados como seguros.

:::

Para actualizar un disco de datos existente:

1. **Run a parity check:** First, ensure the integrity of your data by running a %%parity check|parity-check%%. Go to [***Tools → Parity Check***](#checking-array-devices) and make sure there are **zero errors**. If parity isn't valid, rebuilding the disk will corrupt its file system.

2. **Stop the array:** Next, you'll want to stop the array. Navigate to ***Main → Array Operation*** and select **Stop**.

3. **Unassign the target disk:** Once the array is stopped, find the disk you want to replace. Remove it from its slot in ***Main → Array Devices***.

4. **Iniciar el arreglo:** Ahora, inicia nuevamente el arreglo. Unraid emulará el disco faltante utilizando los discos de paridad y datos existentes. Tienes dos modos para elegir:
   - **%%Maintenance Mode|maintenance-mode%%:** This mode prevents any writes to the %%emulated disk|emulated-disk%%.
   - **Normal Mode:** If you need read/write access to the %%emulated disk|emulated-disk%%, select this option.

:::note

Iniciar el arreglo en Modo Normal en este punto es opcional. Puedes utilizarlo para verificar que el disco emulado se monte y que los datos se vean correctos antes de proceder, pero no es necesario para el proceso de actualización.

:::

5. Antes de comenzar, asegúrese de que el disco de datos que desea reemplazar esté deshabilitado. Si el disco ha fallado (muestra un indicador rojo), ya está deshabilitado. Si el disco está saludable pero desea reemplazarlo, desasigne el disco y comience el arreglo una vez sin él para forzar a Unraid a marcarlo como deshabilitado.

6. Si su disco de datos de reemplazo no es más grande que su disco de paridad, use el procedimiento estándar de [Reemplazo de un Disco de Datos](#replacing-faileddisabled-disks) en su lugar.

7. **Start the array to rebuild:** Finally, start the array again. Unraid will now rebuild the contents of the %%emulated disk|emulated-disk%% onto the new disk. The file system will automatically adjust to take full advantage of the larger disk's capacity.

#### Reemplazo de discos fallidos/desactivados

<details>
  <summary><strong>¿Qué es un disco fallido/deshabilitado?</strong></summary>

  Un disco fallido o deshabilitado es aquel que Unraid ha dejado de utilizar para escribir datos, generalmente porque encontró un error de escritura. Tenga en cuenta que esto no siempre significa que el disco en sí esté roto; a veces, puede deberse a malas conexiones, problemas de energía o simplemente un fallo temporal.

  Algunas indicaciones incluyen:

  <div class="texto--centro">
    ![Una "X" roja indica error de escritura](/img/Diskfailureindicator.png)

    <p class="caption-center">
      *Esta "X" roja muestra qué disco necesita reemplazo.*
    </p>
  </div>

  <br />

  <div class="texto--centro">
    ![Alerta de notificación de falla](/img/Diskfailurenotification.png)
    <p class="caption-center">*Preste atención a estas alertas.*</p>
  </div>

  <br />

  <details>
    <summary><strong>Haz clic para ver cómo diferentes configuraciones de paridad manejan fallos de disco</strong></summary>

    | Escenario de Falla | Sin Paridad | Paridad Única | Paridad Dual |
    | ------------------ | ----------- | ------------- | ------------ |

    \| **1 Falla de Disco**  | Datos Perdidos | Reconstruible   | Reconstruible |
    \| **2 Fallas de Disco** | Datos Perdidos | Datos Perdidos    | Reconstruible |

    :::tip[Consejos para Reconstrucciones Seguras]

    - **Para Paridad Simple:** Solo puede reemplazar un disco a la vez. Si otro disco falla durante la reconstrucción, podría perder datos.
    - **Para Doble Paridad:** Puede reemplazar uno o dos discos al mismo tiempo, pero sea cauteloso si más de dos discos fallan.
      :::

    :::important
    Si experimenta una situación en la que **más discos fallan de los que su paridad puede proteger:**

    1. **Detenga inmediatamente todas las operaciones de escritura** para prevenir una mayor pérdida de datos.
    2. Busque ayuda publicando su problema en los [foros de Unraid](https://forums.unraid.net/) junto con diagnósticos.
    3. **No intente una reconstrucción** hasta haber recibido asesoramiento - concéntrese primero en salvar sus datos.
       :::
  </details>
</details>

<details>
  <summary><strong>Cómo diagnosticar el problema</strong></summary>

  Para diagnosticar el problema, comienza revisando el %%syslog|syslog%% y los informes %%SMART|smart-report%%:

  - Si el %%syslog|syslog%% muestra que el disco se ha reiniciado, podría haber un problema con la conexión o los cables.
  - Los informes %%SMART|smart-report%% pueden ayudar a evaluar la salud del disco, pero la mejor manera de verificarlo es realizando una prueba extendida de %%SMART|smart%%. Si se completa sin errores, es probable que el disco esté bien.
  - Si ves errores %%CRC|crc-errors%%, generalmente apunta a problemas con el cableado. Ten cuidado con estos errores, ya que se acumulan con el tiempo y no se reinician.

    :::tip
    Para mantenerse informado sobre problemas de discos, [active las notificaciones](../../getting-started/set-up-unraid/customize-unraid-settings.mdx#notification-settings) en Unraid. De esta manera, será alertado de inmediato si algo sale mal, reduciendo el riesgo para sus datos.
    :::
</details>

<details>
  <summary><strong>¿Qué es la emulación?</strong></summary>

  Cuando un disco está deshabilitado, Unraid usará su paridad y otros discos funcionantes para emular el disco fallido. Esto significa que su sistema continúa operando y aún puede acceder a los datos almacenados en el %%emulated drive|emulated-disk%%:

  - Unraid dejará de escribir en el disco físico, y cualquier actualización se guardará en la paridad y la emulación en su lugar.
  - Before replacing the failed drive, you can check and recover data from the %%emulated drive|emulated-disk%%, which keeps the physical drive intact for potential recovery.
  - If you can't access the %%emulated drive|emulated-disk%%, repairing the file system is essential before any rebuild since fixing the file system is quicker and more effective than a rebuild.
</details>

<details>
  <summary><strong>¿Qué es un disco fallido/deshabilitado?</strong></summary>

  Un disco fallido o deshabilitado es aquel que Unraid ha dejado de utilizar para escribir datos, generalmente porque encontró un error de escritura. Tenga en cuenta que esto no siempre significa que el disco en sí esté roto; a veces, puede deberse a malas conexiones, problemas de energía o simplemente un fallo temporal.

  Mientras no es obligatorio, muchos usuarios eligen pre-limpiar los nuevos discos para probarlos y ayudar a prevenir fallas tempranas. Puede hacer esto con el complemento Preclear, una prueba extendida %%SMART|smart%% o herramientas del fabricante.

  :::caution
  If you try to rebuild using an unmountable %%emulated drive|emulated-disk%%, the new drive will also become unmountable. Always repair the file system before attempting a rebuild.
  :::
</details>

Si un disco en su sistema Unraid ha fallado o está desactivado, ¡no se preocupe! Puede reemplazarlo y recuperar sus datos. Simplemente siga estos sencillos pasos. Recuerde, necesita un nuevo disco que sea del mismo tamaño o más grande que el que está reemplazando, pero no puede ser más grande que su disco de %%paridad más pequeño|parity-drives%%.

:::important

Antes de comenzar, asegúrese de verificar si hay errores o advertencias en el disco. Unraid debe poder leer todos los discos restantes sin ningún problema para que la reconstrucción funcione correctamente. Si otro disco está fallando, podría provocar pérdida de datos.

:::

Para reemplazar y reconstruir un disco:

1. **Inicie el array para comenzar la reconstrucción de datos.**
   - Inicie sesión en el Unraid %%WebGUI|web-gui%% (la interfaz web).
   - Puede usar el array durante la reconstrucción, pero para mejor rendimiento, limite el uso.

:::tip

After completion, you will have a larger parity disk and a replaced data disk. Many users run a %%parity check|parity-check%% afterward for extra confidence, though this is optional.

:::

2. **Apague su servidor** (solo si **no** está usando intercambio en caliente):
   - Si su servidor no soporta intercambio en caliente, deberá apagarlo completamente.

3. **Reemplace el disco fallido:**
   - Retire el disco viejo y fallado de su servidor.
   - Inserte el nuevo disco. Solo recuerde, debe ser al menos del mismo tamaño que el disco anterior pero no más grande que su disco de %%paridad|parity-drives%% más pequeño.

4. **Encienda el servidor** (si lo apagó):
   - Enciende tu servidor si lo apagaste.

5. **Asignar el nuevo disco:**
   - Regrese al %%WebGUI|web-gui%% de Unraid.
   - Encuentre la ranura del disco fallido y asigne su nuevo disco a esa ranura.

6. **Confirme su acción:**
   - Verifique el cuadro que dice **Sí, quiero hacer esto** y confirme.

7. **(Opcional) Elija el %%Modo de Mantenimiento|maintenance-mode%%:**
   - Puedes seleccionar el %%modo de mantenimiento|maintenance-mode%%, lo que puede hacer que el proceso de reconstrucción sea más rápido. Sin embargo, durante este tiempo, no podrá acceder al arreglo en absoluto.
   - If you choose %%Maintenance Mode|maintenance-mode%%, you will still click **Start** in the next step to begin the rebuild.

8. **Inicie la reconstrucción:**
   - Click **Start** to begin the process. Unraid will copy your data from the %%emulated disk|emulated-disk%% to the new disk.
   - Si tu nuevo disco es más grande, Unraid gestionará el espacio adicional por ti.

:::warning

Si Unraid le solicita formatear el nuevo disco durante la reconstrucción, **no lo haga**. Formatear borrará todos los datos y hará imposible la recuperación.

:::

<h4>Qué esperar durante la reconstrucción</h4>

- **Detenga el array:** Comience accediendo al %%WebGUI|web-gui%% y deteniendo el array.
- **Desasigne los discos de %%paridad|parity-drives%%:** Ubique la ranura de los discos de %%paridad|parity-drives%% y configúrela como "No asignado".
- **Inicie la matriz:** Finalmente, reinicie la matriz para aplicar los cambios y eliminar con éxito los discos de %%paridad|parity-drives%% de la configuración.
- Si el disco viejo era no montable debido a problemas del sistema de archivos, el nuevo disco tampoco será montable. Por favor, solucione cualquier problema del sistema de archivos antes de iniciar la reconstrucción.

:::note[Additional notas]

- Con dual paridad, puedes recuperar de una sola unidad fallida, pero ten en cuenta que no podrás sobrevivir a otra falla durante el proceso de reconstrucción.
- Con una sola paridad, pierdes toda la redundancia, lo que significa que cualquier falla adicional en las unidades podría resultar en pérdida de datos.
  :::

:::

#### Re-enabling a disabled disk (rebuilding onto itself)

Sometimes, a disk may be disabled not because it's actually faulty, but due to issues such as loose cables, power problems, or temporary glitches. If that's the case, you can try to re-enable the disabled disk by rebuilding it onto itself instead of replacing it.

:::important[When to use this procedure]

Only use this procedure when:

- The disk was disabled due to external factors (like cables or power issues).
- You've checked the disk's health using [%%SMART reports|smart-report%%](../../system-administration/monitor-performance/smart-reports-and-disk-health.mdx).
- You've fixed any external problems that caused the disk to be disabled.
- The disk seems to be functioning normally.

:::

:::warning[Important consideraciones]

- If you are rebuilding a data drive, make sure that the %%emulated disk|emulated-disk%% shows the right content before you proceed. The rebuild process will ensure that the physical drive matches the emulated one exactly.
- The %%emulated disk|emulated-disk%% may show as 'unmountable' in some cases. Some users assume that a rebuild will automatically fix an unmountable emulated disk, but it's important to verify the situation first. If the emulated disk shows 'unmountable' or the content doesn't look right, ask for help in the [Unraid forums](https://forums.unraid.net/) before proceeding with the rebuild.
- Always run a [%%SMART|smart%% extended test](../../system-administration/advanced-tools/command-line-interface.mdx#smartctl) on the disabled drive to double-check that it's healthy before starting this process.
- If the %%emulated disk|emulated-disk%% shows any file system issues, use the [automated XFS repair feature](../../troubleshooting/common-issues/data-recovery.mdx#running-the-repair) for XFS‑formatted disks, or the respective file system repair options for other file systems in the %%WebGUI|web-gui%% before beginning the rebuild.
- While the rebuild process should preserve your data, it's a good idea to back up important files if you can.

:::

To re-enable a disabled disk by rebuilding it onto itself:

1. **Verify disk health:**
   - Run a [%%SMART|smart%% extended test](../../system-administration/advanced-tools/command-line-interface.mdx#smartctl) on the disabled drive to confirm it's actually healthy.
   - Check for and acknowledge any warning icons in the dashboard that indicate %%SMART|smart%% warnings.

2. **Detener el arreglo:** Usa el %%WebGUI|web-gui%% para detener el arreglo.

3. **Unassign the disabled disk:** Go to ***Main → Array Devices*** and change the disabled disk slot to "Unassigned."

4. **Start the array:** Start the array so Unraid can register the missing disk. The array will display the disk as "Not installed."

5. **Verify emulated content (for data drives only)**: Check that the %%emulated disk|emulated-disk%% shows the content you expect.

6. **Stop the array:** Stop the array to prepare for the next steps.

7. **Reassign the disabled disk:** Assign the same disk back to its original slot.

8. **(Optional) Choose [%%Maintenance Mode|maintenance-mode%%](../../troubleshooting/common-issues/data-recovery.mdx#maintenance-mode):**
   - Selecting %%Maintenance Mode|maintenance-mode%% can speed up the rebuild process by preventing array access during the rebuild.
   - When in %%Maintenance Mode|maintenance-mode%%, you won't be able to use the array until the rebuild completes.
   - %%Maintenance Mode|maintenance-mode%% does not change how the rebuild is started—you'll still click **Start** in the next step.

9. **Start the rebuild:** Click **Start** to begin the rebuild process. Unraid will take the contents from the %%emulated disk|emulated-disk%% and reconstruct them onto the physical drive.

:::info[Rebuild time expectations]

Rebuilding a disk onto itself can take several hours to more than a day for larger drives, depending on the size of the disk and system activity. Factors that can affect rebuild time include drive capacity, disk speed, and system load. You can keep an eye on the progress in the %%WebGUI|web-gui%%.

:::

This procedure works for both data drives and %%parity drives|parity-drives%% that have been disabled.

#### Intercambio de Paridad

```mdx-code-block

<Tabs>
  <TabItem value="what" label="What is parity swap?">
    <ParitySwapWhat />
  </TabItem>

  <TabItem value="when" label="When to use parity swap?">
    <ParitySwapWhen />
  </TabItem>
</Tabs>
```

<details>
  <summary><strong>Escenario de ejemplo</strong></summary>

  Tiene una configuración de Unraid con un **disco de paridad de 2TB** y un **disco de datos de 1TB** y quiere reemplazar el disco de 1TB con un **disco de 4TB**.

  Primero, asigne el nuevo disco de 4TB como el disco de paridad, que reemplazará al disco de 2TB. Luego mueva el disco de 2TB original a la ranura de datos y retire el disco de 1TB por completo.

  Después de estos cambios, tendrá un disco de 4TB como su nueva paridad, asegurándose de que puede agregar discos de datos futuros de hasta 4TB. El disco de 2TB ahora contendrá sus datos existentes, mientras que el disco de 1TB puede ser reutilizado.

  Este intercambio mantiene sus datos seguros y su array protegido, permitiendo futuras actualizaciones.
</details>

:::important\[Prerequisites]

- Antes de comenzar, asegúrese de que el disco de datos que desea reemplazar esté deshabilitado. Si el disco ha fallado (muestra un indicador rojo), ya está deshabilitado. Si el disco está saludable pero desea reemplazarlo, desasigne el disco y comience el arreglo una vez sin él para forzar a Unraid a marcarlo como deshabilitado.
- Si su disco de datos de reemplazo no es más grande que su disco de paridad, use el procedimiento estándar de [Reemplazo de un Disco de Datos](#replacing-faileddisabled-disks) en su lugar.
- Este procedimiento solo es necesario para reemplazar unidades de datos en una matriz Unraid con un disco más grande que el disco de paridad actual. Si solo necesitas actualizar tu disco de paridad, simplemente retira el disco de paridad antiguo, agrega el nuevo, y enciende la matriz. La paridad se reconstruirá automáticamente.

:::

:::warning\[Warnings]

- Always verify the health of all drives using %%SMART reports|smart-report%% before starting a %%parity swap|parity-swap%%. Attempting this procedure with another failing or unhealthy disk increases the risk of data loss.
- Si es posible, pre-limpie el nuevo disco. Aunque no es necesario, pre-limpiar comprueba la resistencia del disco y reduce el riesgo de fallo temprano.
- Identifica correctamente todos los discos antes de comenzar. Anota los números de modelo y los últimos cuatro caracteres de cada número de serie para evitar errores durante la asignación.

:::

Para realizar un intercambio de paridad:

:::note

Si el disco a ser reemplazado ya está deshabilitado (fallido), es posible que no necesite realizar los pasos 1-4. Si ya ha instalado la nueva unidad de reemplazo (por ejemplo, después de pre-limpiarla), puede omitir los pasos 5-8.

:::

1. **Detener el array** si está en funcionamiento.
2. **Desasigne la vieja unidad de datos** si todavía está asignada. Si el disco estaba previamente saludable, puede ver notificaciones de error por un disco faltante - esto es esperado.
3. **Inicie el arreglo.** Si se le solicita, marque la casilla confirmando su acción. El disco de datos ahora debería mostrar como "No instalado."
4. **Detenga el array nuevamente.** En este punto, el array trata el disco como fallido.
5. **Apaga el servidor.**

   :::tip
   Si su sistema admite **hot-swap**, no necesita apagar para quitar o instalar discos. Solo asegúrese de que el array esté detenido antes de hacer cambios de hardware.
   :::

:::

6. *(Optional)* **Remove the old drive.** You may wish to keep it installed for testing or reassignment.
7. **Install the new drive.** Pre-clearing is strongly recommended, but formatting is not needed.
8. **Power on the server.**
9. **Stop the array** if it started automatically. If you see a message about retrying to unmount disk shares, disable Docker and/or VM services in Settings, reboot, and try again.
10. **Unassign the parity drive.**
11. **Assign the new drive to the parity slot.** You may receive error notifications - this is normal.
12. **Assign the old %%parity drive|parity-drives%% to the data slot** of the drive being replaced. Both the parity and replacement data drives should now display blue status indicators.
13. **Go to *Main → Array Operation.*** You should see a **Copy** button and a message stating "Copy will copy the parity information to the new %%parity disk|parity-drives%%."
14. **Confirm and start the copy process.** Check the confirmation box and click **Copy**. The array will not be available during this operation.

- El proceso de copia puede tomar muchas horas, dependiendo del tamaño del disco. Cuando finalice, el arreglo estará detenido y listo para una reconstrucción de datos.

15. **Inicie el array para comenzar la reconstrucción de datos.**
    - Confirme su acción si se le solicita. El arreglo ahora está iniciado y los datos se reconstruyen en el nuevo disco de datos.
    - Puede usar el array durante la reconstrucción, pero para mejor rendimiento, limite el uso.
    - El proceso de reconstrucción también tomará varias horas.

:::warning

Nunca formatee un disco durante este proceso. Formatear borrará todos los datos y actualizará la paridad, haciendo imposible la recuperación.

:::

After completion, you will have a larger parity disk and a replaced data disk. Many users run a %%parity check|parity-check%% afterward for extra confidence, though this is optional.

---

### Remoción de discos

Es posible que llegue un momento en que desee eliminar un disco de su arreglo Unraid. Ya sea que esté buscando ahorrar energía, retirar un disco viejo o poco confiable, o reutilizar hardware para un uso diferente, el proceso es bastante sencillo.

#### Removiendo discos de paridad

Si encuentra que ya no necesita el nivel de protección de %%paridad|parity%% en su configuración, puede eliminar un disco de %%paridad|parity-drives%% cuando desee.

Para eliminar un disco de %%paridad|parity-drives%%:

1. **Detenga el array:** Comience accediendo al %%WebGUI|web-gui%% y deteniendo el array.
2. **Desasigne los discos de %%paridad|parity-drives%%:** Ubique la ranura de los discos de %%paridad|parity-drives%% y configúrela como "No asignado".
3. **Inicie la matriz:** Finalmente, reinicie la matriz para aplicar los cambios y eliminar con éxito los discos de %%paridad|parity-drives%% de la configuración.

:::warning

Antes de realizar cualquier cambio, tenga en cuenta lo siguiente: Si ya tiene algún disco de datos fallido en su matriz, eliminar un %%parity disk|parity-drives%% puede disminuir el número de fallos que Unraid puede manejar sin arriesgar pérdida de datos.

- Con dual paridad, puedes recuperar de una sola unidad fallida, pero ten en cuenta que no podrás sobrevivir a otra falla durante el proceso de reconstrucción.
- Con una sola paridad, pierdes toda la redundancia, lo que significa que cualquier falla adicional en las unidades podría resultar en pérdida de datos.

:::

#### Eliminar discos de datos

Eliminar un disco de datos es un proceso sencillo, pero es importante recordar que necesitarás realizar una sincronización de %%parity|parity%% después. Hasta que esta sincronización esté completa, hay un riesgo de pérdida de datos si otro disco falla.

Puedes elegir entre dos métodos para eliminar un disco de datos:

1. **Método estándar** - Recomendado para la mayoría de los usuarios.
2. **Método de preservación de paridad** - Adecuado para usuarios avanzados que desean mantener la paridad durante la eliminación.

```mdx-code-block

<Tabs>
  <TabItem value="standard" label="Standard method" default>
    <RemoveDataDiskStandard />
  </TabItem>

  <TabItem value="parity-preserve" label="Parity-preserve method (Advanced)">
    <RemoveDataDiskParityPreserve />
  </TabItem>
</Tabs>
```

---

### Verificación de dispositivos del arreglo

Regularly checking your Unraid array is crucial for maintaining data integrity and identifying potential issues before they result in data loss. You can initiate a check using the **Check** button under ***Array Operations***. Depending on your array's configuration, this button allows you to conduct either a %%parity check|parity-check%% or a %%read check|read-check%%.

<div
  style={{
   margin: "auto",
   maxWidth: "400px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![The check button lets you perform parity and read
  checks](/img/Check_button.PNG)
</div>

For convenience, you can schedule these checks to run automatically at intervals that suit you by navigating to ***Settings → Scheduler***. It's advisable to perform automated, correcting checks on a monthly or quarterly basis to ensure the ongoing health of your data and fix any sync errors found.

#### Chequeos de Paridad y Lectura

```mdx-code-block

<Tabs>
  <TabItem value="parity-check" label="Parity checks" default>
    <ArrayCheckParity />
  </TabItem>

  <TabItem value="read-check" label="Read checks">
    <ArrayCheckRead />
  </TabItem>
</Tabs>
```

#### Historial de verificación

Whenever the system performs a %%parity check|parity-check%% or a %%read check|read-check%%, it keeps a record of what happened. You can view these details easily by clicking the **History** button found under ***Array Operations*** in the interface.

Unraid proporciona diversos modos de escritura para gestionar las operaciones del arreglo, cada uno con sus propias ventajas y desventajas en cuanto a velocidad, consumo de energía y desgaste de los discos. Conocer cómo funcionan estos modos, junto con el papel de una unidad de caché o pool, puede ayudarlo a afinar su servidor para que se adapte mejor a sus necesidades.

---

### Apagar o encender discos

Unraid allows you to control the power states of your hard drives. You can easily %%spin them up or down|spin-state%%, and manage SSDs to be active or in standby. This helps save energy, extend the life of your drives, and reduce noise when the disks are not being used.

<h4>¿Por qué bajar o subir la velocidad?</h4>

- **Reducir velocidad:** Si tienes discos que no se utilizan con frecuencia, reducir su velocidad puede ahorrar energía y ayudar a que duren más.
- **Aumentar velocidad:** Si sabes que necesitarás los archivos pronto, aumentar la velocidad de los discos con antelación puede reducir los tiempos de espera.

<h4>Cómo controlar los estados de velocidad</h4>

Puedes controlar los estados de velocidad del disco a través de la pestaña **Main** en el %%WebGUI|web-gui%%.

1. **Ve a la pestaña Main** y localiza tus dispositivos de arreglo.
2. **Encuentra los botones de control de velocidad**: cada disco mostrará una de las siguientes opciones:
   - Haz clic en el botón 🔘 para **Aumentar velocidad** si el disco está actualmente en baja velocidad
   - Haz clic en el botón 🟢 para **Reducir velocidad** si el disco está actualmente girando
3. **Haz clic en el botón apropiado** para la acción que deseas:
   - Haz clic en **Reducir velocidad** 🟢 para apagar un disco inactivo y ahorrar energía
   - Haz clic en **Aumentar velocidad** 🔘 para encender un disco que actualmente está en baja velocidad

Recuerda que si un disco está siendo accedido (por ejemplo, si estás abriendo un archivo), permanecerá activo e ignorará cualquier solicitud de reducir velocidad.

Cuando un disco está desactivado, su temperatura no se mostrará en el %%WebGUI|web-gui%%. Sin embargo, una vez que cualquier aplicación o usuario acceda a él, se activará automáticamente.

:::tip

Para cambiar el Modo de Escritura:

:::

---

### Restablecer la configuración del arreglo

Restablecer la configuración de su arreglo es un paso importante que debe llevarse a cabo con cuidado. Este proceso suele ser necesario cuando se elimina un disco, se comienza desde cero con un nuevo diseño de arreglo o se resuelven problemas de asignación de discos. Tenga en cuenta que esta acción puede afectar la protección de datos y la paridad, así que asegurese de proceder solo cuando realmente lo necesite.

Razones comunes para restablecer tu arreglo incluyen:

- **Eliminar o reemplazar discos:** Si necesita retirar o intercambiar discos en su arreglo.
- **Comenzar de nuevo:** Cuando busca crear una nueva disposición para su arreglo.
- **Corregir errores de asignación de discos:** Para corregir cualquier problema con la forma en que los discos están asignados actualmente.
- **Recuperarse de problemas de configuración:** Al enfrentar desafíos con su configuración existente.

<div
  style={{
   margin: "auto",
   maxWidth: "650px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![Resetting your disk configuration can be done via the new config
  page](/img/Newconfig.png)
</div>

Para restablecer la configuración de tu arreglo:

1. **HDD único típico:** 70–250 MB/s (depende del modelo de la unidad, la edad y la ubicación de los datos)
2. **SSD SATA típico:** 400–550 MB/s
3. **NVMe SSD (en un pool):** 250–7,000 MB/s (se aplican limitaciones de generación PCIe y red/PCIe; por ejemplo, red 10GbE se limita a ~1,100 MB/s)
4. Vuelve a la pestaña **Principal**. Después de aplicar los cambios, tu configuración habrá sido restablecida.
5. Haz los cambios necesarios en tu configuración asignando o desasignando discos según sea apropiado.
6. Inicia el arreglo en Modo Normal o %%Maintenance Mode|maintenance-mode%% para finalizar tus actualizaciones.

:::important

- Si un disco está deshabilitado y sus datos están siendo reconstruidos, Unraid usará las unidades restantes junto con la información de paridad para recrear los datos. Durante este proceso, la velocidad de lectura puede reducirse a 30–60 MB/s o incluso menos, dependiendo del disco más lento en tu sistema.
- Cualquier operación en curso en la matriz, como una verificación de %%parity|parity-check%% o la reconstrucción de una unidad, también puede afectar el rendimiento de lectura. Esto se debe al aumento del movimiento de los cabezales de la unidad y la competencia general por los recursos.
- **Disk reordering:** Changing the order of disks won't affect parity1, but it *can* invalidate parity2.

:::

:::caution

Cuando veas el botón **Iniciar**, hay una casilla de verificación etiquetada como **La paridad es válida**. Solo verifica esta casilla si estás seguro de que es correcto o si un usuario experimentado de Unraid te lo ha aconsejado durante la recuperación. Verificar incorrectamente esta opción puede conducir a la pérdida de datos.

Los %%Cache pools|cache-pool%% en Unraid proporcionan ventajas significativas, particularmente para tareas intensivas en escrituras, máquinas virtuales (VMs) y contenedores Docker. Estos pools operan por separado del array principal y pueden configurarse con múltiples discos utilizando los sistemas de archivos %%BTRFS|btrfs%% o %%ZFS|zfs%%, soportando varias configuraciones de %%RAID|raid%% para velocidad y protección de datos.

:::

#### Deshacer un restablecimiento

\**Las velocidades reales de NVMe dependen de la generación PCIe, el enfriamiento, y el ancho de banda de la red (p.ej., 10GbE se limita a ~1,100 MB/s).*

1. Accede a tu dispositivo flash a través de la red (SMB).
2. Localiza y abre la carpeta `config`.
3. Renombra el archivo `super.old` a `super.dat`.
4. Reinicia tu servidor y tu configuración anterior del arreglo debería ser restaurada.

---

### Informes de estado

Unraid proporciona informes de estado que le ayudan a mantenerse al tanto de la salud de su arreglo de almacenamiento. Estos informes son una forma rápida de verificar si alguno de sus discos está deshabilitado o si tiene problemas de lectura o escritura de datos.

- **Estado actual:** Los informes de estado muestran la condición actual de su arreglo. Es importante tener en cuenta que esta información se restablece después de reiniciar su sistema, por lo que no mantendrá un historial de problemas anteriores.

- **Sin datos históricos:** Si deseas ver qué ha ocurrido antes de un reinicio, tendrás que buscar en otro lugar, ya que estos informes no guardan estados pasados.

:::important

Recuerde que los informes de estado no incluyen datos %%SMART|smart%%. Los informes %%SMART|smart-report%% le ofrecen una vista más detallada sobre la salud individual de los discos. Así que, incluso si su informe de estado muestra que todo está bien, revisar los informes %%SMART|smart-report%% regularmente sigue siendo una buena idea para detectar cualquier problema potencial a tiempo.

:::

---

## Modos de escritura del arreglo

Unraid proporciona diversos modos de escritura para gestionar las operaciones del arreglo, cada uno con sus propias ventajas y desventajas en cuanto a velocidad, consumo de energía y desgaste de los discos. Conocer cómo funcionan estos modos, junto con el papel de una unidad de caché o pool, puede ayudarlo a afinar su servidor para que se adapte mejor a sus necesidades.

Si un segundo disco falla mientras está reconstruyendo otro, lo que pueda hacer dependerá de su configuración de paridad.

| Modo de Escritura                | Velocidad (Típica)                       | Uso de energía | Cuando las unidades se activan       | Protección de datos     | Mejor caso de uso                                                                                 |
| -------------------------------- | ---------------------------------------- | -------------- | ------------------------------------ | ----------------------- | ------------------------------------------------------------------------------------------------- |
| Leer/Modificar/Escribir          | 20–40 MB/s                               | Bajo           | Solo la paridad y la unidad objetivo | Sí                      | La mayoría de las cargas de trabajo, ahorro de energía, escrituras pequeñas                       |
| Turbo Escritura (Reconstrucción) | 40–120 MB/s                              | Alta           | Todas las unidades                   | Sí                      | Transferencias de archivos grandes, reconstrucciones del arreglo, %%parity checks\|parity-check%% |
| Escritura en Caché (SSD/NVMe)    | 50–110 MB/s (SSD), 250–900 MB/s (NVMe)\* | Varía          | Solo las unidades de caché           | No (hasta que se mueva) | Aplicaciones, VMs, escrituras frecuentes, maximizar velocidad                                     |

<h3>Leer/Modificar/Escribir</h3>

<details>
  <summary>Haz clic para expandir/colapsar</summary>

  <h4>How it works</h4>
  This mode reads the existing data and the parity, calculates the new parity, and
  then writes the updated data. Only the %%parity drive|parity-drives%% and the
  target data drive spin up, which results in lower power usage and less wear on
  the drives. However, it can be slower due to the additional read/write cycles.

  <h4>Cuándo usar</h4>

  - En cualquier momento, especialmente si deseas ahorro de energía y que las unidades en reposo se activen.
  - Ideal para escrituras pequeñas o infrecuentes.
</details>

<h3>Turbo Escritura (Escritura reconstruida)</h3>

<details>
  <summary>Haz clic para expandir/colapsar</summary>

  Escritura turbo, también conocida como escritura reconstructiva, es una función diseñada para aumentar la velocidad de escritura de su array de Unraid. Funciona leyendo todos los discos de datos y actualizando la paridad simultáneamente. Este proceso elimina los retrasos causados por esperar que los platos giren, como se ve en el modo de escritura predeterminado. Sin embargo, es importante señalar que todos los discos del array deben estar girando y funcionando correctamente para que esto funcione de manera efectiva.

  <h4>Cómo funciona</h4>

  - Cuando escribes nuevos datos, Unraid lee de las otras unidades de datos y calcula la paridad al mismo tiempo. Tanto los datos nuevos como la paridad actualizada se escriben juntos.
  - Todas las unidades del arreglo deben estar operativas y activamente girando.
  - Este método mejora significativamente las velocidades de escritura en comparación con el modo de escritura predeterminado.

  <h4>Cuándo usar la Turbo Escritura</h4>

  - Utiliza la turbo escritura al transferir archivos grandes y secuenciales al arreglo.
  - Es eficaz durante las reconstrucciones del arreglo o %%parity checks|parity-check%%, ya que todas las unidades ya estarán girando.
  - Este modo es muy útil cuando minimizar el tiempo de escritura es una prioridad y puedes confirmar que todas las unidades están sanas.

  <h4>Cuándo evitar la Turbo Escritura</h4>

  - Evita usar este modo si deseas que tus unidades se apaguen durante los tiempos de inactividad para conservar energía.
  - La turbo escritura no es ideal para operaciones de escritura pequeñas o poco frecuentes, ya que provoca que todas las unidades se activen para cada escritura, aumentando el consumo de energía y el desgaste de las unidades.
  - Si sospechas que alguna unidad está fallando o es poco confiable, es mejor evitar la turbo escritura, ya que depende de que todas las unidades funcionen.

    :::info
    La escritura turbo es ideal para operaciones masivas y escenarios que requieren alto rendimiento. Sin embargo, puede que no sea la mejor opción para tareas cotidianas si se enfoca en el ahorro de energía y minimizar el desgaste de los discos.
    :::
</details>

<h3>Escritura en Caché</h3>

<details>
  <summary>Haz clic para expandir/colapsar</summary>

  <h4>Cómo funciona</h4>

  Los datos se escriben primero en un SSD rápido o NVMe %%cache|cache%% y luego se pueden mover al array principal más adelante por un proceso llamado %%Mover|mover%%. Las velocidades varían:

  - SSD: 50–110 MB/s
  - NVMe: 250–900 MB/s (que puede utilizar redes 10GbE)

  Una vez que los datos se trasladan al arreglo, están protegidos por la paridad.

  <h4>Cuándo usar la Escritura en Caché</h4>

  - Para compartir operaciones de escritura frecuentes, como aplicaciones, máquinas virtuales o descargas.
  - Para mejorar el rendimiento y reducir cualquier latencia percibida de escritura.

  <h4>Expectativas de rendimiento</h4>

  - Sin una unidad de caché: Promedio 20–30 MB/s, con picos de hasta 40 MB/s.
  - Con caché SSD: 50–110 MB/s.
  - Con caché NVMe: 250–900 MB/s dependiendo de las limitaciones de la red o la unidad.

    :::tip
    Considere usar un pool de cache (múltiples dispositivos) para mayor redundancia y protección de datos antes de que el %%Mover|mover%% se ejecute.
    :::
</details>

:::info[Automated Tiempo]

- El modo **Auto** (una característica futura) activará la turbo escritura solo cuando todas las unidades ya estén girando.
- Los plugins de la comunidad (busca "Turbo Write" en la pestaña de Apps) pueden ofrecer opciones mejoradas de automatización o programación.

:::

Para cambiar el Modo de Escritura:

1. Navigate to ***Settings → Disk Settings***.
2. Localiza **Ajustable (md_write_method)**.
3. Elige tu modo preferido:
   - **Leer/Modificar/Escribir** (predeterminado)
   - **Reconstruct Write** (Turbo Write)
   - **Auto** (característica futura)
4. Haz clic en **Aplicar** para confirmar tu elección.

:::important[Quick recapitulación

- Usa **Turbo Write** cuando necesites velocidad, pero ten en cuenta el aumento del consumo de energía y la activación de las unidades.
- Utiliza **Escritura en Caché** para un rendimiento óptimo, especialmente con unidades SSD o NVMe.
- Para la mayoría de los usuarios, el modo de escritura predeterminado ofrece el mejor equilibrio, a menos que necesites específicamente mayores velocidades.

:::

---

## Modos de lectura

Cuando uses Unraid, la velocidad a la que puedes leer archivos está determinada principalmente por el disco individual que contiene cada archivo. A diferencia de los sistemas %%RAID|raid%% tradicionales, que combinan múltiples discos para mejorar el rendimiento, Unraid almacena cada archivo en un solo disco. Esto significa que las velocidades de lectura no se incrementarán por las velocidades combinadas de varios discos.

<h3>Expectativas de rendimiento</h3>

- **HDD único típico:** 70–250 MB/s (depende del modelo de la unidad, la edad y la ubicación de los datos)
- **SSD SATA típico:** 400–550 MB/s
- **NVMe SSD (en un pool):** 250–7,000 MB/s (se aplican limitaciones de generación PCIe y red/PCIe; por ejemplo, red 10GbE se limita a ~1,100 MB/s)

:::note[Special casos

- Si un disco está deshabilitado y sus datos están siendo reconstruidos, Unraid usará las unidades restantes junto con la información de paridad para recrear los datos. Durante este proceso, la velocidad de lectura puede reducirse a 30–60 MB/s o incluso menos, dependiendo del disco más lento en tu sistema.
- Cualquier operación en curso en la matriz, como una verificación de %%parity|parity-check%% o la reconstrucción de una unidad, también puede afectar el rendimiento de lectura. Esto se debe al aumento del movimiento de los cabezales de la unidad y la competencia general por los recursos.

:::

---

## Piscinas de caché

Los %%Cache pools|cache-pool%% en Unraid proporcionan ventajas significativas, particularmente para tareas intensivas en escrituras, máquinas virtuales (VMs) y contenedores Docker. Estos pools operan por separado del array principal y pueden configurarse con múltiples discos utilizando los sistemas de archivos %%BTRFS|btrfs%% o %%ZFS|zfs%%, soportando varias configuraciones de %%RAID|raid%% para velocidad y protección de datos.

<h3>Pools de caché vs. el arreglo principal</h3>

| Característica                     | Pool de caché (BTRFS)                                                                                             | Pool de caché (ZFS)                                                                                                                                                    | Arreglo principal (Unraid)                                  |
| ---------------------------------- | ----------------------------------------------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------- |
| **Velocidad de lectura**           | SSD: 400–550 MB/s, NVMe: 250–7,000 MB/s\*                                                                         | SSD: 400–550 MB/s, NVMe: 250–7,000 MB/s\*                                                                                                                              | HDD: 70–250 MB/s (por disco)                                |
| **Velocidad de escritura**         | SSD: 400–550 MB/s, NVMe: 250–7,000 MB/s\*                                                                         | SSD: 400–550 MB/s, NVMe: 250–7,000 MB/s\*                                                                                                                              | 20–120 MB/s (dependiente del modo de paridad)               |
| **Protección de datos**            | %%RAID 1\|raid1%%/%%RAID 10\|raid10%%; %%RAID 5\|raid5%%/%%RAID 6\|raid6%% (experimental, no para datos críticos) | %%RAID 1\|raid1%%/%%RAID 10\|raid10%%; %%RAIDZ1\|raidz1%%/%%RAIDZ2\|raidz2%%/%%RAIDZ3\|raidz3%% (estable, listo para producción)                                       | Basado en paridad, independiente del sistema de archivos    |
| **Expansión**                      | Mezclar tamaños de unidades; agregar/eliminar dispositivos dinámicamente                                          | Soporte limitado de adición/eliminación de dispositivos; no se puede eliminar de RAIDZ; adición de un solo dispositivo para expandir un único vdev RAIDZ en Unraid 7.2 | Agregar unidades, pero sin banda ni escalado de rendimiento |
| **Complejidad en la recuperación** | Mayor riesgo de pérdida de datos; se necesitan herramientas %%BTRFS\|btrfs%%                                      | Mayor riesgo de pérdida de datos; se requieren herramientas %%ZFS\|zfs%%                                                                                               | Reconstrucciones más fáciles basadas en paridad             |
| **Mejor para**                     | Aplicaciones, máquinas virtuales, escrituras frecuentes                                                           | Aplicaciones, máquinas virtuales, escrituras frecuentes, cargas de trabajo empresariales                                                                               | Almacenamiento a granel, bibliotecas de medios              |

\**Actual NVMe speeds depend on PCIe generation, cooling, and network bandwidth (e.g., 10GbE caps at ~1,100 MB/s).*

<h4>Pros de los pools de caché</h4>

- **Mayor rendimiento:** Los pools NVMe pueden saturar redes de 10GbE/40GbE (1,100–3,500 MB/s).
- **RAID flexible:** Tanto %%BTRFS|btrfs%% como %%ZFS|zfs%% soportan %%RAID 1|raid1%%/%%RAID 10|raid10%% para redundancia sin necesidad de igualar tamaños de unidades.
- **Baja latencia:** Ideal para bases de datos, máquinas virtuales y contenedores Docker.
- **Ventajas de ZFS:** %%ZFS|zfs%% proporciona funciones de grado empresarial como verificación de integridad de datos, compresión y snapshots.

<h4>Contras de los pools de caché</h4>

- **Sin protección de paridad:** Los datos no están protegidos hasta que se trasladan al arreglo.
- **Riesgos de recuperación:** %%BTRFS|btrfs%% %%RAID 5|raid5%%/%%RAID 6|raid6%% es inestable; los pools de un solo disco carecen de redundancia.
- **Consideraciones de ZFS:** %%ZFS|zfs%% requiere más memoria RAM y tiene requisitos de hardware más estrictos que %%BTRFS|btrfs%%.

Para obtener información más detallada sobre %%cache pools|cache-pool%%, incluyendo cómo configurarlos, gestionarlos y características avanzadas, consulte la página [Pools de Caché](./cache-pools.mdx).

---

## Solución de problemas

### Solución de fallos de inicio del arreglo

If your array won't start, follow these steps to identify and fix common problems. Look for error messages under ***Main → Array Operation***.

```mdx-code-block

<Tabs>
  <TabItem value="missing-disks" label="Missing disks" default>
    <TroubleshootMissingDisks />
  </TabItem>

  <TabItem value="device-limit" label="Device limit">
    <TroubleshootDeviceLimit />
  </TabItem>

  <TabItem value="key-issues" label="License issues">
    <TroubleshootLicenseIssues />
  </TabItem>

  <TabItem value="key-server" label="Key server connection">
    <TroubleshootKeyServer />
  </TabItem>

  <TabItem value="withdrawn" label="Withdrawn release">
    <TroubleshootWithdrawnRelease />
  </TabItem>
</Tabs>
```

### Fallo de disco durante una reconstrucción

Si un segundo disco falla mientras está reconstruyendo otro, lo que pueda hacer dependerá de su configuración de paridad.

<h4>Disco de %%paridad único|parity-drives%%</h4>

Si un disco falla durante la reconstrucción de otro, la reconstrucción se detendrá porque los datos no se pueden restaurar con precisión. Lamentablemente, no podrás recuperar tus datos en esta situación.

<h4>Disco de %%paridad dual|parity-drives%%</h4>

Si tiene dos discos de %%paridad|parity-drives%%, tiene más opciones:

- Puedes esperar a que la primera reconstrucción termine y luego ocuparte del segundo disco fallido.
- O puedes detener la reconstrucción actual, reemplazar el segundo disco fallido y luego iniciar el arreglo para reconstruir ambos discos al mismo tiempo.

Si la primera reconstrucción está casi terminada, generalmente es mejor dejar que termine. Si recién comenzó, podría ser más rápido reconstruir ambos juntos.

:::warning

Reconstruir discos pone mucha tensión en todas las unidades, lo que aumenta la probabilidad de nuevas fallas. Siempre verifica la salud del disco usando informes %%SMART|smart-report%% antes de comenzar una reconstrucción.

:::

:::info[Rebuild Tiempo]

Prepárate para que el proceso de reconstrucción tome varias horas. El tiempo puede variar según el tamaño del disco y qué tan ocupado esté tu sistema. Los discos más grandes y los sistemas ocupados pueden tardar más.

:::
