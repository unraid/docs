---
sidebar_position: 5
sidebar_label: Estado de salud y mantenimiento de la matriz
---

import ArrayCheckParity from "../partials/array-check-parity.mdx";
import ArrayCheckRead from "../partials/array-check-read.mdx";
import TroubleshootMissingDisks from "../partials/troubleshoot-missing-disks.mdx";
import TroubleshootDeviceLimit from "../partials/troubleshoot-device-limit.mdx";
import TroubleshootLicenseIssues from "../partials/troubleshoot-license-issues.mdx";
import TroubleshootKeyServer from "../partials/troubleshoot-key-server.mdx";
import TroubleshootWithdrawnRelease from "../partials/troubleshoot-withdrawn-release.mdx";

# Estado de salud y mantenimiento de la matriz

Revisar regularmente tu matriz Unraid es crucial para mantener la integridad de los datos e identificar posibles problemas antes de que resulten en p√©rdida de datos. Esta p√°gina cubre herramientas de monitoreo y procedimientos de soluci√≥n de problemas para tu matriz.

## Verificaci√≥n de dispositivos del arreglo

You can initiate a check using the **Check** button under ***Array Operations***. Depending on your array's configuration, this button allows you to conduct either a %%parity check|parity-check%% or a %%read check|read-check%%.

<div
  style={{
   margin: "auto",
   maxWidth: "400px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![El bot√≥n de verificaci√≥n le permite realizar verificaciones de paridad y lectura](/img/Check_button.PNG)
</div>

Para conveniencia, puedes programar estas revisiones para que se ejecuten autom√°ticamente en intervalos que te convengan navegando a ***Configuraci√≥n ‚Üí Programador***. Es aconsejable realizar revisiones autom√°ticas y corregir errores en forma mensual o trimestral para asegurar la salud continua de tus datos y corregir cualquier error de sincronizaci√≥n encontrado.

### Verificaci√≥n de paridad

<ArrayCheckParity />

### Verificaci√≥n de lectura

<ArrayCheckRead />

### Historial de verificaci√≥n

Whenever the system performs a %%parity check|parity-check%% or a %%read check|read-check%%, it keeps a record of what happened. You can view these details easily by clicking the **History** button found under ***Array Operations*** in the interface.

Unraid proporciona diversos modos de escritura para gestionar las operaciones del arreglo, cada uno con sus propias ventajas y desventajas en cuanto a velocidad, consumo de energ√≠a y desgaste de los discos. Conocer c√≥mo funcionan estos modos, junto con el papel de una unidad de cach√© o pool, puede ayudarlo a afinar su servidor para que se adapte mejor a sus necesidades.

## Apagar o encender discos

Unraid allows you to control the power states of your hard drives. You can easily %%spin them up or down|spin-state%%, and manage SSDs to be active or in standby. This helps save energy, extend the life of your drives, and reduce noise when the disks are not being used.

### ¬øPor qu√© bajar o subir la velocidad?

Poner en reposo discos que no se usan a menudo ahorra energ√≠a y ayuda a que duren m√°s. Activar discos con anticipaci√≥n reduce los tiempos de espera cuando necesitas archivos pronto.

### C√≥mo controlar los estados de velocidad

Controla el estado de giro de los discos a trav√©s de la pesta√±a **Principal**:

1. Ve a la pesta√±a **Principal** y localiza tus dispositivos de la matriz.
2. Cada disco muestra botones de control de giro:
   - Bot√≥n üîò - **Activar** (si actualmente est√° en reposo)
   - Bot√≥n üü¢ - **Desactivar** (si actualmente est√° girando)
3. Haz clic en el bot√≥n apropiado para la acci√≥n que deseas.

Recuerda que si un disco est√° siendo accedido (por ejemplo, si est√°s abriendo un archivo), permanecer√° activo e ignorar√° cualquier solicitud de reducir velocidad.

Cuando un disco est√° desactivado, su temperatura no se mostrar√° en el %%WebGUI|web-gui%%. Sin embargo, una vez que cualquier aplicaci√≥n o usuario acceda a √©l, se activar√° autom√°ticamente.

:::tip

Para cambiar el Modo de Escritura:

:::

## Restablecer la configuraci√≥n del arreglo

Restablecer la configuraci√≥n de su arreglo es un paso importante que debe llevarse a cabo con cuidado. Este proceso suele ser necesario cuando se elimina un disco, se comienza desde cero con un nuevo dise√±o de arreglo o se resuelven problemas de asignaci√≥n de discos. Tenga en cuenta que esta acci√≥n puede afectar la protecci√≥n de datos y la paridad, as√≠ que asegurese de proceder solo cuando realmente lo necesite.

Restablece tu matriz cuando:

- Retires o reemplaces discos
- Empieces de nuevo con un nuevo dise√±o de matriz
- Corrijas errores de asignaci√≥n de discos
- Te recuperes de problemas de configuraci√≥n

<div
  style={{
   margin: "auto",
   maxWidth: "650px",
   display: "flex",
   flexDirection: "column",
   alignItems: "center",
  }}
>
  ![Restablecer su configuraci√≥n de disco puede hacerse a trav√©s de la nueva p√°gina de configuraci√≥n](/img/Newconfig.png)
</div>

Para restablecer la configuraci√≥n de tu arreglo:

1. Ve a **Herramientas ‚Üí Nueva Configuraci√≥n**.
2. Opcionalmente, mant√©n algunas asignaciones de discos existentes para ajustes menores.
3. Marca la casilla de confirmaci√≥n y haz clic en **Aplicar**.
4. Vuelve a la pesta√±a **Principal**.
5. Asigna o desasigna discos seg√∫n sea necesario.
6. Inicia la matriz en Modo Normal o %%Modo de Mantenimiento|maintenance-mode%%.

:::important

- Unraid intenta reconocer los discos utilizados previamente y preservar los datos cuando sea posible.
- Quitar un disco de datos invalida la paridad a menos que ese disco haya sido limpiado antes de ser removido.
- Cambiar el orden de los discos no afectar√° la paridad1, pero puede invalidar la paridad2.

:::

:::caution

Cuando veas el bot√≥n **Iniciar**, hay una casilla de verificaci√≥n etiquetada como **La paridad es v√°lida**. Solo verifica esta casilla si est√°s seguro de que es correcto o si un usuario experimentado de Unraid te lo ha aconsejado durante la recuperaci√≥n. Verificar incorrectamente esta opci√≥n puede conducir a la p√©rdida de datos.

Los %%Cache pools|cache-pool%% en Unraid proporcionan ventajas significativas, particularmente para tareas intensivas en escrituras, m√°quinas virtuales (VMs) y contenedores Docker. Estos pools operan por separado del array principal y pueden configurarse con m√∫ltiples discos utilizando los sistemas de archivos %%BTRFS|btrfs%% o %%ZFS|zfs%%, soportando varias configuraciones de %%RAID|raid%% para velocidad y protecci√≥n de datos.

:::

### Deshacer un restablecimiento

Para revertir un restablecimiento:

1. Accede a tu dispositivo flash a trav√©s de la red (SMB).
2. Abre la carpeta `config`.
3. Renombra `super.old` a `super.dat`.
4. Reinicia tu servidor para restaurar la configuraci√≥n anterior.

## Informes de estado

Unraid proporciona informes de estado que le ayudan a mantenerse al tanto de la salud de su arreglo de almacenamiento. Estos informes son una forma r√°pida de verificar si alguno de sus discos est√° deshabilitado o si tiene problemas de lectura o escritura de datos.

- **Estado actual:** Los informes de estado muestran la condici√≥n actual de su arreglo. Es importante tener en cuenta que esta informaci√≥n se restablece despu√©s de reiniciar su sistema, por lo que no mantendr√° un historial de problemas anteriores.

- **Sin datos hist√≥ricos:** Si deseas ver qu√© ha ocurrido antes de un reinicio, tendr√°s que buscar en otro lugar, ya que estos informes no guardan estados pasados.

:::important

Recuerde que los informes de estado no incluyen datos %%SMART|smart%%. Los informes %%SMART|smart-report%% le ofrecen una vista m√°s detallada sobre la salud individual de los discos. As√≠ que, incluso si su informe de estado muestra que todo est√° bien, revisar los informes %%SMART|smart-report%% regularmente sigue siendo una buena idea para detectar cualquier problema potencial a tiempo.

:::

## Soluci√≥n de fallos de inicio del arreglo

Si tu matriz no arranca, sigue estos pasos para identificar y solucionar problemas comunes. Busca mensajes de error bajo ***Principal ‚Üí Operaci√≥n de la Matriz***.

### Discos faltantes

<TroubleshootMissingDisks />

### L√≠mite de dispositivo

<TroubleshootDeviceLimit />

### Problemas de licencia

<TroubleshootLicenseIssues />

### Conexi√≥n al servidor de claves

<TroubleshootKeyServer />

### Versi√≥n retirada

<TroubleshootWithdrawnRelease />

## Fallo de disco durante una reconstrucci√≥n

Si un segundo disco falla mientras est√° reconstruyendo otro, lo que pueda hacer depender√° de su configuraci√≥n de paridad.

### Disco de paridad √∫nica

Si un disco falla durante la reconstrucci√≥n de otro, la reconstrucci√≥n se detendr√° porque los datos no se pueden restaurar con precisi√≥n. Lamentablemente, no podr√°s recuperar tus datos en esta situaci√≥n.

### Disco de paridad dual

Si tiene dos discos de %%paridad|parity-drives%%, tiene m√°s opciones:

- Puedes esperar a que la primera reconstrucci√≥n termine y luego ocuparte del segundo disco fallido.
- O puedes detener la reconstrucci√≥n actual, reemplazar el segundo disco fallido y luego iniciar el arreglo para reconstruir ambos discos al mismo tiempo.

Si la primera reconstrucci√≥n est√° casi terminada, generalmente es mejor dejar que termine. Si reci√©n comenz√≥, podr√≠a ser m√°s r√°pido reconstruir ambos juntos.

:::warning

Reconstruir discos pone mucha tensi√≥n en todas las unidades, lo que aumenta la probabilidad de nuevas fallas. Siempre verifica la salud del disco usando informes %%SMART|smart-report%% antes de comenzar una reconstrucci√≥n.

:::

:::info[Rebuild Tiempo]

Prep√°rate para que el proceso de reconstrucci√≥n tome varias horas. El tiempo puede variar seg√∫n el tama√±o del disco y qu√© tan ocupado est√© tu sistema. Los discos m√°s grandes y los sistemas ocupados pueden tardar m√°s.

:::
