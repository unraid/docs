---
sidebar_position: 4
sidebar_label: Sistemas de archivos
---

# Sistemas de archivos

### Seleccionando un tipo de sistema de archivos

Seleccionar el sistema de archivos correcto para su Unraid %%array|array%% o %%cache pool|cache-pool%% es crucial. Le ayuda a lograr un equilibrio entre rendimiento, protección de datos y funciones avanzadas. Unraid admite varios sistemas de archivos de Linux modernos, cada uno con sus propias fortalezas únicas y casos de uso específicos:

| Sistema de Archivos | Protección de Datos                                                                   | Eficiencia Espacial                    | Características Avanzadas                                                          | Mejor Caso de Uso                                                        |
| ------------------- | ------------------------------------------------------------------------------------- | -------------------------------------- | ---------------------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| %%XFS\|xfs%%        | Sin redundancia incorporada                                                           | 100%                                   | Robusto contra la corrupción                                                       | Predeterminado para unidades de array; alta fiabilidad                   |
| %%ZFS\|zfs%%        | %%RAIDZ1\|raidz1%%/%%RAIDZ2\|raidz2%%/%%RAIDZ3\|raidz3%%, espejos, etc.               | Varía según el nivel de %%RAID\|raid%% | %%Checksums\|suma de verificaciones%%, %%Snapshots\|instantáneas%%, %%RAID\|raid%% | Pools de dispositivos múltiples, %%VMs\|vm%%, Docker, usuarios avanzados |
| %%BTRFS\|btrfs%%    | %%RAID 0\|raid0%%/%%RAID 1\|raid1%%/%%10\|raid10%%/%%5\|raid5%%/%%6\|raid6%%, espejos | Varía según el nivel de %%RAID\|raid%% | %%Checksums\|suma de verificaciones%%, %%Snapshots\|instantáneas%%, %%RAID\|raid%% | Pools de dispositivos múltiples, SSD/HDD mixtos, pools flexibles         |

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FileSystemXfs from './partials/file-system-xfs.mdx';
import FileSystemZfs from './partials/file-system-zfs.mdx';
import FileSystemBtrfs from './partials/file-system-btrfs.mdx';
import BtrfsBalance from './partials/btrfs-balance.mdx';
import BtrfsScrub from './partials/btrfs-scrub.mdx';
import FsCheckCliXfs from './partials/fs-check-cli-xfs.mdx';
import FsCheckCliBtrfs from './partials/fs-check-cli-btrfs.mdx';
import FsCheckCliZfs from './partials/fs-check-cli-zfs.mdx';
import FsRepairCliXfs from './partials/fs-repair-cli-xfs.mdx';
import FsRepairCliBtrfs from './partials/fs-repair-cli-btrfs.mdx';
import FsRepairCliZfs from './partials/fs-repair-cli-zfs.mdx';

<Tabs>
  <TabItem value="xfs" label="XFS" default>
    <FileSystemXfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FileSystemZfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FileSystemBtrfs />
  </TabItem>
</Tabs>

:::note[Additional Notas]
- Mezclar diferentes tipos de sistemas de archivos en su sistema Unraid es perfectamente aceptable; el sistema de %%parity|parity%% de Unraid funciona independientemente del sistema de archivos utilizado.
- Siempre formatee y particione las unidades dentro de Unraid para asegurar la compatibilidad.
- Los sistemas Linux pueden leer estos sistemas de archivos de forma nativa; sin embargo, Windows y macOS requerirán software adicional para acceder.
- Puede <u>encriptar</u> las unidades para mejorar la seguridad, pero tenga en cuenta que las unidades encriptadas pueden plantear desafíos para la recuperación en caso de corrupción.
- Para unidades de transferencia o dispositivos externos, se recomienda usar el plugin **[Unassigned Devices](#using-the-unassigned-devices-plugins)**, que admite sistemas de archivos adicionales.
:::

:::tip[Still ¿necesita ayuda eligiendo?]
- **Para unidades de array:** %%XFS|xfs%% es generalmente la mejor opción para la mayoría de los usuarios.
- **Para alto rendimiento o funciones avanzadas:** Elija %%ZFS|zfs%% o %%BTRFS|btrfs%% para %%cache pools|cache-pool%% o configuraciones de múltiples dispositivos.
- **Para pools mixtos o en expansión:** %%BTRFS|btrfs%% es ideal si desea utilizar diferentes tamaños de unidades o añadir o quitar dispositivos fácilmente.

Si no está seguro, comenzar con los valores predeterminados es un buen enfoque: use %%XFS|xfs%% para unidades del %%array|array%% y %%BTRFS|btrfs%% para %%cache pools|cache-pool%%.
:::

---

## Establecer un tipo de sistema de archivos

Al agregar un nuevo disco a Unraid, puede seleccionar el tipo de sistema de archivos que mejor se adapte a sus necesidades. El sistema de archivos determina cómo se organiza y protege la información en el disco.

Para configurar el tipo de sistema de archivos:

1. **Establezca el predeterminado globalmente**:
   - Navegue a ***Ajustes → Configuración del Disco*** para establecer el sistema de archivos predeterminado solo para nuevas unidades de %%array|array%%.
   - Unraid utiliza por defecto %%XFS|xfs%% para unidades de %%array|array%%.
   - **Nota:** Actualmente no hay una configuración predeterminada global para %%cache pools|cache-pool%%. Siempre se establecerán en %%BTRFS|btrfs%% si se dejan en "auto".

2. **Establezca el sistema de archivos para una unidad individual**:
   - Detenga el %%array|array%%.
   - Haga clic en la unidad en la pestaña **Principal**.
   - Elija su tipo de sistema de archivos deseado en el menú desplegable.
   - Si selecciona **auto**, Unraid utilizará el predeterminado global.
   - Para %%cache pools|cache-pool%% de múltiples dispositivos, solo se admiten %%BTRFS|btrfs%% o %%ZFS|zfs%%.

---

## Crear un sistema de archivos (formateo)

Antes de usar un nuevo disco en Unraid, debe formatearlo con el sistema de archivos seleccionado. **Recuerde, formatear borrará todo el contenido existente en la unidad.**

Para comenzar con el formateo:

1. **Inicie el %%array|array%%**.
2. **Identifique las unidades no montables**: Las unidades no reconocidas aparecerán como **no montables**.
3. **Verifique la selección de la unidad**: Verifique que todas las unidades no montables sean las que desea formatear.
4. **Confirme y formatee**: Marque la casilla para confirmar, lea el cuadro de diálogo de advertencia cuidadosamente y haga clic en **Formatear**.
5. **Monitorear el proceso**: El proceso de formateo comenzará. Para nuevos discos, Unraid reescribirá primero la tabla de particiones.
6. **Espere la finalización**: El formateo generalmente toma unos minutos. Si no ve progreso, actualice la pestaña **Principal**.

Una vez que se complete el formateo, la unidad estará lista para almacenar archivos.

---

## Cambiar un tipo de sistema de archivos

Es posible que desee cambiar el tipo de sistema de archivos en una unidad específica para aprovechar las nuevas características o asegurar la compatibilidad con tus otras unidades.

:::warning
Cambiar el tipo de sistema de archivos **borrará todos los datos existentes** en la unidad. Siempre realice una copia de seguridad de los archivos importantes antes de continuar.
:::

Para cambiar el tipo de sistema de archivos en una unidad particular:

1. **Detenga el array**: Comience deteniendo su %%array|array%% para asegurarse de que no haya operaciones durante el cambio.
2. **Seleccione la unidad**: En la pestaña **Principal**, haga clic en la unidad para la que desea cambiar el formato.
3. **Elija el nuevo sistema de archivos**: En el menú desplegable, seleccione el formato de sistema de archivos deseado. Si tiene varias unidades para cambiar, repita este paso para cada una.
4. **Inicie el array**: Una vez que haya seleccionado los nuevos sistemas de archivos, inicie su %%array|array%% de nuevo.
5. **Formatear unidades no montables**: La pestaña **Principal** mostrará una opción para formatear unidades no montables. Tómese un momento para revisar la lista y asegúrese de que solo estén incluidas las unidades que desea cambiar.
6. **Confirme y formatee**: Marque la casilla de confirmación para reconocer el cambio, luego haga clic en el botón **Formatear** para proceder.
7. **Espere a que el proceso termine**: El formateo generalmente toma solo unos minutos. Si nota que el estado no se actualiza, puede actualizar la pestaña **Principal** para verificar el progreso.

Si encuentra algún problema, visite los [foros de Unraid](https://forums.unraid.net/). Adjunte su archivo de diagnóstico del sistema zip (encontrado bajo ***Tools → Diagnostics***) para obtener asistencia.

---

## Convirtiendo a un nuevo tipo de sistema de archivos

:::important
A partir de Unraid 7.2, la página ***Principal*** advertirá si algún disco de la matriz o de la piscina está formateado en sistemas de archivos heredados:

- Cualquier disco formateado en ReiserFS necesita ser migrado a otro sistema de archivos lo antes posible, ya que no será utilizable en una futura versión de Unraid (probablemente Unraid 7.3).
- Cualquier disco formateado en una versión anterior de XFS necesita ser migrado antes de 2030.
:::

Para cambiar el tipo de sistema de archivos de una unidad pero conservar sus datos, debe migrar el contenido antes de reformatear. Este proceso es especialmente común para usuarios que se alejan del ReiserFS obsoleto (utilizado en versiones antiguas de Unraid) hacia %%XFS|xfs%% o %%BTRFS|btrfs%%, pero se aplica a cualquier conversión de sistema de archivos.

:::important
Este proceso requiere mover temporalmente sus datos a otra ubicación. Asegúrese de tener suficiente espacio libre en otro lugar de su %%array|array%% o en un dispositivo externo antes de comenzar.
:::

Para convertirse de manera segura a un nuevo tipo de sistema de archivos:

1. **Copie todos los datos de la unidad**: Mueva sus archivos a otra ubicación. Esto podría ser otra unidad en su %%array|array%%, un %%cache pool|cache-pool%% o una copia de seguridad externa.
   - Antes de Unraid 7.0, necesitarás mover los archivos manualmente
   - A partir de Unraid 7.0, puedes mover archivos [usando 'mover' para vaciar un disco de la matriz](../../release-notes/7.0.0.md#using-mover-to-empty-an-array-disk) a otros discos de la matriz a través de la línea de comandos
   - A partir de Unraid 7.2, puedes vaciar un disco de la matriz a otros discos de la matriz a través de la WebGUI:
     - Navega a ***Main → Array Operation*** y detiene la matriz
     - Navega a ***Settings → Global Share Settings***. En el área de **Vaciado de disco(s)**, selecciona el/los discos a vaciar y **Aplica**. Nota: este estado se eliminará automáticamente cuando se detenga la matriz.
     - Navega a ***Main → Array Operation*** y inicia la matriz
     - En ***Main → Array Operation*** haz clic en **Mover** (o espera hasta que el mover se ejecute según su horario normal)
     - Mover vaciará el disco de acuerdo con tus configuraciones de Compartir. Nota que los archivos en la raíz del disco están fuera de cualquier Compartir y no serán movidos.
     - Revisa ***Tools → System Log*** para ver mensajes sobre archivos que no se pudieron mover debido a su uso o falta de espacio libre
   - Navega a ***Main → Array Devices*** y explora el disco para confirmar que está vacío. Procede solo cuando estés seguro de que el disco está vacío.
2. **Cambie el tipo de sistema de archivos**: Siga el procedimiento para [cambiar un tipo de sistema de archivos](#changing-a-file-system-type). Esto formateará la unidad y borrará todo el contenido, dejándolo con una unidad en blanco en el nuevo formato.
3. **Copia tus datos de vuelta**: (Opcional) Dependiendo de dónde moviste los archivos, puede que desees moverlos de vuelta al disco recién formateado.
4. **Repita según sea necesario**: Si tiene más de una unidad para convertir, repita estos pasos para cada unidad, transfiriendo datos según sea necesario.

:::note\[Timing]

El proceso puede tardar varias horas, dependiendo de la cantidad de datos y la velocidad de sus unidades. La mayor parte del tiempo se invierte en copiar archivos, lo cual puede ejecutarse sin supervisión.

:::

---

## Reformateando una unidad

Reformatear una unidad en Unraid borrará todos sus datos y creará un nuevo y vacío sistema de archivos. Este proceso es útil para resolver errores persistentes del sistema de archivos o empezar de nuevo con un nuevo formato.

:::warning
Reformatear borrará permanentemente todos los datos en la unidad. Siempre haga una copia de seguridad de los archivos importantes antes de comenzar.
:::

Para **reformatear de manera segura** su unidad:

1. **Detén el array**.
2. **Cambie el tipo de sistema de archivos**:
   - Vaya a la pestaña **Principal** y haga clic en la unidad que desea reformatear.
   - Seleccione un tipo diferente de sistema de archivos (por ejemplo, cambie de %%XFS|xfs%% a %%BTRFS|btrfs%%).
   - Inicie el %%array|array%%, y la unidad se mostrará como **no montable**.
   - Cuando se le indique, formatee la unidad.
3. **(Opcional) Cambie nuevamente a su tipo de sistema de archivos original**:
   - Detenga el %%array|array%% nuevamente.
   - Cambie el sistema de archivos de nuevo a su tipo preferido.
   - Inicie el %%array|array%% y formatee la unidad una vez más.

Este sencillo proceso asegura que la unidad esté completamente borrada y formateada como desee. El proceso de formateo generalmente toma solo unos minutos.

### Reformatear una unidad de cache

A veces, necesitará reformatear una unidad de %%cache|cache%% por las siguientes razones:

- Para cambiar el tipo de sistema de archivos (por ejemplo, de %%BTRFS|btrfs%% a %%XFS|xfs%% o viceversa)
- Para corregir errores persistentes del sistema de archivos
- Para comenzar de cero para nuevas cargas de trabajo

<h4>Procedimiento recomendado para reformatear una unidad de cache</h4>

1. **Detén el array**.
2. **Deshabilite los servicios de Docker y %%VM|vm%%** bajo **Ajustes**.
3. **Inicie el array** (esto evitará que aparezcan las pestañas de Docker y %%VM|vm%%).

Para mover datos fuera del cache:

4. **Establezca el almacenamiento compartido y la acción del Mover (cache → array)**: Para cada compartición que tenga archivos en el %%cache|cache%%, establezca **Almacenamiento Primario** en el pool del %%cache|cache%% de origen y **Almacenamiento Secundario** en el %%array|array%%. Establezca la **acción del Mover** en **cache → array**.
   - Anota cualquier acción de acciones que cambies y sus configuraciones originales.
5. **Ejecute %%Mover|mover%%**: Ejecute %%Mover|mover%% desde la pestaña **Principal**. Espere a que termine y asegúrese de que el %%cache|cache%% esté vacío.
   - Si quedan archivos, detente y verifica en los foros para obtener ayuda.

Para reformatear la unidad de caché:

6. **Detén el array**.
7. **Establece el formato de la unidad de caché** (elige entre %%XFS|xfs%% o %%BTRFS|btrfs%%).
   - Para una única unidad de %%cache|cache%%, %%XFS|xfs%% es la opción recomendada.
   - Ten en cuenta que %%XFS|xfs%% sólo está disponible si tienes un espacio de %%cache|cache%%.
8. **Inicia el array**.
9. **Formatea la unidad de caché**:
   - Confirma que sólo la unidad %%cache|cache%% aparece como no montable.
   - Procede a formatear la unidad.

Para restaurar datos y configuraciones:

10. **Restaura configuraciones de compartición**: Para cada compartición que cambiaste, configura **Almacenamiento primario** y **Almacenamiento secundario** a sus valores originales.
11. **Mover los datos de vuelta (array → cache)**: Establezca **Almacenamiento Primario** en el pool de %%cache|cache%% de destino y **Almacenamiento Secundario** en el %%array|array%% para cada compartición que cambió. Establezca la **acción del Mover** en **array → cache**, luego ejecute %%Mover|mover%% nuevamente para mover sus datos de vuelta al %%cache|cache%%.
12. **Detén el array**.
13. **Vuelva a habilitar Docker y los servicios de %%VM|vm%%.**
14. **Inicia el array**.

:::note\[Timing]

El tiempo que lleva mover datos con el %%Mover|mover%% y formatear la unidad puede variar de varios minutos a varias horas, dependiendo de la cantidad de datos y la velocidad de la unidad.

:::

---

## Operaciones de BTRFS

Mantener sus pools %%BTRFS|btrfs%% en Unraid es esencial para mantenerlos funcionando bien y asegurar que sus datos estén seguros. Dos herramientas clave que querrá usar regularmente son **Balance** y **Scrub**. Estas operaciones ayudan a resolver problemas de asignación de espacio, optimizan el uso de su almacenamiento y protegen sus datos de la corrupción oculta.

Vamos a desglosar lo que hace cada operación y cuándo usarlas:

<Tabs>
  <TabItem value="equilibrio" label="Equilibrio" default>
    <BtrfsBalance />
  </TabItem>

  <TabItem value="depurar" label="Depurar">
    <BtrfsScrub />
  </TabItem>
</Tabs>

:::tip
Tanto **Balance** como **Scrub** pueden realizarse mientras el sistema está en línea, pero tenga en cuenta que el rendimiento puede verse afectado durante estas operaciones. Puede monitorear el progreso en el %%WebGUI|web-gui%%.
:::

Para más detalles sobre características avanzadas de %%BTRFS|btrfs%%, consulta la [documentación oficial de BTRFS](https://btrfs.readthedocs.io/en/latest/Introduction.html).

---

## Unidades no asignadas

Las unidades no asignadas son dispositivos de almacenamiento conectados a su servidor Unraid que no forman parte del %%array|array%% principal ni de ningún %%cache pool|cache-pool%%. Puede usar estas unidades para transferir archivos, crear copias de seguridad, o proporcionar almacenamiento rápido para %%virtual machines|vm%%.

:::note
Todas las unidades conectadas a tu servidor cuando se inicia el %%array|array%% cuentan para el límite de licencia de dispositivos adjuntos de Unraid, incluso si no están asignadas al %%array|array%% o a un pool.
:::

<h4>Usos comunes para unidades no asignadas</h4>

- Conecta unidades removibles para transferencias de archivos o copias de seguridad fáciles.
- Usa unidades dedicadas para tareas de alto rendimiento como ejecutar %%máquinas virtuales|vm%% o almacenamiento temporal de datos.

### Uso de los plugins de dispositivos no asignados

Para aprovechar al máximo tus unidades no asignadas, considera instalar los siguientes plugins desde la pestaña **Aplicaciones**:

- **[Unassigned Devices](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices,-dlandon):** Este plugin te permite montar, compartir y gestionar unidades con sistemas de archivos que Unraid soporta, como %%XFS|xfs%%, %%BTRFS|btrfs%%, o NTFS.

- **[Unassigned Devices Plus](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices%20Plus,-\(Addon\)):** Esta extensión amplía tus opciones al soportar sistemas de archivos adicionales, incluyendo ExFAT y HFS+.

Estos plugins permiten:

- Montar y desmontar unidades fácilmente desde la interfaz web de Unraid.
- Compartir tus unidades no asignadas por medio de la red.
- Automatizar el proceso de montaje cuando el servidor se inicia.
- Formatear o borrar unidades para uso futuro.
- Desconectar de manera segura unidades USB o externas sin complicaciones.

Para más detalles sobre la instalación y gestión de plugins, consulta [Plugins](../customize-your-experience/plugins.mdx).

---

## Solución de problemas

### La unidad se muestra como no montable

Si ves que una unidad en Unraid es **no montable**, podría deberse a una de dos razones principales:

1. **Nueva unidad añadida**: Si acaba de añadir una nueva unidad a su configuración, se mostrará como no montable hasta que la formatee. El formateo crea un sistema de archivos que permite a la unidad almacenar archivos. Puede encontrar los pasos para formatear una unidad [aquí](#creating-a-file-system-formatting).

2. **Problemas del sistema de archivos**: Si una unidad que funcionaba previamente de repente muestra como no montable, probablemente tenga un problema del sistema de archivos. Esto puede ocurrir debido a apagados inesperados, problemas al escribir datos, o si la unidad ha sido marcada como deshabilitada (lo que aparece como una 'x' roja en el %%WebGUI|web-gui%%).

:::important
No formatee una unidad no montable a menos que esté bien con perder todos los datos en ella. Formatear borrará todo y actualizará la información de %%parity|parity%%, haciendo que la recuperación sea imposible. Siempre intente primero reparar el sistema de archivos.
:::

Si tu unidad es no montable:

1. **Identifica la situación**: Determina si es una nueva unidad o una unidad que funcionaba previamente.
2. **Para unidades nuevas**: Formatea la unidad para crear un nuevo sistema de archivos (revisa los [pasos de formateo](#creating-a-file-system-formatting)).
3. **Para unidades previamente funcionales**: Realice una verificación o reparación del sistema de archivos (vea [Verificando un sistema de archivos](#checking-a-file-system)). Evite formatear si desea conservar los datos.

:::note
Si una unidad está tanto no montable como deshabilitada (x roja), primero ejecute la verificación/reparación en la unidad **emulada**. Si la unidad emulada también es no montable y intenta reconstruirla, la nueva unidad también será no montable.
:::

Corregir el sistema de archivos generalmente toma menos tiempo que reconstruir la unidad, permitiéndole acceder a sus datos sin perder nada. Recuerde, reconstruir una unidad no **repara** problemas del sistema de archivos; simplemente asegura que la unidad física coincida con la emulada, llevando consigo cualquier problema existente.

:::important[Why ¿la paridad no es suficiente?]
Aunque la %%parity|parity%% ayuda a recuperar una unidad fallida, no puede reparar problemas del sistema de archivos. Si el sistema de archivos está corrupto, la %%parity|parity%% simplemente replicará esa corrupción a la nueva unidad.

Si no estás seguro:

- Descarga tus registros del sistema navegando a ***Herramientas → Diagnósticos***.
- Para obtener ayuda experta, publica tu problema junto con los diagnósticos en los [foros de Unraid](https://forums.unraid.net/).
:::

:::note[Just para reiterar]
- Solo formatea unidades no montables si son completamente nuevas o si quieres borrar todos los datos.
- Usa la comprobación/reparación del sistema de archivos para corregir archivos corruptos; no relies en %%parity|parity%% para resolver estos problemas.
- Para %%cache pools|cache-pool%% con múltiples unidades, considera usar ya sea %%BTRFS|btrfs%% o %%ZFS|zfs%%.
- Siempre verifica antes de formatear o reparar unidades para evitar pérdidas accidentales de datos.
:::

---

### Comprobación de un sistema de archivos

Si un disco que anteriormente se montaba sin problemas ahora se muestra como **no montable**, generalmente indica corrupción del sistema de archivos. Esto puede resultar de un apagado no limpio, una fallida operación de escritura, o el disco siendo marcado como deshabilitado en el %%WebGUI|web-gui%%. Revisar y reparar el sistema de archivos es generalmente más rápido y seguro que realizar una reconstrucción, por lo que se recomienda intentarlo antes de formatear o reconstruir el disco.

:::important
Si el %%WebGUI|web-gui%% sugiere formatear una unidad no montable, <strong>no la formatee</strong> a menos que desee borrar todos los datos. Formatear destruirá el contenido de la unidad y actualizará la %%parity|parity%%, haciendo que la recuperación sea imposible.
:::

<h4>Preparándose para comprobar o reparar</h4>

1. **Identifica el tipo de sistema de archivos**:
   - Navega a la pestaña **Principal** y selecciona tu disco (e.g., Disco 3, Caché).
   - Encuentra el **tipo de sistema de archivos** (debería ser %%XFS|xfs%%, %%BTRFS|btrfs%%, o %%ZFS|zfs%%).

2. **Inicie el array en el modo correcto**:
   - Para **%%XFS|xfs%%**, inicia el %%array|array%% en **%%Modo de Mantenimiento|maintenance-mode%%**.
   - Para **%%BTRFS|btrfs%%**, inicie el %%array|array%% en **modo Normal** para un %%scrub|scrub%% o **%%modo de Mantenimiento|maintenance-mode%%** para una reparación.
   - Para **%%ZFS|zfs%%**, consulta la sección de %%ZFS|zfs%% a continuación.

3. **Manejar discos emulados**: Si el disco está deshabilitado y siendo emulado, ejecute la verificación/reparación en el %%emulated disk|emulated-disk%% antes de intentar una reconstrucción. Si el %%emulated disk|emulated-disk%% es no montable, el disco reconstruido también será no montable.

<h4>Mensajes de error comunes</h4>

| Mensaje                                                                  | Significado / Acción                                                               |
| ------------------------------------------------------------------------ | ---------------------------------------------------------------------------------- |
| **El superbloque tiene un número mágico malo**                           | Corrupción severa; intenta una reparación del sistema de archivos.                 |
| **El sistema de archivos está sucio**                                    | Apagado no limpio; ejecuta una comprobación del sistema de archivos.               |
| **Detectada corrupción de metadatos**                                    | Las estructuras del sistema de archivos están dañadas; inicia una reparación.      |
| **No se encontró una %%BTRFS\|btrfs%% válida**                           | El disco puede no pertenecer a un pool válido; verifica las asignaciones del pool. |
| **Montar: tipo de sistema de archivos erróneo, opción incorrecta, etc.** | Selección incorrecta del sistema de archivos o disco sin formatear.                |
| **No se puede montar /dev/mdX: la estructura necesita limpieza**         | El sistema de archivos está corrompido; realiza una reparación.                    |

#### A través del WebGUI

1. **Inicia el array**: Inicia el %%array|array%% en el modo correcto (consulta los pasos anteriores).
2. **Selecciona el disco**: Ve a la pestaña **Principal** y selecciona el disco que deseas comprobar.
3. **Accede a las opciones de comprobación**: Desplázate a **Estado del Sistema de Archivos**.
4. **Para XFS (Unraid 7.0+)**: Verá un botón **CHECK** sin opciones para ingresar. El sistema determina automáticamente las acciones necesarias basadas en los resultados de la verificación.
5. **Para otros sistemas de archivos**: Ingresa cualquier opción necesaria (para obtener detalles, consulta **Ayuda** en la esquina superior derecha).
6. **Inicia la comprobación**: Haz clic en **Comprobar** para iniciar el proceso.
7. **Monitorear progreso**: Monitoree el progreso en el cuadro de salida. Use **Actualizar** si es necesario.
8. **Revisar resultados**: Revise los resultados. Si no está seguro, copie la salida y publicar en los [foros](https://forums.unraid.net/) para obtener asesoramiento.

#### Flujo de trabajo automático de reparación de XFS (Unraid 7.0+)

A partir de Unraid 7.0, la reparación del sistema de archivos XFS ahora está completamente automatizada a través del WebGUI:

1. **Verificación inicial**: Haga clic en el botón **CHECK** (sin opciones para ingresar)
2. **Resultados de la verificación**:
   - **No se detectó corrupción**: Muestra "no se detectó corrupción del sistema de archivos" y el botón **CHECK** permanece
   - **Se detectó corrupción**: Muestra "se detectó corrupción del sistema de archivos" y aparece un botón **FIX**
3. **Proceso de reparación**: Haga clic en **FIX** para reparar automáticamente el sistema de archivos
4. **Acciones adicionales**: Si es necesario, puede aparecer un botón **ZERO LOG**
5. **Finalización**: Muestra "sistema de archivos reparado" cuando el proceso ha terminado

Este sistema automatizado elimina la necesidad de que los usuarios ingresen manualmente las opciones de reparación y asegura que se siga la secuencia de reparación correcta.

#### A través de la línea de comandos

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsCheckCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsCheckCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsCheckCliZfs />
  </TabItem>
</Tabs>

:::tip
- Las reparaciones de sistemas de archivos generalmente son más rápidas que una reconstrucción completa y pueden restaurar el acceso sin pérdida de datos.
- Reconstruir un disco **no** resuelve la corrupción del sistema de archivos; siempre ejecute una verificación o reparación primero.
- Si tiene dudas, publique sus diagnósticos y mensajes de error en los [foros](https://forums.unraid.net/) de Unraid para recibir asistencia experta.
:::

---

### Reparación de un sistema de archivos

Si un chequeo de su sistema de archivos encuentra errores, es posible que deba ejecutar una reparación para volver a tener acceso a sus datos. Las reparaciones generalmente toman menos tiempo que una reconstrucción total, pero es importante leer la salida con cuidado y buscar ayuda en los [foros](https://forums.unraid.net/) si no está seguro de algo.

:::note\[Timing]

Las reparaciones pueden tardar desde varios minutos hasta varias horas, especialmente para sistemas de archivos más grandes o muy corruptos. El progreso puede parecer lento, pero puede verificar la actividad mirando las estadísticas de lectura/escritura en la Página Principal.

:::

<h4>Preparación para reparar</h4>

1. **Identifique el tipo de sistema de archivos**: Vaya a la pestaña **Principal**, haga clic en el disco y averigüe qué tipo de sistema de archivos es (%%XFS|xfs%%, %%BTRFS|btrfs%% o %%ZFS|zfs%%).

2. **Inicie el array en el modo correcto**:

   - **Para %%XFS|xfs%%:** Use **Modo de Mantenimiento**.
   - **Para %%BTRFS|btrfs%%:** Use **Modo Normal** para un %%scrub|fregado%%; use **Modo de Mantenimiento** para una reparación.
   - **Para %%ZFS|zfs%%:** Use **modo Normal** y ejecute un %%scrub|scrub%% para verificar errores. Consulte la [página de ZFS storage](../../advanced-configurations/optimize-storage/zfs-storage.mdx) para obtener orientación sobre los procedimientos de mantenimiento y reparación del pool %%ZFS|zfs%%.

3. **Manejar discos emulados**: Si el disco está deshabilitado y siendo emulado, ejecute la reparación en el %%emulated disk|emulated-disk%% antes de intentar una reconstrucción.

#### A través del WebGUI

1. **Inicie el array**: Inicie el %%array|array%% en el modo correcto (consulte la sección anterior).
2. **Seleccione el disco**: Vaya a la pestaña **Principal** y haga clic en el disco que desea reparar.
3. **Acceda a las opciones de reparación**: Desplácese hacia abajo hasta **Verificar estado del sistema de archivos**.
4. **Para XFS (Unraid 7.0+)**: El proceso de reparación está completamente automatizado. Haga clic en **CHECK**, luego **FIX** si se detecta corrupción, y **ZERO LOG** si se lo solicita.
5. **Para otros sistemas de archivos**: Retire cualquier opción que ejecutaría el proceso en modo de solo verificación (como `--readonly` para %%BTRFS|btrfs%%).
6. **Agregue las opciones sugeridas**: Si se le solicita, agregue las opciones sugeridas como se indica en la salida de la verificación.
7. **Inicie la reparación**: Haga clic en **Check** para comenzar la reparación.
8. **Monitorear progreso**: Mantenga un ojo en el progreso en el cuadro de salida. Use **Actualizar** si es necesario.
9. **Verificar archivos perdidos**: Si observa una carpeta `lost+found` después de la reparación, puede contener archivos o carpetas que no se pudieron recuperar completamente. Use copias de seguridad o el comando `file` de Linux para identificar el contenido si es necesario.

:::info
Si no está seguro acerca de la salida, cópiela y compártala en los [foros de Unraid](https://forums.unraid.net/) para obtener ayuda de expertos. Use la opción de formato de código para mantenerlo legible.
:::

#### A través de la línea de comandos

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsRepairCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsRepairCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsRepairCliZfs />
  </TabItem>
</Tabs>

:::info[After la reparación]
- Detenga y reinicie el %%array|array%% en **Modo Normal**.
- La unidad ahora debería montar y ser accesible.
- Si ve una carpeta `lost+found`, verifique su contenido para cualquier archivo importante.
:::

Si no entiende la salida de la reparación o si el proceso falla, comparta sus diagnósticos y el registro de reparación en los [foros de Unraid](https://forums.unraid.net/) para obtener más ayuda.
