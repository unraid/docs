---
sidebar_position: 4
sidebar_label: Sistemas de archivos
---

# Sistemas de archivos

### Seleccionando un tipo de sistema de archivos

Seleccionar el sistema de archivos correcto para su Unraid %%array|array%% o %%cache pool|cache-pool%% es crucial. Le ayuda a lograr un equilibrio entre rendimiento, protección de datos y funciones avanzadas. Unraid admite varios sistemas de archivos de Linux modernos, cada uno con sus propias fortalezas únicas y casos de uso específicos:

| Sistema de Archivos | Protección de Datos                                                                   | Eficiencia Espacial                    | Características Avanzadas                                                          | Mejor Caso de Uso                                                        |
| ------------------- | ------------------------------------------------------------------------------------- | -------------------------------------- | ---------------------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| %%XFS\|xfs%%        | Sin redundancia incorporada                                                           | 100%                                   | Robusto contra la corrupción                                                       | Predeterminado para unidades de array; alta fiabilidad                   |
| %%ZFS\|zfs%%        | %%RAIDZ1\|raidz1%%/%%RAIDZ2\|raidz2%%/%%RAIDZ3\|raidz3%%, espejos, etc.               | Varía según el nivel de %%RAID\|raid%% | %%Checksums\|suma de verificaciones%%, %%Snapshots\|instantáneas%%, %%RAID\|raid%% | Pools de dispositivos múltiples, %%VMs\|vm%%, Docker, usuarios avanzados |
| %%BTRFS\|btrfs%%    | %%RAID 0\|raid0%%/%%RAID 1\|raid1%%/%%10\|raid10%%/%%5\|raid5%%/%%6\|raid6%%, espejos | Varía según el nivel de %%RAID\|raid%% | %%Checksums\|suma de verificaciones%%, %%Snapshots\|instantáneas%%, %%RAID\|raid%% | Pools de dispositivos múltiples, SSD/HDD mixtos, pools flexibles         |

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FileSystemXfs from './partials/file-system-xfs.mdx';
import FileSystemZfs from './partials/file-system-zfs.mdx';
import FileSystemBtrfs from './partials/file-system-btrfs.mdx';
import BtrfsBalance from './partials/btrfs-balance.mdx';
import BtrfsScrub from './partials/btrfs-scrub.mdx';
import FsCheckCliXfs from './partials/fs-check-cli-xfs.mdx';
import FsCheckCliBtrfs from './partials/fs-check-cli-btrfs.mdx';
import FsCheckCliZfs from './partials/fs-check-cli-zfs.mdx';
import FsRepairCliXfs from './partials/fs-repair-cli-xfs.mdx';
import FsRepairCliBtrfs from './partials/fs-repair-cli-btrfs.mdx';
import FsRepairCliZfs from './partials/fs-repair-cli-zfs.mdx';

<Tabs>
  <TabItem value="xfs" label="XFS" default>
    <FileSystemXfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FileSystemZfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FileSystemBtrfs />
  </TabItem>
</Tabs>

:::note[Additional Notas]

- Mezclar diferentes tipos de sistemas de archivos en su sistema Unraid es perfectamente aceptable; el sistema de %%parity|parity%% de Unraid funciona independientemente del sistema de archivos utilizado.
- Siempre formatee y particione las unidades dentro de Unraid para asegurar la compatibilidad.
- Los sistemas Linux pueden leer estos sistemas de archivos de forma nativa; sin embargo, Windows y macOS requerirán software adicional para acceder.
- Puede <u>encriptar</u> las unidades para mejorar la seguridad, pero tenga en cuenta que las unidades encriptadas pueden plantear desafíos para la recuperación en caso de corrupción.
- For transfer drives or external devices, it's recommended to use the **[Unassigned Devices](#using-the-unassigned-devices-plugins)** plugin, which supports additional file systems.

:::

:::tip[Still need help choosing?]

- **For array drives:** %%XFS|xfs%% is generally the best choice for most users.
- **For high-performance or advanced features:** Choose %%ZFS|zfs%% or %%BTRFS|btrfs%% for %%cache pools|cache-pool%% or multi-device setups.
- **For mixed or expanding pools:** %%BTRFS|btrfs%% is ideal if you want to use different drive sizes or easily add or remove devices.

If you're uncertain, starting with the defaults is a good approach: use %%XFS|xfs%% for %%array|array%% drives and %%BTRFS|btrfs%% for %%cache pools|cache-pool%%.

:::

---

## Setting a file system type

When adding a new drive to Unraid, you can select the file system type that works best for your needs. The file system determines how data is organized and protected on the disk.

To set the file system type:

1. **Set the default globally**:
   - Navigate to ***Settings → Disk Settings*** to set the default file system for new %%array|array%% drives only.
   - Unraid defaults to %%XFS|xfs%% for %%array|array%% drives.
   - **Note:** There is currently no global default setting for %%cache pools|cache-pool%%. They will always default to %%BTRFS|btrfs%% if left to "auto".

2. **Set the file system for an individual drive**:
   - Detenga el %%array|array%%.
   - Click on the drive in the **Main** tab.
   - Choose your desired file system type from the drop-down menu.
   - If you select **auto**, Unraid will use the global default.
   - For multi-device %%cache pools|cache-pool%%, only %%BTRFS|btrfs%% or %%ZFS|zfs%% are supported.

---

## Creating a file system (formatting)

Before using a new disk in Unraid, you must format it with the selected file system. **Remember, formatting will erase all existing content on the drive.**

To begin with formatting:

1. **Start the %%array|array%%**.
2. **Identify unmountable drives**: Drives that are not recognized will appear as **unmountable**.
3. **Verify drive selection**: Verify that all unmountable drives are the ones you want to format.
4. **Confirm and format**: Check the box to confirm, read the warning dialog carefully, and click **Format**.
5. **Monitor the process**: The format process will begin. For new disks, Unraid will first rewrite the partition table.
6. **Wait for completion**: Formatting usually takes a few minutes. If you don't see progress, refresh the **Main** tab.

Once formatting is complete, the drive is ready to store files.

---

## Changing a file system type

You may want to change the file system type on a specific drive to take advantage of new features or to ensure compatibility with your other drives.

:::warning

Changing the file system type will **erase all existing data** on the drive. Always back up any important files before proceeding.

:::

To change the file system type on a particular drive:

1. **Stop the array**: Begin by stopping your %%array|array%% to ensure no operations are occurring during the change.
2. **Select the drive**: In the **Main** tab, click on the drive that you want to change the format for.
3. **Choose the new file system**: From the drop-down menu, select the desired file system format. If you have multiple drives to change, repeat this step for each one.
4. **Start the array**: Once you have selected the new file systems, start your %%array|array%% again.
5. **Format unmountable drives**: The **Main** tab will display an option to format unmountable drives. Take a moment to check the list and ensure that only the drives you intend to change are included.
6. **Confirm and format**: Check the confirmation box to acknowledge the change, then click the **Format** button to proceed.
7. **Wait for the process to finish**: Formatting usually takes just a few minutes. If you notice that the status isn't updating, you can refresh the **Main** tab to check the progress.

If you encounter any issues, feel free to visit the [Unraid forums](https://forums.unraid.net/). Attach your system diagnostics zip file (found under ***Tools → Diagnostics***) for assistance.

---

## Converting to a new file system type

:::important

Starting with Unraid 7.2, the ***Main*** page will warn if any array or pool drives are formatted in legacy filesystems:

- Cualquier disco formateado en ReiserFS necesita ser migrado a otro sistema de archivos lo antes posible, ya que no será utilizable en una futura versión de Unraid (probablemente Unraid 7.3).
- Any drives formatted in an older version of XFS need to be migrated before 2030.

:::

Para cambiar el tipo de sistema de archivos de una unidad pero conservar sus datos, debe migrar el contenido antes de reformatear. Este proceso es especialmente común para usuarios que se alejan del ReiserFS obsoleto (utilizado en versiones antiguas de Unraid) hacia %%XFS|xfs%% o %%BTRFS|btrfs%%, pero se aplica a cualquier conversión de sistema de archivos.

:::important

Este proceso requiere mover temporalmente sus datos a otra ubicación. Asegúrese de tener suficiente espacio libre en otro lugar de su %%array|array%% o en un dispositivo externo antes de comenzar.

:::

Para convertirse de manera segura a un nuevo tipo de sistema de archivos:

1. **Copie todos los datos de la unidad**: Mueva sus archivos a otra ubicación. Esto podría ser otra unidad en su %%array|array%%, un %%cache pool|cache-pool%% o una copia de seguridad externa.
   - Antes de Unraid 7.0, necesitarás mover los archivos manualmente
   - A partir de Unraid 7.0, puedes mover archivos [usando 'mover' para vaciar un disco de la matriz](../../release-notes/7.0.0.md#using-mover-to-empty-an-array-disk) a otros discos de la matriz a través de la línea de comandos
   - A partir de Unraid 7.2, puedes vaciar un disco de la matriz a otros discos de la matriz a través de la WebGUI:
     - Navega a ***Main → Array Operation*** y detiene la matriz
     - Navega a ***Settings → Global Share Settings***. En el área de **Vaciado de disco(s)**, selecciona el/los discos a vaciar y **Aplica**. Nota: este estado se eliminará automáticamente cuando se detenga la matriz.
     - Navega a ***Main → Array Operation*** y inicia la matriz
     - En ***Main → Array Operation*** haz clic en **Mover** (o espera hasta que el mover se ejecute según su horario normal)
     - Mover vaciará el disco de acuerdo con tus configuraciones de Compartir. Nota que los archivos en la raíz del disco están fuera de cualquier Compartir y no serán movidos.
     - Revisa ***Tools → System Log*** para ver mensajes sobre archivos que no se pudieron mover debido a su uso o falta de espacio libre
   - Navega a ***Main → Array Devices*** y explora el disco para confirmar que está vacío. Procede solo cuando estés seguro de que el disco está vacío.
2. **Cambie el tipo de sistema de archivos**: Siga el procedimiento para [cambiar un tipo de sistema de archivos](#changing-a-file-system-type). Esto formateará la unidad y borrará todo el contenido, dejándolo con una unidad en blanco en el nuevo formato.
3. **Copia tus datos de vuelta**: (Opcional) Dependiendo de dónde moviste los archivos, puede que desees moverlos de vuelta al disco recién formateado.
4. **Repita según sea necesario**: Si tiene más de una unidad para convertir, repita estos pasos para cada unidad, transfiriendo datos según sea necesario.

:::note\[Timing]

El proceso puede tardar varias horas, dependiendo de la cantidad de datos y la velocidad de sus unidades. La mayor parte del tiempo se invierte en copiar archivos, lo cual puede ejecutarse sin supervisión.

:::

---

## Reformateando una unidad

Reformatear una unidad en Unraid borrará todos sus datos y creará un nuevo y vacío sistema de archivos. Este proceso es útil para resolver errores persistentes del sistema de archivos o empezar de nuevo con un nuevo formato.

:::warning

Reformatear borrará permanentemente todos los datos en la unidad. Siempre haga una copia de seguridad de los archivos importantes antes de comenzar.

:::

Para **reformatear de manera segura** su unidad:

1. **Detén el array**.
2. **Cambie el tipo de sistema de archivos**:
   - Vaya a la pestaña **Principal** y haga clic en la unidad que desea reformatear.
   - Seleccione un tipo diferente de sistema de archivos (por ejemplo, cambie de %%XFS|xfs%% a %%BTRFS|btrfs%%).
   - Inicie el %%array|array%%, y la unidad se mostrará como **no montable**.
   - Cuando se le indique, formatee la unidad.
3. **(Opcional) Cambie nuevamente a su tipo de sistema de archivos original**:
   - Detenga el %%array|array%% nuevamente.
   - Cambie el sistema de archivos de nuevo a su tipo preferido.
   - Inicie el %%array|array%% y formatee la unidad una vez más.

Este sencillo proceso asegura que la unidad esté completamente borrada y formateada como desee. El proceso de formateo generalmente toma solo unos minutos.

### Reformatear una unidad de cache

A veces, necesitará reformatear una unidad de %%cache|cache%% por las siguientes razones:

- Para cambiar el tipo de sistema de archivos (por ejemplo, de %%BTRFS|btrfs%% a %%XFS|xfs%% o viceversa)
- Para corregir errores persistentes del sistema de archivos
- Para comenzar de cero para nuevas cargas de trabajo

<h4>Procedimiento recomendado para reformatear una unidad de cache</h4>

1. **Detén el array**.
2. **Deshabilite los servicios de Docker y %%VM|vm%%** bajo **Ajustes**.
3. **Inicie el array** (esto evitará que aparezcan las pestañas de Docker y %%VM|vm%%).

Para mover datos fuera del cache:

4. **Establezca el almacenamiento compartido y la acción del Mover (cache → array)**: Para cada compartición que tenga archivos en el %%cache|cache%%, establezca **Almacenamiento Primario** en el pool del %%cache|cache%% de origen y **Almacenamiento Secundario** en el %%array|array%%. Establezca la **acción del Mover** en **cache → array**.
   - Anota cualquier acción de acciones que cambies y sus configuraciones originales.
5. **Ejecute %%Mover|mover%%**: Ejecute %%Mover|mover%% desde la pestaña **Principal**. Espere a que termine y asegúrese de que el %%cache|cache%% esté vacío.
   - Si quedan archivos, detente y verifica en los foros para obtener ayuda.

Para reformatear la unidad de caché:

6. **Detén el array**.
7. **Establece el formato de la unidad de caché** (elige entre %%XFS|xfs%% o %%BTRFS|btrfs%%).
   - Para una única unidad de %%cache|cache%%, %%XFS|xfs%% es la opción recomendada.
   - Ten en cuenta que %%XFS|xfs%% sólo está disponible si tienes un espacio de %%cache|cache%%.
8. **Inicia el array**.
9. **Formatea la unidad de caché**:
   - Confirma que sólo la unidad %%cache|cache%% aparece como no montable.
   - Procede a formatear la unidad.

Para restaurar datos y configuraciones:

10. **Restaura configuraciones de compartición**: Para cada compartición que cambiaste, configura **Almacenamiento primario** y **Almacenamiento secundario** a sus valores originales.
11. **Mover los datos de vuelta (array → cache)**: Establezca **Almacenamiento Primario** en el pool de %%cache|cache%% de destino y **Almacenamiento Secundario** en el %%array|array%% para cada compartición que cambió. Establezca la **acción del Mover** en **array → cache**, luego ejecute %%Mover|mover%% nuevamente para mover sus datos de vuelta al %%cache|cache%%.
12. **Detén el array**.
13. **Vuelva a habilitar Docker y los servicios de %%VM|vm%%.**
14. **Inicia el array**.

:::note\[Timing]

El tiempo que lleva mover datos con el %%Mover|mover%% y formatear la unidad puede variar de varios minutos a varias horas, dependiendo de la cantidad de datos y la velocidad de la unidad.

:::

---

## Operaciones de BTRFS

Mantener sus pools %%BTRFS|btrfs%% en Unraid es esencial para mantenerlos funcionando bien y asegurar que sus datos estén seguros. Dos herramientas clave que querrá usar regularmente son **Balance** y **Scrub**. Estas operaciones ayudan a resolver problemas de asignación de espacio, optimizan el uso de su almacenamiento y protegen sus datos de la corrupción oculta.

Vamos a desglosar lo que hace cada operación y cuándo usarlas:

<Tabs>
  <TabItem value="equilibrio" label="Equilibrio" default>
    <BtrfsBalance />
  </TabItem>

  <TabItem value="depurar" label="Depurar">
    <BtrfsScrub />
  </TabItem>
</Tabs>

:::tip

Tanto **Balance** como **Scrub** pueden realizarse mientras el sistema está en línea, pero tenga en cuenta que el rendimiento puede verse afectado durante estas operaciones. Puede monitorear el progreso en el %%WebGUI|web-gui%%.

:::

Para más detalles sobre características avanzadas de %%BTRFS|btrfs%%, consulta la [documentación oficial de BTRFS](https://btrfs.readthedocs.io/en/latest/Introduction.html).

---

## Unidades no asignadas

Las unidades no asignadas son dispositivos de almacenamiento conectados a su servidor Unraid que no forman parte del %%array|array%% principal ni de ningún %%cache pool|cache-pool%%. Puede usar estas unidades para transferir archivos, crear copias de seguridad, o proporcionar almacenamiento rápido para %%virtual machines|vm%%.

:::note

Todas las unidades conectadas a tu servidor cuando se inicia el %%array|array%% cuentan para el límite de licencia de dispositivos adjuntos de Unraid, incluso si no están asignadas al %%array|array%% o a un pool.

:::

<h4>Usos comunes para unidades no asignadas</h4>

- Conecta unidades removibles para transferencias de archivos o copias de seguridad fáciles.
- Usa unidades dedicadas para tareas de alto rendimiento como ejecutar %%máquinas virtuales|vm%% o almacenamiento temporal de datos.

### Uso de los plugins de dispositivos no asignados

Para aprovechar al máximo tus unidades no asignadas, considera instalar los siguientes plugins desde la pestaña **Aplicaciones**:

- **[Unassigned Devices](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices,-dlandon):** Este plugin te permite montar, compartir y gestionar unidades con sistemas de archivos que Unraid soporta, como %%XFS|xfs%%, %%BTRFS|btrfs%%, o NTFS.

- **[Unassigned Devices Plus](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices%20Plus,-\(Addon\)):** Esta extensión amplía tus opciones al soportar sistemas de archivos adicionales, incluyendo ExFAT y HFS+.

Estos plugins permiten:

- Montar y desmontar unidades fácilmente desde la interfaz web de Unraid.
- Compartir tus unidades no asignadas por medio de la red.
- Automatizar el proceso de montaje cuando el servidor se inicia.
- Formatear o borrar unidades para uso futuro.
- Desconectar de manera segura unidades USB o externas sin complicaciones.

Para más detalles sobre la instalación y gestión de plugins, consulta [Plugins](../customize-your-experience/plugins.mdx).

---

## Solución de problemas

### La unidad se muestra como no montable

Si ves que una unidad en Unraid es **no montable**, podría deberse a una de dos razones principales:

1. **Nueva unidad añadida**: Si acaba de añadir una nueva unidad a su configuración, se mostrará como no montable hasta que la formatee. El formateo crea un sistema de archivos que permite a la unidad almacenar archivos. Puede encontrar los pasos para formatear una unidad [aquí](#creating-a-file-system-formatting).

2. **Problemas del sistema de archivos**: Si una unidad que funcionaba previamente de repente muestra como no montable, probablemente tenga un problema del sistema de archivos. Esto puede ocurrir debido a apagados inesperados, problemas al escribir datos, o si la unidad ha sido marcada como deshabilitada (lo que aparece como una 'x' roja en el %%WebGUI|web-gui%%).

:::important

No formatee una unidad no montable a menos que esté bien con perder todos los datos en ella. Formatear borrará todo y actualizará la información de %%parity|parity%%, haciendo que la recuperación sea imposible. Siempre intente primero reparar el sistema de archivos.

:::

Si tu unidad es no montable:

1. **Identifica la situación**: Determina si es una nueva unidad o una unidad que funcionaba previamente.
2. **Para unidades nuevas**: Formatea la unidad para crear un nuevo sistema de archivos (revisa los [pasos de formateo](#creating-a-file-system-formatting)).
3. **Para unidades previamente funcionales**: Realice una verificación o reparación del sistema de archivos (vea [Verificando un sistema de archivos](#checking-a-file-system)). Evite formatear si desea conservar los datos.

:::note

Si una unidad está tanto no montable como deshabilitada (x roja), primero ejecute la verificación/reparación en la unidad **emulada**. Si la unidad emulada también es no montable y intenta reconstruirla, la nueva unidad también será no montable.

:::

Corregir el sistema de archivos generalmente toma menos tiempo que reconstruir la unidad, permitiéndole acceder a sus datos sin perder nada. Recuerde, reconstruir una unidad no **repara** problemas del sistema de archivos; simplemente asegura que la unidad física coincida con la emulada, llevando consigo cualquier problema existente.

:::important[Why ¿la paridad no es suficiente?]

While %%parity|parity%% helps recover a failed drive, it cannot fix file system problems. If the file system is corrupted, %%parity|parity%% will simply replicate that corruption to the new drive.

Si no estás seguro:

- Descarga tus registros del sistema navegando a ***Herramientas → Diagnósticos***.
- For expert help, post your issue along with the diagnostics on the [Unraid forums](https://forums.unraid.net/).

:::

:::note[Just para reiterar]

- Solo formatea unidades no montables si son completamente nuevas o si quieres borrar todos los datos.
- Usa la comprobación/reparación del sistema de archivos para corregir archivos corruptos; no relies en %%parity|parity%% para resolver estos problemas.
- Para %%cache pools|cache-pool%% con múltiples unidades, considera usar ya sea %%BTRFS|btrfs%% o %%ZFS|zfs%%.
- Always double-check before formatting or repairing drives to avoid accidental loss of data.

:::

---

### Comprobación de un sistema de archivos

Si un disco que anteriormente se montaba sin problemas ahora se muestra como **no montable**, generalmente indica corrupción del sistema de archivos. Esto puede resultar de un apagado no limpio, una fallida operación de escritura, o el disco siendo marcado como deshabilitado en el %%WebGUI|web-gui%%. Revisar y reparar el sistema de archivos es generalmente más rápido y seguro que realizar una reconstrucción, por lo que se recomienda intentarlo antes de formatear o reconstruir el disco.

:::important

Si el %%WebGUI|web-gui%% sugiere formatear una unidad no montable, <strong>no la formatee</strong> a menos que desee borrar todos los datos. Formatear destruirá el contenido de la unidad y actualizará la %%parity|parity%%, haciendo que la recuperación sea imposible.

:::

<h4>Preparándose para comprobar o reparar</h4>

1. **Identifica el tipo de sistema de archivos**:
   - Navega a la pestaña **Principal** y selecciona tu disco (e.g., Disco 3, Caché).
   - Encuentra el **tipo de sistema de archivos** (debería ser %%XFS|xfs%%, %%BTRFS|btrfs%%, o %%ZFS|zfs%%).

2. **Inicie el array en el modo correcto**:
   - Para **%%XFS|xfs%%**, inicia el %%array|array%% en **%%Modo de Mantenimiento|maintenance-mode%%**.
   - Para **%%BTRFS|btrfs%%**, inicie el %%array|array%% en **modo Normal** para un %%scrub|scrub%% o **%%modo de Mantenimiento|maintenance-mode%%** para una reparación.
   - Para **%%ZFS|zfs%%**, consulta la sección de %%ZFS|zfs%% a continuación.

3. **Manejar discos emulados**: Si el disco está deshabilitado y siendo emulado, ejecute la verificación/reparación en el %%emulated disk|emulated-disk%% antes de intentar una reconstrucción. Si el %%emulated disk|emulated-disk%% es no montable, el disco reconstruido también será no montable.

<h4>Mensajes de error comunes</h4>

| Mensaje                                                                  | Significado / Acción                                                               |
| ------------------------------------------------------------------------ | ---------------------------------------------------------------------------------- |
| **El superbloque tiene un número mágico malo**                           | Corrupción severa; intenta una reparación del sistema de archivos.                 |
| **El sistema de archivos está sucio**                                    | Apagado no limpio; ejecuta una comprobación del sistema de archivos.               |
| **Detectada corrupción de metadatos**                                    | Las estructuras del sistema de archivos están dañadas; inicia una reparación.      |
| **No se encontró una %%BTRFS\|btrfs%% válida**                           | El disco puede no pertenecer a un pool válido; verifica las asignaciones del pool. |
| **Montar: tipo de sistema de archivos erróneo, opción incorrecta, etc.** | Selección incorrecta del sistema de archivos o disco sin formatear.                |
| **No se puede montar /dev/mdX: la estructura necesita limpieza**         | El sistema de archivos está corrompido; realiza una reparación.                    |

#### A través del WebGUI

1. **Inicia el array**: Inicia el %%array|array%% en el modo correcto (consulta los pasos anteriores).
2. **Selecciona el disco**: Ve a la pestaña **Principal** y selecciona el disco que deseas comprobar.
3. **Accede a las opciones de comprobación**: Desplázate a **Estado del Sistema de Archivos**.
4. **Para XFS (Unraid 7.0+)**: Verá un botón **CHECK** sin opciones para ingresar. El sistema determina automáticamente las acciones necesarias basadas en los resultados de la verificación.
5. **Para otros sistemas de archivos**: Ingresa cualquier opción necesaria (para obtener detalles, consulta **Ayuda** en la esquina superior derecha).
6. **Inicia la comprobación**: Haz clic en **Comprobar** para iniciar el proceso.
7. **Monitorear progreso**: Monitoree el progreso en el cuadro de salida. Use **Actualizar** si es necesario.
8. **Revisar resultados**: Revise los resultados. Si no está seguro, copie la salida y publicar en los [foros](https://forums.unraid.net/) para obtener asesoramiento.

#### Flujo de trabajo automático de reparación de XFS (Unraid 7.0+)

A partir de Unraid 7.0, la reparación del sistema de archivos XFS ahora está completamente automatizada a través del WebGUI:

1. **Verificación inicial**: Haga clic en el botón **CHECK** (sin opciones para ingresar)
2. **Resultados de la verificación**:
   - **No se detectó corrupción**: Muestra "no se detectó corrupción del sistema de archivos" y el botón **CHECK** permanece
   - **Se detectó corrupción**: Muestra "se detectó corrupción del sistema de archivos" y aparece un botón **FIX**
3. **Proceso de reparación**: Haga clic en **FIX** para reparar automáticamente el sistema de archivos
4. **Acciones adicionales**: Si es necesario, puede aparecer un botón **ZERO LOG**
5. **Finalización**: Muestra "sistema de archivos reparado" cuando el proceso ha terminado

Este sistema automatizado elimina la necesidad de que los usuarios ingresen manualmente las opciones de reparación y asegura que se siga la secuencia de reparación correcta.

#### A través de la línea de comandos

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsCheckCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsCheckCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsCheckCliZfs />
  </TabItem>
</Tabs>

:::tip

- Las reparaciones de sistemas de archivos generalmente son más rápidas que una reconstrucción completa y pueden restaurar el acceso sin pérdida de datos.
- Reconstruir un disco **no** resuelve la corrupción del sistema de archivos; siempre ejecute una verificación o reparación primero.
- If you have doubts, post your diagnostics and error messages on the Unraid [forums](https://forums.unraid.net/) for expert assistance.

:::

---

### Reparación de un sistema de archivos

Si un chequeo de su sistema de archivos encuentra errores, es posible que deba ejecutar una reparación para volver a tener acceso a sus datos. Las reparaciones generalmente toman menos tiempo que una reconstrucción total, pero es importante leer la salida con cuidado y buscar ayuda en los [foros](https://forums.unraid.net/) si no está seguro de algo.

:::note\[Timing]

Las reparaciones pueden tardar desde varios minutos hasta varias horas, especialmente para sistemas de archivos más grandes o muy corruptos. El progreso puede parecer lento, pero puede verificar la actividad mirando las estadísticas de lectura/escritura en la Página Principal.

:::

<h4>Preparación para reparar</h4>

1. **Identifique el tipo de sistema de archivos**: Vaya a la pestaña **Principal**, haga clic en el disco y averigüe qué tipo de sistema de archivos es (%%XFS|xfs%%, %%BTRFS|btrfs%% o %%ZFS|zfs%%).

2. **Inicie el array en el modo correcto**:

   - **Para %%XFS|xfs%%:** Use **Modo de Mantenimiento**.
   - **Para %%BTRFS|btrfs%%:** Use **Modo Normal** para un %%scrub|fregado%%; use **Modo de Mantenimiento** para una reparación.
   - **Para %%ZFS|zfs%%:** Use **modo Normal** y ejecute un %%scrub|scrub%% para verificar errores. Consulte la [página de ZFS storage](../../advanced-configurations/optimize-storage/zfs-storage.mdx) para obtener orientación sobre los procedimientos de mantenimiento y reparación del pool %%ZFS|zfs%%.

3. **Manejar discos emulados**: Si el disco está deshabilitado y siendo emulado, ejecute la reparación en el %%emulated disk|emulated-disk%% antes de intentar una reconstrucción.

#### A través del WebGUI

1. **Inicie el array**: Inicie el %%array|array%% en el modo correcto (consulte la sección anterior).
2. **Seleccione el disco**: Vaya a la pestaña **Principal** y haga clic en el disco que desea reparar.
3. **Acceda a las opciones de reparación**: Desplácese hacia abajo hasta **Verificar estado del sistema de archivos**.
4. **Para XFS (Unraid 7.0+)**: El proceso de reparación está completamente automatizado. Haga clic en **CHECK**, luego **FIX** si se detecta corrupción, y **ZERO LOG** si se lo solicita.
5. **Para otros sistemas de archivos**: Retire cualquier opción que ejecutaría el proceso en modo de solo verificación (como `--readonly` para %%BTRFS|btrfs%%).
6. **Agregue las opciones sugeridas**: Si se le solicita, agregue las opciones sugeridas como se indica en la salida de la verificación.
7. **Inicie la reparación**: Haga clic en **Check** para comenzar la reparación.
8. **Monitorear progreso**: Mantenga un ojo en el progreso en el cuadro de salida. Use **Actualizar** si es necesario.
9. **Verificar archivos perdidos**: Si observa una carpeta `lost+found` después de la reparación, puede contener archivos o carpetas que no se pudieron recuperar completamente. Use copias de seguridad o el comando `file` de Linux para identificar el contenido si es necesario.

:::info

Si no está seguro acerca de la salida, cópiela y compártala en los [foros de Unraid](https://forums.unraid.net/) para obtener ayuda de expertos. Use la opción de formato de código para mantenerlo legible.

:::

#### A través de la línea de comandos

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsRepairCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsRepairCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsRepairCliZfs />
  </TabItem>
</Tabs>

:::info[After la reparación]

- Detenga y reinicie el %%array|array%% en **Modo Normal**.
- La unidad ahora debería montar y ser accesible.
- If you see a `lost+found` folder, check its contents for any important files.

:::

Si no entiende la salida de la reparación o si el proceso falla, comparta sus diagnósticos y el registro de reparación en los [foros de Unraid](https://forums.unraid.net/) para obtener más ayuda.
