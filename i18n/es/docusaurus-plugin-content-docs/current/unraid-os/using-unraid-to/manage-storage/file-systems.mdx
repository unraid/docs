---
sidebar_position: 4
sidebar_label: Sistemas de archivos
---

# Sistemas de archivos

## Seleccionando un tipo de sistema de archivos

Seleccionar el sistema de archivos correcto para su Unraid %%array|array%% o %%cache pool|cache-pool%% es crucial. Le ayuda a lograr un equilibrio entre rendimiento, protección de datos y funciones avanzadas. Unraid admite varios sistemas de archivos de Linux modernos, cada uno con sus propias fortalezas únicas y casos de uso específicos:

| Sistema de Archivos | Protección de Datos                                                                   | Eficiencia Espacial                    | Características Avanzadas                                                          | Mejor Caso de Uso                                                        |
| ------------------- | ------------------------------------------------------------------------------------- | -------------------------------------- | ---------------------------------------------------------------------------------- | ------------------------------------------------------------------------ |
| %%XFS\|xfs%%        | Sin redundancia incorporada                                                           | 100%                                   | Robusto contra la corrupción                                                       | Predeterminado para unidades de array; alta fiabilidad                   |
| EXT4                | Sin redundancia incorporada                                                           | 100%                                   | Maduro, estable, con journal                                                       | Unidades de matriz o pools de una sola unidad; alternativa a XFS         |
| %%ZFS\|zfs%%        | %%RAIDZ1\|raidz1%%/%%RAIDZ2\|raidz2%%/%%RAIDZ3\|raidz3%%, espejos, etc.               | Varía según el nivel de %%RAID\|raid%% | %%Checksums\|suma de verificaciones%%, %%Snapshots\|instantáneas%%, %%RAID\|raid%% | Pools de dispositivos múltiples, %%VMs\|vm%%, Docker, usuarios avanzados |
| %%BTRFS\|btrfs%%    | %%RAID 0\|raid0%%/%%RAID 1\|raid1%%/%%10\|raid10%%/%%5\|raid5%%/%%6\|raid6%%, espejos | Varía según el nivel de %%RAID\|raid%% | %%Checksums\|suma de verificaciones%%, %%Snapshots\|instantáneas%%, %%RAID\|raid%% | Pools de dispositivos múltiples, SSD/HDD mixtos, pools flexibles         |
| NTFS                | Sin redundancia incorporada                                                           | 100%                                   | Compatibilidad con Windows                                                         | Adición de unidades de Windows existentes sin migración de datos         |
| exFAT               | Sin redundancia incorporada                                                           | 100%                                   | Compatibilidad multiplataforma                                                     | Adición de unidades exFAT existentes sin migración de datos              |

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import FsCheckCliXfs from './partials/fs-check-cli-xfs.mdx';
import FsCheckCliBtrfs from './partials/fs-check-cli-btrfs.mdx';
import FsCheckCliZfs from './partials/fs-check-cli-zfs.mdx';
import FsRepairCliXfs from './partials/fs-repair-cli-xfs.mdx';
import FsRepairCliBtrfs from './partials/fs-repair-cli-btrfs.mdx';
import FsRepairCliZfs from './partials/fs-repair-cli-zfs.mdx';

### XFS

%%XFS|xfs%% es el sistema de archivos predeterminado para las unidades %%array|array%% en Unraid. Es conocido por su robustez y capacidad para recuperarse de corrupciones tras apagados inesperados o fallos. Cada unidad formateada con %%XFS|xfs%% actúa como un sistema de archivos autónomo, facilitando la recuperación de datos en cualquier sistema Linux.

- **Protección de datos:** Sin redundancia incorporada; depende de la %%parity|parity%% de Unraid para la protección.
- **Rendimiento:** Consistente y fiable.
- **Mejor para:** Unidades de %%array|array%%, especialmente cuando la estabilidad y facilidad de recuperación de datos son prioritarias.

### EXT4

EXT4 es un sistema de archivos maduro y estable que ofrece excelente compatibilidad y fiabilidad. Es completamente compatible y está a la par con %%XFS|xfs%%, %%BTRFS|btrfs%% y %%ZFS|zfs%%, lo que lo convierte en una opción sólida para unidades de arreglo o pools de una sola unidad.

- **Protección de datos:** No tiene redundancia incorporada y depende de la %%paridad|parity%% Unraid para protección.
- **Rendimiento:** Ofrece un rendimiento consistente y fiable con journaling para garantizar la integridad de los datos.
- **Best for:** %%Array|array%% drives or single-drive pools when you are looking for an alternative to %%XFS|xfs%%.

### ZFS

%%ZFS|zfs%% es un sistema de archivos moderno que viene con características avanzadas como %%checksums|checksum%% para detectar %%bit rot|bit-rot%%, %%snapshots|snapshot%% para copias de seguridad y opciones de soporte nativas %%RAID|raid%% como %%RAIDZ1|raidz1%%/%%RAIDZ2|raidz2%%/%%RAIDZ3|raidz3%% y espejos. %%ZFS|zfs%% puede utilizarse tanto para pools de un solo dispositivo como de múltiples dispositivos.

- **Protección de datos:** Soporta varios niveles de %%RAID|raid%% para redundancia.
- **Rendimiento:** Excelente, particularmente en pools de dispositivos múltiples.
- **Mejor para:** Entornos de alto rendimiento, %%virtual machines|vm%%, Docker o cuando se requieren funciones avanzadas como %%snapshots|snapshot%%.

Para obtener una guía completa sobre las características, configuración y mejores prácticas de %%ZFS|zfs%%, consulta la página dedicada a [ZFS storage](../../advanced-configurations/optimize-storage/zfs-storage.mdx).

### BTRFS

%%BTRFS|btrfs%% ofrece soporte flexible para %%RAID|raid%%, %%checksums|checksum%% para la integridad de datos, y gestión eficiente de discos de tamaños mixtos en agrupaciones. Sirve como sistema de archivos predeterminado para %%cache pools|cache-pool%% y admite configuraciones de un solo dispositivo y de varios dispositivos.

- **Protección de datos:** Soporta %%RAID 0|raid0%%/%%1|raid1%%/%%10|raid10%%/%%5|raid5%%/%%6|raid6%% (tenga en cuenta que %%RAID 5|raid5%%/%%6|raid6%% aún son experimentales).
- **Rendimiento:** Bueno, con flexibilidad para expansión y contracción.
- **Mejor para:** %%Cache pools|cache-pool%%, especialmente si planeas mezclar SSDs y HDDs o necesitas una manera fácil de expandir.

### NTFS y exFAT (soporte limitado)

Los sistemas de archivos NTFS y exFAT son compatibles con algunas limitaciones. Esto es principalmente para ayudarte a agregar unidades existentes con datos a tu sistema Unraid sin necesidad de transferir los datos a otro lugar primero.

:::warning

Las unidades formateadas con NTFS o exFAT deben añadirse al %%array|array%% **antes** de añadir cualquier unidad de paridad. Una vez que se ha añadido una unidad de paridad a tu %%array|array%%, cualquier nueva unidad de datos que añadas será blanqueada, independientemente de su formato de sistema de archivos.

Si deseas utilizar unidades NTFS o exFAT existentes:

- Agrégalas al %%array|array%% primero (o ejecuta ***Tools → New Config*** para restablecer la configuración de tu array).
- Después de agregar tus unidades de datos NTFS/exFAT, puedes agregar unidades de paridad.
- Los datos existentes en estas unidades se conservarán y protegerán mediante paridad.

:::

- **Protección de datos:** Estas unidades no ofrecen redundancia incorporada; dependen de la %%paridad|parity%% de Unraid para protección una vez se añade la paridad.
- **Rendimiento:** Adecuados para necesidades básicas de almacenamiento.
- **Lo mejor para:** Añadir unidades ya formateadas para Windows (NTFS) o formateadas para múltiples plataformas (exFAT) sin necesidad de migración de datos. También pueden usarse para pools de una sola unidad.
- **Limitaciones:** Estos sistemas de archivos no son recomendados para uso regular; están destinados principalmente para la migración de unidades existentes. Para nuevas unidades, considera usar %%XFS|xfs%%, EXT4, %%BTRFS|btrfs%% o %%ZFS|zfs%% en su lugar.

Para más detalles sobre cómo añadir unidades existentes, consulta las [notas de la versión](../../release-notes/7.2.0.md#ext234-ntfs-and-exfat-support).

:::note[Additional Notas]

- Mezclar diferentes tipos de sistemas de archivos en su sistema Unraid es perfectamente aceptable; el sistema de %%parity|parity%% de Unraid funciona independientemente del sistema de archivos utilizado.
- Siempre formatee y particione las unidades dentro de Unraid para asegurar la compatibilidad.
- Los sistemas Linux pueden leer estos sistemas de archivos de forma nativa; sin embargo, Windows y macOS requerirán software adicional para acceder.
- Puedes **encriptar** unidades para mayor seguridad, pero ten en cuenta que las unidades encriptadas pueden plantear desafíos para la recuperación si ocurre una corrupción.
- Para unidades de transferencia o dispositivos externos, se recomienda usar el plugin **[Unassigned Devices](#using-the-unassigned-devices-plugins)**, que admite sistemas de archivos adicionales.
  :::

:::

:::tip[Still ¿necesitas ayuda eligiendo?

- **Para unidades de array:** %%XFS|xfs%% es generalmente la mejor opción para la mayoría de los usuarios. EXT4 también es una opción sólida si prefieres un sistema de archivos Linux más tradicional.
- **Para alto rendimiento o características avanzadas:** Elige %%ZFS|zfs%% o %%BTRFS|btrfs%% para %%cache pools|cache-pool%% o configuraciones de múltiples dispositivos. Consulta la página [ZFS storage](../../advanced-configurations/optimize-storage/zfs-storage.mdx) para obtener una guía detallada de %%ZFS|zfs%%.
- **Para pools mixtos o en expansión:** %%BTRFS|btrfs%% es ideal si desea utilizar diferentes tamaños de unidades o añadir o quitar dispositivos fácilmente.
- **Para unidades existentes:** Usa NTFS o exFAT solo cuando agregues unidades existentes con datos; añádelas antes de añadir la paridad.

Si no estás seguro, comenzar con los valores predeterminados es una buena opción: usa %%XFS|xfs%% para las unidades de %%array|array%% y %%BTRFS|btrfs%% para %%cache pools|cache-pool%%.

:::

---

## Establecer un tipo de sistema de archivos

Al agregar una nueva unidad a Unraid, puedes seleccionar el tipo de sistema de archivos que mejor se adapte a tus necesidades. El sistema de archivos determina cómo se organiza y protege la información en el disco.

Para establecer el tipo de sistema de archivos de manera global, navega a ***Settings → Disk Settings*** para establecer el sistema de archivos predeterminado solo para nuevas unidades %%array|array%%. Unraid se predetermina a %%XFS|xfs%% para unidades %%array|array%%.

:::note

Actualmente no hay una configuración predeterminada global para %%cache pools|cache-pool%%. Siempre se predeterminarán a %%BTRFS|btrfs%% si se dejan en "auto".

:::

:::important

Si estás agregando unidades con datos NTFS o exFAT existentes, deben añadirse al %%array|array%% antes de añadir cualquier unidad de paridad. Una vez que hay paridad presente, todas las unidades de datos añadidas nuevas serán blanqueadas independientemente de su tipo de sistema de archivos.

:::

Para establecer el sistema de archivos para una unidad individual:

1. Detén el %%array|array%% antes de realizar cambios.
2. En la pestaña **Principal**, haz clic en la unidad que deseas configurar.
3. Selecciona el tipo de sistema de archivos deseado del menú desplegable.
4. (Opcional) Si seleccionas **auto**, Unraid utiliza el predeterminado global.
5. Para %%cache pools|cache-pool%% de múltiples dispositivos, solo se admite %%BTRFS|btrfs%% o %%ZFS|zfs%%.
6. Si agregas unidades de datos NTFS o exFAT existentes al %%array|array%%, agrégalas antes de añadir cualquier unidad de paridad.

---

## Crear un sistema de archivos (formateo)

Antes de usar un nuevo disco en Unraid, debe formatearlo con el sistema de archivos seleccionado.

:::warning

Formatear borrará todo el contenido existente en la unidad. Asegúrate de haber respaldado cualquier dato importante antes de continuar.

:::

Para formatear una unidad:

1. Inicie el %%array|matriz%%.
2. Identifica las unidades no montables (aparecen como **unmountable**).
3. Verifica que todas las unidades no montables sean las que deseas formatear.
4. Marca la casilla de confirmación, lee el cuadro de advertencia y haz clic en **Formatear**.
5. Supervisa el proceso. Para discos nuevos, Unraid primero reescribe la tabla de particiones.
6. Espera a que se complete. Si el progreso se atasca, actualiza la pestaña **Principal**.

Una vez que se complete el formateo, la unidad estará lista para almacenar archivos.

---

## Cambiar un tipo de sistema de archivos

Es posible que desee cambiar el tipo de sistema de archivos en una unidad específica para aprovechar las nuevas características o asegurar la compatibilidad con tus otras unidades.

:::warning

Cambiar el tipo de sistema de archivos **borrará todos los datos existentes** en la unidad. Siempre haz copias de seguridad de cualquier archivo importante antes de proceder.

:::

Para cambiar el tipo de sistema de archivos en una unidad particular:

1. Detenga el %%array|array%%.
2. En la pestaña **Principal**, haz clic en la unidad que deseas cambiar.
3. Elige el nuevo sistema de archivos del menú desplegable (repite para múltiples unidades si es necesario).
4. Inicie el %%array|matriz%%.
5. En la pestaña **Principal**, revisa la lista de unidades no montables y asegura que solo las unidades deseadas estén incluidas.
6. Marca la casilla de confirmación y haz clic en **Formatear**.
7. Espera a que se complete. Si el estado no se actualiza, actualiza la pestaña **Principal**.

Si encuentras algún problema, no dudes en visitar los [foros de Unraid](https://forums.unraid.net/). Adjunta el archivo zip de diagnósticos del sistema (encontrado en ***Tools → Diagnostics***) para obtener asistencia.

---

## Convirtiendo a un nuevo tipo de sistema de archivos

:::important

La página ***Principal*** advertirá si alguna unidad de array o pool está formateada en sistemas de archivos heredados:

- Cualquier unidad formateada en ReiserFS necesita migrarse a otro sistema de archivos lo antes posible, ya que no será utilizable en futuras versiones de Unraid.
- Cualquier unidad formateada en versiones antiguas de XFS necesita migrarse antes del 2030.

:::

Para cambiar el tipo de sistema de archivos de una unidad pero conservar sus datos, debe migrar el contenido antes de reformatear. Este proceso es especialmente común para usuarios que se alejan del ReiserFS obsoleto (utilizado en versiones antiguas de Unraid) hacia %%XFS|xfs%% o %%BTRFS|btrfs%%, pero se aplica a cualquier conversión de sistema de archivos.

:::important

Este proceso requiere mover temporalmente sus datos a otra ubicación. Asegúrese de tener suficiente espacio libre en otro lugar de su %%array|array%% o en un dispositivo externo antes de comenzar.

:::

Reformatear una unidad en Unraid borrará todos sus datos y creará un nuevo y vacío sistema de archivos. Este proceso es útil para resolver errores persistentes del sistema de archivos o empezar de nuevo con un nuevo formato.

1. Mueve todos los datos de la unidad a otra ubicación (otra unidad %%array|array%%, %%cache pool|cache-pool%% o copia de seguridad externa). Usa uno de estos métodos:

   \*\*A través de la WebGUI (Unraid 7.2+):

   - Navega a ***Main → Array Operation*** y detiene la matriz
   - Navega a ***Settings → Global Share Settings***. En el área de **Vaciado de disco(s)**, selecciona el/los discos a vaciar y **Aplica**. Nota: este estado se eliminará automáticamente cuando se detenga la matriz.
     - En Unraid 7.2.0, cualquier dato en este disco estará oculto de las carpetas compartidas de usuario hasta que este estado sea eliminado.
     - A partir de Unraid 7.2.1, los datos siguen disponibles para las carpetas compartidas de usuario pero no se escribirán nuevos archivos en el disco hasta que este estado sea eliminado.
   - Navega a ***Main → Array Operation*** y inicia la matriz
   - En ***Main → Array Operation*** haz clic en **Mover** (o espera hasta que el mover se ejecute según su horario normal)
   - Mover vaciará el disco, moviendo archivos a otros discos de la matriz según la configuración de Tus Shares. Tenga en cuenta que los archivos en la raíz de la unidad están fuera de cualquier Share y no se moverán.
   - Revisa ***Tools → System Log*** para ver mensajes sobre archivos que no se pudieron mover debido a su uso o falta de espacio libre

   \*\*O a través de la línea de comandos (solo Unraid 7.0 y 7.1):

   - Mueve archivos [usando 'mover' para vaciar un disco de array](../../release-notes/7.0.0.md#using-mover-to-empty-an-array-disk) a otras unidades de array

   **O manualmente:**

   - Mueve archivos manualmente a otra ubicación

   Una vez completado, navega a ***Main → Array Devices*** y explora el disco para confirmar que está vacío. Procede solo cuando estés segur@ de que el disco esté vacío.
2. Sigue el procedimiento para [cambiar un tipo de sistema de archivos](#changing-a-file-system-type). Esto formatea la unidad y borra todo el contenido, dejando un disco en blanco en el nuevo formato.
3. (Opcional) Mueve tus datos de regreso a la unidad recién formateada, dependiendo de dónde moviste los archivos.
4. Si tienes múltiples unidades para convertir, repite estos pasos para cada unidad.

:::note\[Timing]

El proceso puede tardar varias horas, dependiendo de la cantidad de datos y la velocidad de sus unidades. La mayor parte del tiempo se invierte en copiar archivos, lo cual puede ejecutarse sin supervisión.

:::

---

## Reformateando una unidad

Reformatear una unidad en Unraid borrará todos sus datos y creará un nuevo y vacío sistema de archivos. Este proceso es útil para resolver errores persistentes del sistema de archivos o empezar de nuevo con un nuevo formato.

:::warning

Reformatear borrará permanentemente todos los datos en la unidad. Siempre haga una copia de seguridad de los archivos importantes antes de comenzar.

:::

Para **reformatear de manera segura** su unidad:

1. **Detén el array**.
2. **Cambie el tipo de sistema de archivos**:
   - Vaya a la pestaña **Principal** y haga clic en la unidad que desea reformatear.
   - Seleccione un tipo diferente de sistema de archivos (por ejemplo, cambie de %%XFS|xfs%% a %%BTRFS|btrfs%%).
   - Inicie el %%array|array%%, y la unidad se mostrará como **no montable**.
   - Cuando se le indique, formatee la unidad.
3. **(Opcional) Cambie nuevamente a su tipo de sistema de archivos original**:
   - Detenga el %%array|array%% nuevamente.
   - Cambie el sistema de archivos de nuevo a su tipo preferido.
   - Inicie el %%array|array%% y formatee la unidad una vez más.

Este sencillo proceso asegura que la unidad esté completamente borrada y formateada como desee. El proceso de formateo generalmente toma solo unos minutos.

### Reformatear una unidad de cache

A veces, necesitará reformatear una unidad de %%cache|cache%% por las siguientes razones:

- Para cambiar el tipo de sistema de archivos (por ejemplo, de %%BTRFS|btrfs%% a %%XFS|xfs%% o viceversa)
- Para corregir errores persistentes del sistema de archivos
- Para comenzar de cero para nuevas cargas de trabajo

#### Preparación

Antes de reformatear, prepara el sistema:

1. Detenga el %%array|array%%.
2. Ve a **Configuración** y desactiva los servicios de Docker y %%VM|vm%% (esto evita que sus pestañas aparezcan durante el proceso).
3. Inicia nuevamente el %%array|array%%.

#### Mueve datos fuera de la caché

Para mover datos fuera del cache:

1. Establezca el almacenamiento compartido y la acción de Mover (caché → array):
   - Ve a la pestaña **Comparticiones**.
   - Para cada compartir con archivos en el %%cache|cache%%, establece **Almacenamiento principal** en el %%cache|cache%% de origen y **Almacenamiento secundario** en el %%array|array%%.
   - Establezca **Acción de Mover** en **caché → array**.
   - Nota los compartidos que cambiaste y sus configuraciones originales.
2. En la pestaña **Principal**, haz clic en **Mover Ahora** y espera a que se complete. Asegúrate de que el %%cache|cache%% esté vacío.
   - Si quedan archivos, detente y verifica en los foros para ayuda.

#### Reformatea la unidad de caché

Mantener sus pools %%BTRFS|btrfs%% en Unraid es esencial para mantenerlos funcionando bien y asegurar que sus datos estén seguros. Dos herramientas clave que querrá usar regularmente son **Balance** y **Scrub**. Estas operaciones ayudan a resolver problemas de asignación de espacio, optimizan el uso de su almacenamiento y protegen sus datos de la corrupción oculta.

1. Detenga el %%array|array%%.
2. Establece el formato de la unidad de caché:
   - En la pestaña **Principal**, haz clic en la unidad de caché.
   - Elige entre %%XFS|xfs%%, EXT4 o %%BTRFS|btrfs%%.
   - Para una sola unidad de %%cache|cache%%, se recomiendan %%XFS|xfs%% o EXT4.
   - Ten en cuenta que %%XFS|xfs%% y EXT4 solo están disponibles con un slot de %%cache|cache%%.
3. Inicie el %%array|matriz%%.
4. Formatea la unidad de caché:
   - Confirma que solo la unidad de %%cache|cache%% esté listada como no montable.
   - Marca la casilla de confirmación y haz clic en **Formatear**.

#### Restaura datos y configuraciones

Para restaurar datos y configuraciones:

1. Para cada compartir que cambiaste, establece el **Almacenamiento principal** y **Almacenamiento secundario** de vuelta a sus valores originales.
2. Mueve los datos de regreso (array → cache):
   - Para cada compartir que cambiaste, establece **Almacenamiento principal** al %%cache|cache%% de destino y **Almacenamiento secundario** al %%array|array%%.
   - Configura la **acción del Mover** a **conjunto → caché**.
   - En la pestaña **Principal**, haz clic en **Mover Ahora** para mover los datos de regreso al %%cache|cache%%.
3. Detenga el %%array|array%%.
4. Ve a **Configuración** y vuelve a habilitar los servicios de Docker y %%VM|vm%%.
5. Inicia el %%array|array%% para completar el proceso.

:::note\[Timing]

El tiempo que lleva mover datos con el %%Mover|mover%% y formatear la unidad puede variar de varios minutos a varias horas, dependiendo de la cantidad de datos y la velocidad de la unidad.

:::

---

## Operaciones de BTRFS

Mantener sus pools %%BTRFS|btrfs%% en Unraid es esencial para mantenerlos funcionando bien y asegurar que sus datos estén seguros. Dos herramientas clave que querrá usar regularmente son **Balance** y **Scrub**. Estas operaciones ayudan a resolver problemas de asignación de espacio, optimizan el uso de su almacenamiento y protegen sus datos de la corrupción oculta.

Dividamos qué hace cada operación y cuándo usarlas:

### Equilibrio

La operación **Balance** redistribuye los datos y los fragmentos de metadatos a lo largo de tu pool %%BTRFS|btrfs%%. Este proceso ayuda a liberar espacio, resuelve problemas de asignación y puede corregir errores de "no hay espacio disponible" inclusive cuando parece que hay espacio.

#### Cuándo ejecutar Balance

- Cuando encuentres errores de "no hay espacio disponible" pero tenías espacio libre.
- Después de añadir o quitar unidades en un pool.
- Para optimizar el uso del espacio y mejorar el rendimiento.

#### Cómo ejecutar Balance

1. En el %%WebGUI|web-gui%%, haz clic en el pool en la pestaña **Principal** y selecciona **Balancear**.
2. (Opcional) Añade parámetros para uso avanzado (consulta la Ayuda de Unraid para detalles).
3. Haz clic en **Iniciar** para comenzar.

:::note\[Timing]

Las operaciones de balance pueden llevar desde unos pocos minutos hasta varias horas, dependiendo del tamaño del pool y la cantidad de datos.

:::

### Depurar

La operación **Scrub** lee todos los datos y metadatos, verifica la integridad de las sumas de comprobación y repara cualquier bloque dañado utilizando copias redundantes disponibles. La depuración ayuda a identificar y corregir la corrupción de datos silenciosa, conocida como "bit rot", antes de que se convierta en un problema significativo.

#### Cuándo ejecutar el Escrutinio

- Como parte del mantenimiento de rutina (consulta el programa recomendado a continuación).
- Después de apagados no limpios o si sospechas de corrupción.
- Con más frecuencia en pools de alto uso.

#### Programación recomendada

- Pools de alto uso: **Una vez a la semana**
- Todos los demás pools: **Una vez al mes**

#### Cómo ejecutar el Escrutinio

1. En el %%WebGUI|web-gui%%, haz clic en el pool en la pestaña **Principal** y selecciona **Depurar**.
2. Haz clic en **Iniciar** para iniciar.

:::note\[Timing]

Las operaciones de limpieza suelen ser más rápidas que un escaneo completo del disco porque solo verifican los datos asignados. Según el tamaño y uso del pool, espera que esto tome de unos pocos minutos a unas pocas horas.

:::

:::tip

Tanto **Balance** como **Scrub** pueden realizarse mientras el sistema está en línea, pero tenga en cuenta que el rendimiento puede verse afectado durante estas operaciones. Puede monitorear el progreso en el %%WebGUI|web-gui%%.

:::

Para más detalles sobre características avanzadas de %%BTRFS|btrfs%%, consulta la [documentación oficial de BTRFS](https://btrfs.readthedocs.io/en/latest/Introduction.html).

---

## Unidades no asignadas

Las unidades no asignadas son dispositivos de almacenamiento conectados a su servidor Unraid que no forman parte del %%array|array%% principal ni de ningún %%cache pool|cache-pool%%. Puede usar estas unidades para transferir archivos, crear copias de seguridad, o proporcionar almacenamiento rápido para %%virtual machines|vm%%.

:::note

Todas las unidades conectadas a tu servidor cuando se inicia el %%array|array%% cuentan hacia el límite de dispositivos adjuntos de la licencia Unraid, incluso si no están asignadas al %%array|array%% o a un pool.

:::

### Usos comunes para unidades no asignadas

- Conecta unidades removibles para transferencias de archivos o copias de seguridad fáciles.
- Usa unidades dedicadas para tareas de alto rendimiento como ejecutar %%máquinas virtuales|vm%% o almacenamiento temporal de datos.

### Uso de los plugins de dispositivos no asignados

Para aprovechar al máximo tus unidades no asignadas, considera instalar los siguientes plugins desde la pestaña **Aplicaciones**:

- **[Unassigned Devices](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices,-dlandon):** Este plugin te permite montar, compartir y gestionar unidades con sistemas de archivos que Unraid soporta, como %%XFS|xfs%%, %%BTRFS|btrfs%%, o NTFS.

- **[Unassigned Devices Plus](https://unraid.net/community/apps?q=dlandon\&r=0#:~:text=and%20iso%20files.-,Unassigned%20Devices%20Plus,-\(Addon\)):** Esta extensión amplía tus opciones al soportar sistemas de archivos adicionales, incluyendo ExFAT y HFS+.

Estos plugins permiten:

- Montar y desmontar unidades fácilmente desde la interfaz web de Unraid.
- Compartir tus unidades no asignadas por medio de la red.
- Automatizar el proceso de montaje cuando el servidor se inicia.
- Formatear o borrar unidades para uso futuro.
- Desconectar de manera segura unidades USB o externas sin complicaciones.

Para más detalles sobre la instalación y gestión de plugins, consulta [Plugins](../customize-your-experience/plugins.mdx).

---

## Solución de problemas

### La unidad se muestra como no montable

Si ves que una unidad en Unraid es **no montable**, podría deberse a una de dos razones principales:

1. Si acabas de agregar una nueva unidad a tu configuración, aparecerá como no montable hasta que la formatees. El formato crea un sistema de archivos que permite que la unidad almacene archivos. Puedes encontrar los pasos para formatear una unidad [aquí](#creating-a-file-system-formatting).

2. Si una unidad que anteriormente funcionaba de repente aparece como no montable, probablemente tenga un problema de sistema de archivos. Esto puede suceder debido a apagados inesperados, problemas al escribir datos o si la unidad ha sido marcada como deshabilitada (lo cual aparece como una 'x' roja en el %%WebGUI|web-gui%%).

:::important

No formatee una unidad no montable a menos que esté bien con perder todos los datos en ella. Formatear borrará todo y actualizará la información de %%parity|parity%%, haciendo que la recuperación sea imposible. Siempre intente primero reparar el sistema de archivos.

:::

Si tu unidad es no montable:

1. Determina si es una nueva unidad o una unidad que funcionaba anteriormente.
2. Para nuevas unidades: Formatea la unidad para crear un nuevo sistema de archivos (consulta los [pasos de formato](#creating-a-file-system-formatting)).
3. Para unidades que funcionaban anteriormente: Realiza una comprobación o reparación de sistema de archivos (consulta [Comprobación de un sistema de archivos](#checking-a-file-system)). Evita formatear si quieres conservar los datos.

:::note

Si una unidad está tanto no montable como deshabilitada (x roja), primero ejecute la verificación/reparación en la unidad **emulada**. Si la unidad emulada también es no montable y intenta reconstruirla, la nueva unidad también será no montable.

:::

A partir de Unraid 7.0, la reparación del sistema de archivos XFS ahora está completamente automatizada a través del WebGUI:

:::important[Why ¿la paridad no es suficiente?]

Aunque %%parity|parity%% ayuda a recuperar una unidad fallida, no puede corregir problemas del sistema de archivos. Si el sistema de archivos está dañado, %%parity|parity%% simplemente replicará ese daño en la nueva unidad.

Si no estás seguro:

- Descarga tus registros del sistema navegando a ***Herramientas → Diagnósticos***.
- Para obtener ayuda experta, publica tu problema junto con los diagnósticos en los [foros de Unraid](https://forums.unraid.net/).

:::

:::note[Just para reiterar]

- Solo formatea unidades no montables si son completamente nuevas o si quieres borrar todos los datos.
- Usa la comprobación/reparación del sistema de archivos para corregir archivos corruptos; no relies en %%parity|parity%% para resolver estos problemas.
- Para %%cache pools|cache-pool%% con múltiples unidades, considera usar ya sea %%BTRFS|btrfs%% o %%ZFS|zfs%%.
- Siempre verifica antes de formatear o reparar unidades para evitar pérdidas accidentales de datos.

:::

---

### Comprobación de un sistema de archivos

Si un disco que anteriormente se montaba sin problemas ahora se muestra como **no montable**, generalmente indica corrupción del sistema de archivos. Esto puede resultar de un apagado no limpio, una fallida operación de escritura, o el disco siendo marcado como deshabilitado en el %%WebGUI|web-gui%%. Revisar y reparar el sistema de archivos es generalmente más rápido y seguro que realizar una reconstrucción, por lo que se recomienda intentarlo antes de formatear o reconstruir el disco.

:::important

Si el %%WebGUI|web-gui%% sugiere formatear una unidad no montable, **no formatees** a menos que desees borrar todos los datos. El formateo destruirá el contenido de la unidad y actualizará la %%paridad|parity%%, haciendo imposible la recuperación.

:::

#### Preparándose para comprobar o reparar

1. Identifica el tipo de sistema de archivos:
   - En la pestaña **Principal**, selecciona tu disco (e.g., Disco 3, Caché).
   - Encuentra el **Tipo de sistema de archivos** (debe ser %%XFS|xfs%%, EXT4, %%BTRFS|btrfs%% o %%ZFS|zfs%%).

2. Inicie el array en el modo correcto:
   - Para **%%XFS|xfs%%** o **EXT4**, inicia el %%array|array%% en el **%%Modo de Mantenimiento|maintenance-mode%%**.
   - Para **%%BTRFS|btrfs%%**, inicie el %%array|array%% en **modo Normal** para un %%scrub|scrub%% o **%%modo de Mantenimiento|maintenance-mode%%** para una reparación.
   - Para **%%ZFS|zfs%%**, consulta la sección de %%ZFS|zfs%% a continuación.

3. If the disk is disabled and being emulated, run the check/repair on the %%emulated disk|emulated-disk%% before attempting a rebuild. If the %%emulated disk|emulated-disk%% is unmountable, the rebuilt disk will also be unmountable.

#### Mensajes de error comunes

| Mensaje                                                                  | Significado / Acción                                                               |
| ------------------------------------------------------------------------ | ---------------------------------------------------------------------------------- |
| **El superbloque tiene un número mágico malo**                           | Corrupción severa; intenta una reparación del sistema de archivos.                 |
| **El sistema de archivos está sucio**                                    | Apagado no limpio; ejecuta una comprobación del sistema de archivos.               |
| **Detectada corrupción de metadatos**                                    | Las estructuras del sistema de archivos están dañadas; inicia una reparación.      |
| **No se encontró una %%BTRFS\|btrfs%% válida**                           | El disco puede no pertenecer a un pool válido; verifica las asignaciones del pool. |
| **Montar: tipo de sistema de archivos erróneo, opción incorrecta, etc.** | Selección incorrecta del sistema de archivos o disco sin formatear.                |
| **No se puede montar /dev/mdX: la estructura necesita limpieza**         | El sistema de archivos está corrompido; realiza una reparación.                    |

#### Comprobación a través del WebGUI

1. Inicia el %%array|array%% en el modo correcto (consulta los pasos anteriores).
2. En la pestaña **Principal**, selecciona el disco que deseas comprobar.
3. Desplázate hasta **Verificar estado del sistema de archivos**.
4. Para XFS: Verás un botón **VERIFICAR** sin opciones para ingresar. El sistema automáticamente determinará las acciones necesarias basadas en los resultados de la verificación.
5. Para otros sistemas de archivos: Ingresa cualquier opción necesaria (para detalles, consulta la **Ayuda** en la esquina superior derecha).
6. Haz clic en **Comprobar** para iniciar el proceso.
7. Supervisa el progreso en el cuadro de salida. Usa **Actualizar** si es necesario.
8. Revisa los resultados. Si no estás seguro, copia la salida y publícala en los [foros](https://forums.unraid.net/) para obtener consejos.

#### Flujo de trabajo de reparación automática de XFS

La reparación del sistema de archivos XFS es totalmente automatizada a través del WebGUI:

1. Haz clic en el botón **VERIFICAR** (sin opciones para ingresar)
2. Verifica los resultados:
   - **No se detectó corrupción**: Muestra "no se detectó corrupción del sistema de archivos" y el botón **CHECK** permanece
   - **Se detectó corrupción**: Muestra "se detectó corrupción del sistema de archivos" y aparece un botón **FIX**
3. Haz clic en **REPARAR** para reparar automáticamente el sistema de archivos
4. Si es necesario, puede aparecer un botón de **BORRAR LOG**
5. Muestra "sistema de archivos reparado" cuando el proceso está completo

Este sistema automatizado elimina la necesidad de que los usuarios ingresen manualmente las opciones de reparación y asegura que se siga la secuencia de reparación correcta.

#### Comprobación a través de la línea de comandos

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsCheckCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsCheckCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsCheckCliZfs />
  </TabItem>
</Tabs>

:::tip

- Las reparaciones de sistemas de archivos generalmente son más rápidas que una reconstrucción completa y pueden restaurar el acceso sin pérdida de datos.
- Reconstruir un disco **no** resuelve la corrupción del sistema de archivos; siempre ejecute una verificación o reparación primero.
- Si tiene dudas, publique sus diagnósticos y mensajes de error en los [foros](https://forums.unraid.net/) de Unraid para recibir asistencia experta.

:::

---

### Reparación de un sistema de archivos

Si un chequeo de su sistema de archivos encuentra errores, es posible que deba ejecutar una reparación para volver a tener acceso a sus datos. Las reparaciones generalmente toman menos tiempo que una reconstrucción total, pero es importante leer la salida con cuidado y buscar ayuda en los [foros](https://forums.unraid.net/) si no está seguro de algo.

:::note\[Timing]

Las reparaciones pueden tardar desde varios minutos hasta varias horas, especialmente para sistemas de archivos más grandes o muy corruptos. El progreso puede parecer lento, pero puede verificar la actividad mirando las estadísticas de lectura/escritura en la Página Principal.

:::

#### Preparación para reparar

1. En la pestaña **Principal**, haz clic en el disco e identifica el tipo de sistema de archivos (%%XFS|xfs%%, EXT4, %%BTRFS|btrfs%% o %%ZFS|zfs%%).

2. Inicie el array en el modo correcto:

   - **Para %%XFS|xfs%% o EXT4:** Usa el **%%Modo de Mantenimiento|maintenance-mode%%**.
   - **Para %%BTRFS|btrfs%%:** Use **Modo Normal** para un %%scrub|fregado%%; use **Modo de Mantenimiento** para una reparación.
   - **For %%ZFS|zfs%%:** Use **Normal mode** and run a %%scrub|scrub%% to check for errors. See the [ZFS storage page](../../advanced-configurations/optimize-storage/zfs-storage.mdx) for guidance on %%ZFS|zfs%% pool maintenance and repair procedures.

3. If the disk is disabled and being emulated, run the repair on the %%emulated disk|emulated-disk%% before trying to do a rebuild.

#### Reparación a través del WebGUI

1. Inicia el %%array|array%% en el modo correcto (consulta la sección anterior).
2. En la pestaña **Principal**, haz clic en el disco que deseas reparar.
3. Desplázate hasta **Verificar estado del sistema de archivos**.
4. Para XFS: El proceso de reparación está totalmente automatizado. Haz clic en **VERIFICAR**, luego en **REPARAR** si se detecta corrupción y en **BORRAR LOG** si se te pide.
5. Para otros sistemas de archivos: Elimina cualquier opción que ejecute el proceso solo en modo de verificación (como `--solo-lectura` para %%BTRFS|btrfs%%).
6. Si se solicita, agregue las opciones sugeridas como se indica en la verificación de salida.
7. Haga clic en **Comprobar** para comenzar la reparación.
8. Monitoree el progreso en la caja de salida. Use **Actualizar** si es necesario.
9. Si observa una carpeta `lost+found` después de la reparación, podría contener archivos o carpetas que no pudieron ser completamente recuperados. Use copias de seguridad o el comando `file` de Linux para identificar el contenido si es necesario.

:::info

Si no está seguro acerca de la salida, cópiela y compártala en los [foros de Unraid](https://forums.unraid.net/) para obtener ayuda de expertos. Use la opción de formato de código para mantenerlo legible.

:::

#### Reparación a través de la línea de comandos

<Tabs>
  <TabItem value="xfs" label="XFS">
    <FsRepairCliXfs />
  </TabItem>

  <TabItem value="btrfs" label="BTRFS">
    <FsRepairCliBtrfs />
  </TabItem>

  <TabItem value="zfs" label="ZFS">
    <FsRepairCliZfs />
  </TabItem>
</Tabs>

:::info[After la reparación]

- Detenga y reinicie el %%array|array%% en **Modo Normal**.
- La unidad ahora debería montar y ser accesible.
- Si ve una carpeta `lost+found`, verifique su contenido para cualquier archivo importante.

:::

Si no entiende la salida de la reparación o si el proceso falla, comparta sus diagnósticos y el registro de reparación en los [foros de Unraid](https://forums.unraid.net/) para obtener más ayuda.
