---
sidebar_position: 3
sidebar_label: Gesti√≥n y personalizaci√≥n de contenedores
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import DockerNetworkType from './partials/managing-and-customizing-containers/network-type.mdx';
import DockerVolumeMappings from './partials/managing-and-customizing-containers/volume-mappings.mdx';
import DockerPortMappings from './partials/managing-and-customizing-containers/port-mappings.mdx';
import DockerEnvironmentVariables from './partials/managing-and-customizing-containers/environment-variables.mdx';
import DockerCommandStart from './partials/managing-and-customizing-containers/command-start.mdx';
import DockerCommandStop from './partials/managing-and-customizing-containers/command-stop.mdx';
import DockerCommandRestart from './partials/managing-and-customizing-containers/command-restart.mdx';
import DockerCommandStatus from './partials/managing-and-customizing-containers/command-status.mdx';
import DockerCommandLogs from './partials/managing-and-customizing-containers/command-logs.mdx';

# Gesti√≥n y personalizaci√≥n de contenedores

:::caution\[Disclaimer]

Esta p√°gina est√° redactada para ayudar a usuarios de todos los niveles a aprovechar al m√°ximo los contenedores Docker en Unraid OS. Los consejos y mejores pr√°cticas provienen del equipo de Unraid, quienes aseguran que est√°n adaptados a las necesidades de la mayor√≠a de los usuarios. Sin embargo, ten en cuenta que Docker est√° en constante evoluci√≥n, por lo que para obtener las funciones m√°s actualizadas, configuraciones avanzadas o resolver problemas que van m√°s all√° de lo que Unraid cubre, siempre es una buena idea consultar la [documentaci√≥n oficial de Docker](https://docs.docker.com/).

:::

Antes de personalizar un contenedor Docker en Unraid, es √∫til entender las opciones b√°sicas de configuraci√≥n. Cada [plantilla de contenedor](./community-applications.mdx) proporciona una interfaz f√°cil de usar para configurar la red, el almacenamiento y las variables de entorno, permiti√©ndote adaptar el comportamiento del contenedor a tus necesidades sin necesidad de usar herramientas de l√≠nea de comandos complejas.

<Tabs>
  <TabItem value="tipo-de-red" label="Tipo de red" default>
    <DockerNetworkType />
  </TabItem>

  <TabItem value="mapeos-de-volumen" label="Mapeos de Volumen">
    <DockerVolumeMappings />
  </TabItem>

  <TabItem value="mapeos-de-puerto" label="Mapeos de Puerto">
    <DockerPortMappings />
  </TabItem>

  <TabItem value="variables-de-entorno" label="Variables de entorno">
    <DockerEnvironmentVariables />
  </TabItem>
</Tabs>

## Creaci√≥n y ejecuci√≥n de contenedores

Una vez que hayas configurado la red del contenedor, los mapeos de volumen, los mapeos de puerto y las variables de entorno, estar√°s listo para crear y lanzar tu contenedor Docker. Esta secci√≥n te guiar√° a trav√©s del proceso de creaci√≥n, explicar√° c√≥mo gestionar el orden de inicio y las dependencias, y proporcionar√° consejos para personalizaci√≥n avanzada del inicio.

### Creando un contenedor

Despu√©s de revisar sus ajustes de configuraci√≥n en la plantilla del contenedor:

1. Haga clic en **Crear** para comenzar la descarga y configuraci√≥n del contenedor.
   - Evite cerrar la ventana del navegador o navegar lejos hasta que el proceso se complete.
   - La descarga inicial para un nuevo repositorio puede tardar m√°s que descargas subsiguientes.
2. Una vez el proceso haya finalizado, haga clic en **Listo** para volver a la p√°gina de Docker, donde puede gestionar o agregar m√°s contenedores.

### Planificaci√≥n de su secuencia de inicio

Algunos contenedores dependen de otros para funcionar correctamente. Por ejemplo, una aplicaci√≥n podr√≠a necesitar un contenedor de base de datos en funcionamiento primero, o un servicio podr√≠a requerir un [contenedor %%VPN|vpn-tunnel%%](../../system-administration/secure-your-server/tailscale.mdx) activo antes de que comience.

:::important[Plan tu inicio]

- Identifique los contenedores que proporcionan servicios clave (como bases de datos, %%VPNs|vpn-tunnel%%, o puertas de enlace de almacenamiento).
- Aseg√∫rese de que los contenedores dependientes se inicien solo despu√©s de que sus requisitos previos est√©n funcionando y listos.
- Revise la documentaci√≥n de cada contenedor para entender cualquier requerimiento espec√≠fico de inicio.

:::

---

## Inicio avanzado de contenedores

Unraid te brinda control flexible sobre qu√© contenedores comienzan autom√°ticamente y en qu√© orden. Esto es especialmente √∫til si tienes contenedores que dependen de otros (como un servicio de base de datos o %%VPN|vpn-tunnel%%).

Para asegurarse de que un contenedor se inicie autom√°ticamente cuando el %%array|array%% se inicia:

1. Vaya a la pesta√±a **Docker** en el %%WebGUI|web-gui%%.
2. Active el interruptor de **Auto-inicio** a **ON** para cada contenedor que desee que se inicie autom√°ticamente.

### Personalizar el orden de inicio y retrasos

Por defecto, Unraid inicia todos los contenedores de inicio autom√°tico tan r√°pidamente como sea posible, en el orden en que aparecen en la pesta√±a Docker. Puedes personalizar este orden y a√±adir tiempos de espera entre los inicios de contenedores.

1. En la pesta√±a **Docker**, desbloquee la lista de contenedores usando el √≠cono de candado.
2. Arrastre y suelte los contenedores para reorganizar su orden.
3. Cambie a **Vista Avanzada** usando el interruptor en la parte superior derecha.
4. En la columna **AutoStart**, ingrese un tiempo de espera (en segundos) en el campo **wait** para cualquier contenedor que necesite tiempo extra antes de que el siguiente comience.
   - Use prueba y error para determinar los mejores tiempos de espera para su configuraci√≥n.

:::tip

Establecer el orden correcto y los tiempos de espera es especialmente importante para contenedores que dependen de servicios proporcionados por otros (por ejemplo, iniciar una base de datos antes que una aplicaci√≥n que la use, o un %%VPN|vpn-tunnel%% antes de apps dependientes).

:::

### Probando su secuencia de inicio

Aunque Unraid no tiene una funci√≥n dedicada de "probar secuencia de inicio", puede simular y verificar su orden de inicio:

1. Detener todos los contenedores desde la pesta√±a **Docker**.
2. Inicie cada contenedor manualmente, en su orden planificado, usando el bot√≥n **Iniciar**.
3. Monitoree los registros de los contenedores y el comportamiento de la aplicaci√≥n para asegurarse de que las dependencias se cumplan y los servicios se inicien como se espera.
4. Ajuste el orden de inicio o los tiempos de espera seg√∫n sea necesario.

:::important

Pruebe su secuencia de inicio despu√©s de cambiar las dependencias de contenedores o agregar nuevos servicios, especialmente si su configuraci√≥n depende de un temporizado espec√≠fico de inicio.

:::

---

## Controlando tus contenedores

Una vez que hayas creado e iniciado tu contenedor Docker, gestionarlo es f√°cil a trav√©s del %%WebGUI|web-gui%%. Esta gu√≠a te guiar√° en el uso del men√∫ contextual, la comprensi√≥n de los indicadores de salud del contenedor y el acceso a los mapeos de volumen dentro de tu contenedor.

Para acceder al men√∫ contextual del contenedor, dir√≠gete a la pesta√±a **Docker** o **Dashboard** y haz clic en el icono del contenedor que deseas gestionar. Este men√∫ ofrece un acceso sencillo a acciones comunes:

<div style={{ margin: 'auto', maxWidth: '286px', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
  ![Docker Guide - Controlling](/img/Dockerguide-controlling.png)
</div>

| Opci√≥n                  | Descripci√≥n                                                                                                                        |
| ----------------------- | ---------------------------------------------------------------------------------------------------------------------------------- |
| **WebUI**               | Abre la interfaz web del contenedor en una nueva pesta√±a del navegador (si est√° disponible).                                       |
| **Consola**             | Abre una interfaz de l√≠nea de comandos para interactuar directamente con el contenedor.                                            |
| **Detener**             | Detiene el contenedor en ejecuci√≥n.                                                                                                |
| **Pausar**              | Pausa el contenedor, deteniendo temporalmente todos los procesos.                                                                  |
| **Reiniciar**           | Reinicia el contenedor, aplicando cualquier cambio de configuraci√≥n.                                                               |
| **Registros**           | Muestra la salida del registro del contenedor para resoluci√≥n de problemas.                                                        |
| **Editar**              | Cambia la configuraci√≥n del contenedor, como mapeos de puerto o volumen. Los cambios se aplican inmediatamente despu√©s de guardar. |
| **Eliminar**            | Elimina el contenedor. Puedes elegir eliminar solo el contenedor o tambi√©n borrar su imagen.                                       |
| **P√°gina del proyecto** | Abre la p√°gina del proyecto del contenedor para documentaci√≥n y soporte.                                                           |
| **Soporte**             | Proporciona acceso a recursos y ayuda para el contenedor.                                                                          |
| **M√°s Informaci√≥n**     | Muestra informaci√≥n adicional sobre el contenedor y su configuraci√≥n.                                                              |

### Indicador de estado

Encontrar√° un indicador de estado de color junto al √≠cono de cada contenedor:

- üü¢ **Saludable**: Indica que el contenedor est√° funcionando y responde como se espera.
- üü° **No Saludable**: El contenedor est√° en ejecuci√≥n pero ha fallado su verificaci√≥n de estado. Investiga los registros o la configuraci√≥n del contenedor para m√°s informaci√≥n.
- ‚ö™ **Sin verificaci√≥n de estado**: Esto significa que no se ha configurado una verificaci√≥n de estado para el contenedor. Es com√∫n para muchas aplicaciones y no necesariamente un problema.

:::note

Las verificaciones de salud son definidas por el autor del contenedor y pueden no estar presentes para todas las im√°genes.

:::

---

## Asignaciones de volumen dentro de un contenedor

Al configurar su aplicaci√≥n a trav√©s de su interfaz web, haga referencia a la **ruta de contenedor** que configur√≥ durante la configuraci√≥n - no a la ruta del anfitri√≥n.

Por ejemplo, si mape√≥ `/mnt/user/media` en el anfitri√≥n a `/unraid_media` en el contenedor, debe usar `/unraid_media` en la configuraci√≥n de la aplicaci√≥n.

<h3>Escenarios de ejemplo</h3>

Aqu√≠ tienes algunos ejemplos que muestran configuraciones comunes de mapeo de rutas que los usuarios frecuentemente necesitan al configurar contenedores Docker. Demuestran c√≥mo traducir entre las rutas del sistema de archivos del host de Unraid y las rutas internas del contenedor, ayud√°ndote a configurar aplicaciones correctamente.

- **Servidor multimedia:**
  Ruta del host: `/mnt/user/media`\
  Ruta del contenedor: `/unraid_media`

  En la aplicaci√≥n, establece la ubicaci√≥n de tu biblioteca de medios en `/unraid_media`.

- **Almacenamiento de appdata:**
  Ruta del host: `/mnt/user/appdata/myapp`\
  Ruta del contenedor: `/config`

  En la aplicaci√≥n, usa `/config` para el almacenamiento de configuraci√≥n.

- **Multiple %%user shares|user-share%%:**
  Host path: `/mnt/user/media` ‚Üí Container path: `/media`\
  Host path: `/mnt/user/data` ‚Üí Container path: `/data`

  Referencia `/media` o `/data` en la aplicaci√≥n seg√∫n sea necesario.

:::important[Best pr√°ctica]

Siempre use el [modo de acceso](../manage-storage/shares.mdx) m√°s restrictivo (solo lectura o lectura/escritura) que permita que su contenedor funcione correctamente.

:::

---

## Programaci√≥n de inicio y parada

Unraid no admite acciones programadas para iniciar o detener **contenedores Docker**, pero puedes automatizar f√°cilmente este proceso mediante el [**plugin Scripts de Usuario**](../customize-your-experience/plugins.mdx). Esta poderosa herramienta te permite ejecutar scripts personalizados en un horario, habilitando el control autom√°tico de tus contenedores.

### Complemento User Scripts

El **plugin Scripts de Usuario** te permite crear, gestionar y programar scripts de shell personalizados directamente desde el %%WebGUI|web-gui%%. Puedes usarlo para varias tareas de automatizaci√≥n, como iniciar o detener contenedores, respaldar datos o ejecutar rutinas de mantenimiento.

- Instale el complemento desde la pesta√±a **Apps** si a√∫n no lo ha hecho.
- Acc√©dalo a trav√©s de ***Settings ‚Üí User Scripts*** para crear y gestionar sus scripts.

Para aprender m√°s sobre complementos, consulte [Plugins](../customize-your-experience/plugins.mdx).

### Programaci√≥n de acciones de contenedor

Para automatizar el inicio o detenci√≥n de tus contenedores en un horario:

1. Instala el **plugin de Scripts de Usuario** desde la pesta√±a **Apps**.
2. Navega a ***Ajustes ‚Üí Scripts de Usuario***.
3. Crea un nuevo script para cada horario √∫nico. Puedes incluir comandos para m√∫ltiples contenedores en un solo script si comparten el mismo horario.
4. Configura el horario usando el men√∫ desplegable o utiliza una expresi√≥n `cron` personalizada para opciones de tiempo m√°s avanzadas.
5. Haz clic en **Aplicar** para guardar y activar tu script.

:::tip

Las expresiones cron permiten una programaci√≥n flexible m√°s all√° de las opciones integradas. Por ejemplo, `0 3 * * 1` ejecuta tu script a las 3:00 AM todos los lunes.

:::

### Ejemplos de comandos

<Tabs>
  <TabItem value="iniciar" label="Iniciar contenedor" default>
    <DockerCommandStart />
  </TabItem>

  <TabItem value="detener" label="Detener contenedor">
    <DockerCommandStop />
  </TabItem>

  <TabItem value="reiniciar" label="Reiniciar contenedor">
    <DockerCommandRestart />
  </TabItem>

  <TabItem value="estado" label="Verificar estado del contenedor">
    <DockerCommandStatus />
  </TabItem>

  <TabItem value="registros" label="Mostrar registros del contenedor">
    <DockerCommandLogs />
  </TabItem>
</Tabs>

:::tip

Puedes encontrar el nombre del contenedor en la pesta√±a Docker o viendo el comando `docker run` en la pantalla de configuraci√≥n del contenedor.

:::
