---
title: RÃ©fÃ©rence CLI
description: RÃ©fÃ©rence complÃ¨te pour toutes les commandes CLI de l'API Unraid
sidebar_position: 4
---

# Commandes CLI

:::info[Command Structure]
Toutes les commandes suivent le modÃ¨le : `unraid-api <command> [options]`
:::

## ğŸš€ Gestion des services

### DÃ©marrer

```bash
unraid-api start [--log-level <level>]
```

DÃ©marre le service API Unraid.

OptionsÂ :

- `--log-level` : DÃ©finir le niveau de journalisation (trace|debug|info|warn|error|fatal)

AlternativeÂ : vous pouvez Ã©galement dÃ©finir le niveau du journal Ã  l'aide de la variable d'environnement `LOG_LEVEL` :

```bash
LOG_LEVEL=trace unraid-api start
```

### ArrÃªter

```bash
unraid-api stop [--delete]
```

ArrÃªte le service API Unraid.

- `--delete`: Optionnel. `--Supprimer le rÃ©pertoire de base PM2`

### RedÃ©marrer

```bash
unraid-api restart [--log-level <level>]
```

RedÃ©marre le service API Unraid.

OptionsÂ :

- `--log-level` : DÃ©finir le niveau de journalisation (trace|debug|info|warn|error|fatal)

AlternativeÂ : vous pouvez Ã©galement dÃ©finir le niveau du journal Ã  l'aide de la variable d'environnement `LOG_LEVEL` :

```bash
LOG_LEVEL=trace unraid-api restart
```

### Journaux

```bash
unraid-api logs [-l <lines>]
```

Afficher les journaux de l'API.

- `-l, --lines`: Optionnel. `-Nombre de lignes Ã  afficher (dÃ©faut : 100)`

## âš™ï¸ Commandes de configuration

### Configuration

```bash
unraid-api config
```

Affiche les valeurs de configuration actuelles.

### Changer d'environnement

```bash
unraid-api switch-env [-e <environment>]
```

Bascule entre les environnements de production et de staging.

- `-e, --environment`: Optionnel. Environnement cible (production|staging)

### Mode dÃ©veloppeur

:::tip[Web Gestion Web GUI]
Vous pouvez Ã©galement gÃ©rer les options de dÃ©veloppeur via l'interface Web Ã  **ParamÃ¨tres** â†’ **AccÃ¨s Ã  la gestion** â†’ **Options du dÃ©veloppeur**
:::

```bash
unraid-api developer                       # Interactive prompt for tools
unraid-api developer --sandbox true        # Enable GraphQL sandbox
unraid-api developer --sandbox false       # Disable GraphQL sandbox
unraid-api developer --enable-modal        # Enable modal testing tool
unraid-api developer --disable-modal       # Disable modal testing tool
```

Configurer les fonctionnalitÃ©s dÃ©veloppeur pour l'APIÂ :

- **Bac Ã  sable GraphQL**Â : Activer/dÃ©sactiver le bac Ã  sable Apollo GraphQL sur `/graphql`
- **Outil de test modal**Â : Activer/dÃ©sactiver le test modal de l'UI dans le menu Unraid

## Gestion des clÃ©s API

:::tip[Web Gestion Web GUI]
Vous pouvez Ã©galement gÃ©rer les clÃ©s API via l'interface Web Ã  **ParamÃ¨tres** â†’ **AccÃ¨s Ã  la gestion** â†’ **ClÃ©s API**
:::

### Commandes des clÃ©s API

```bash
unraid-api apikey [options]
```

CrÃ©er et gÃ©rer les clÃ©s API via CLI.

OptionsÂ :

- `--name <name>`Â : Nom de la clÃ©
- `--create`Â : CrÃ©er une nouvelle clÃ©
- `-r, --roles <roles>`Â : Liste des rÃ´les sÃ©parÃ©s par des virgules
- `-p, --permissions <permissions>`Â : Liste des permissions sÃ©parÃ©es par des virgules
- `-d, --description <description>`Â : Description de la clÃ©

## Gestion du SSO (Single Sign-On)

:::info[OIDC Configuration]
Pour la configuration du fournisseur OIDC/SSO, voir l'interface Web Ã  **ParamÃ¨tres** â†’ **AccÃ¨s Ã  la gestion** â†’ **API** â†’ **OIDC** ou se rÃ©fÃ©rer au guide [Installation du fournisseur OIDC](./oidc-provider-setup.mdx).
:::

### Commande de base SSO

```bash
unraid-api sso
```

#### Ajouter un utilisateur SSO

```bash
unraid-api sso add-user
# or
unraid-api sso add
# or
unraid-api sso a
```

Ajouter un nouvel utilisateur pour l'authentification SSO.

#### Supprimer un utilisateur SSO

```bash
unraid-api sso remove-user
# or
unraid-api sso remove
# or
unraid-api sso r
```

Supprimez un utilisateur (ou tous les utilisateurs) du SSO.

#### Lister les utilisateurs SSO

```bash
unraid-api sso list-users
# or
unraid-api sso list
# or
unraid-api sso l
```

Lister tous les utilisateurs SSO configurÃ©s.

#### Valider le jeton SSO

```bash
unraid-api sso validate-token <token>
# or
unraid-api sso validate
# or
unraid-api sso v
```

Validez un jeton SSO et renvoyez son statut.

## GÃ©nÃ©ration de rapport

### GÃ©nÃ©rer un rapport

```bash
unraid-api report [-r] [-j]
```

GÃ©nÃ©rer un rapport systÃ¨me.

- `-r, --raw`Â : Afficher la sortie de commande brute
- `-j, --json`Â : Afficher la sortie au format JSON

## Notes

1. La plupart des commandes nÃ©cessitent des autorisations appropriÃ©es pour modifier l'Ã©tat du systÃ¨me
2. Certaines commandes nÃ©cessitent que l'API soit en cours d'exÃ©cution ou arrÃªtÃ©e
3. Les clÃ©s API doivent Ãªtre stockÃ©es en toute sÃ©curitÃ© car elles permettent l'accÃ¨s au systÃ¨me
4. Les modifications de configuration SSO peuvent nÃ©cessiter un redÃ©marrage du service
