---
sidebar_position: 3
sidebar_label: Gestion et personnalisation des conteneurs
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import DockerNetworkType from './partials/managing-and-customizing-containers/network-type.mdx';
import DockerVolumeMappings from './partials/managing-and-customizing-containers/volume-mappings.mdx';
import DockerPortMappings from './partials/managing-and-customizing-containers/port-mappings.mdx';
import DockerEnvironmentVariables from './partials/managing-and-customizing-containers/environment-variables.mdx';
import DockerCommandStart from './partials/managing-and-customizing-containers/command-start.mdx';
import DockerCommandStop from './partials/managing-and-customizing-containers/command-stop.mdx';
import DockerCommandRestart from './partials/managing-and-customizing-containers/command-restart.mdx';
import DockerCommandStatus from './partials/managing-and-customizing-containers/command-status.mdx';
import DockerCommandLogs from './partials/managing-and-customizing-containers/command-logs.mdx';

# Gestion et personnalisation des conteneurs

:::caution\[Disclaimer]

This page is written to help users of all skill levels make the most out of Docker containers on Unraid OS. The tips and best practices come from the Unraid team, who ensure they are tailored to most users' needs. However, keep in mind that Docker is constantly evolving, so for the most up-to-date features, advanced configurations, or troubleshooting issues that go beyond what Unraid covers, it's always a good idea to check the [official Docker documentation](https://docs.docker.com/).

:::

Before customizing a Docker container in Unraid, it‚Äôs helpful to understand the basic configuration options. Each [container template](./community-applications.mdx) provides a user-friendly interface for setting up networking, storage, and environment variables, allowing you to tailor the container's behavior to your needs without using complex command-line tools.

<Tabs>
  <TabItem value="network-type" label="Type de r√©seau" default>
    <DockerNetworkType />
  </TabItem>

  <TabItem value="volume-mappings" label="Mappages de volume">
    <DockerVolumeMappings />
  </TabItem>

  <TabItem value="port-mappings" label="Mappages de port">
    <DockerPortMappings />
  </TabItem>

  <TabItem value="environment-variables" label="Variables d'environnement">
    <DockerEnvironmentVariables />
  </TabItem>
</Tabs>

## Cr√©ation et d√©marrage des conteneurs

Once you've configured your container‚Äôs network, volume mappings, port mappings, and environment variables, you're ready to create and launch your Docker container. This section will guide you through the creation process, explain how to manage startup order and dependencies, and provide tips for advanced startup customization.

### Cr√©ation d'un conteneur

Apr√®s avoir examin√© vos param√®tres de configuration dans le mod√®le de conteneur :

1. Cliquez sur **Cr√©er** pour commencer √† t√©l√©charger et configurer le conteneur.
   - √âvitez de fermer votre fen√™tre de navigateur ou de naviguer ailleurs jusqu'√† ce que le processus soit termin√©.
   - Le t√©l√©chargement initial pour un nouveau d√©p√¥t peut prendre plus de temps que les t√©l√©chargements ult√©rieurs.
2. Une fois le processus termin√©, cliquez sur **Termin√©** pour revenir √† la page Docker, o√π vous pourrez g√©rer ou ajouter d'autres conteneurs.

### Planification de votre s√©quence de d√©marrage

Some containers depend on others to function correctly. For example, an application might need a database container running first, or a service might require a [%%VPN|vpn-tunnel%% container](../../system-administration/secure-your-server/tailscale.mdx) to be active before it starts.

:::important[Plan your startup]

- Identifiez les conteneurs qui fournissent des services essentiels (comme les bases de donn√©es, les %%VPNs|vpn-tunnel%% ou les passerelles de stockage).
- Assurez-vous que les conteneurs d√©pendants ne sont d√©marr√©s qu'apr√®s que leurs pr√©requis aient √©t√© lanc√©s et pr√™ts.
- Consultez la documentation pour chaque conteneur afin de comprendre les exigences sp√©cifiques de d√©marrage.

:::

---

## D√©marrage avanc√© des conteneurs

Unraid gives you flexible control over which containers start automatically and in what order. This is especially useful if you have containers that depend on others (such as a database or %%VPN|vpn-tunnel%% service).

Pour garantir qu'un conteneur d√©marre automatiquement au d√©marrage de l'%%array|array%% :

1. Allez dans l'onglet **Docker** dans le %%WebGUI|web-gui%%.
2. Basculez l'interrupteur **D√©marrage automatique** sur **ON** pour chaque conteneur que vous voulez lancer automatiquement.

### Personnaliser l'ordre et les d√©lais de d√©marrage

By default, Unraid starts all auto-start containers as quickly as possible, in the order they appear on the Docker tab. You can customize this order and add wait times between container startups:

1. Sur l'onglet **Docker**, d√©verrouillez la liste des conteneurs en utilisant l'ic√¥ne de cadenas.
2. Faites glisser et d√©posez les conteneurs pour r√©organiser leur ordre.
3. Passez √† la **Vue avanc√©e** en utilisant le bouton bascule en haut √† droite.
4. Dans la colonne **AutoStart**, entrez un temps d'attente (en secondes) dans le champ **attente** pour tout conteneur n√©cessitant un suppl√©ment de temps avant que le suivant ne d√©marre.
   - Utilisez l'essai et l'erreur pour d√©terminer les meilleurs temps d'attente pour votre configuration.

:::tip

D√©finir l'ordre correct et les temps d'attente est particuli√®rement important pour les conteneurs qui d√©pendent de services fournis par d'autres (par exemple, d√©marrer une base de donn√©es avant une application qui l'utilise, ou un %%VPN|vpn-tunnel%% avant des applications d√©pendantes).

:::

### Tester votre s√©quence de d√©marrage

Bien qu'Unraid ne poss√®de pas de fonctionnalit√© d√©di√©e de "test de s√©quence de d√©marrage", vous pouvez simuler et v√©rifier votre ordre de d√©marrage :

1. Arr√™tez tous les conteneurs depuis l'onglet **Docker**.
2. D√©marrez chaque conteneur manuellement, dans cet ordre planifi√©, en utilisant le bouton **D√©marrer**.
3. Surveillez les journaux des conteneurs et le comportement des applications pour vous assurer que les d√©pendances sont satisfaites et que les services se lancent comme pr√©vu.
4. Ajustez l'ordre de d√©marrage ou les temps d'attente si n√©cessaire.

:::important

Testez votre s√©quence de d√©marrage apr√®s avoir modifi√© les d√©pendances de conteneurs ou ajout√© de nouveaux services, surtout si votre configuration repose sur un timing de d√©marrage sp√©cifique.

:::

---

## Contr√¥ler vos conteneurs

Once you've created and started your Docker container, managing it is easy through the %%WebGUI|web-gui%%. This guide will walk you through using the context menu, understanding container health indicators, and accessing volume mappings within your container.

To access the container's context menu, go to the **Docker** or **Dashboard** tab and click on the container icon you want to manage. This menu offers straightforward access to common actions:

<div style={{ margin: 'auto', maxWidth: '286px', display: 'flex', flexDirection: 'column', alignItems: 'center' }}>
  ![Docker Guide - Controlling](/img/Dockerguide-controlling.png)
</div>

| Option             | Description                                                                                         |
| ------------------ | --------------------------------------------------------------------------------------------------- |
| **WebUI**          | Opens the container's web interface in a new browser tab (if available).                            |
| **Console**        | Opens a command-line interface to interact with the container directly.                             |
| **Stop**           | Stops the running container.                                                                        |
| **Pause**          | Pauses the container, temporarily halting all processes.                                            |
| **Restart**        | Restarts the container, applying any configuration changes.                                         |
| **Journaux**       | Shows the container's log output for troubleshooting.                                               |
| **Modifier**       | Change container settings, such as port or volume mappings. Changes apply immediately after saving. |
| **Supprimer**      | Deletes the container. You can choose to remove just the container or also delete its image.        |
| **Page du projet** | Opens the container's project page for documentation and support.                                   |
| **Support**        | Provides access to support resources and help for the container.                                    |
| **More Info**      | Displays additional information about the container and its configuration.                          |

### Indicateur de sant√©

Vous trouverez un indicateur de sant√© color√© √† c√¥t√© de l'ic√¥ne de chaque conteneur :

- üü¢ **Sain** : Indique que le conteneur fonctionne et r√©pond comme pr√©vu.
- üü° **Unhealthy**: The container is running but has failed its health check. Investigate the logs or container settings for more information.
- ‚ö™ **No health check**: This means no health check is configured for the container. It's common for many apps, and not necessarily a problem.

:::note

Les contr√¥les de sant√© sont d√©finis par l'auteur du conteneur et peuvent ne pas √™tre pr√©sents pour toutes les images.

:::

---

## Mappages de volumes √† l'int√©rieur d'un conteneur

Lors de la configuration de votre application via son interface web, r√©f√©rencez le **chemin du conteneur** que vous avez configur√© lors de la configuration - pas le chemin h√¥te.

Par exemple, si vous avez mapp√© `/mnt/user/media` sur l'h√¥te √† `/unraid_media` dans le conteneur, vous devez utiliser `/unraid_media` dans les param√®tres de l'application.

<h3>Sc√©narios d'exemple</h3>

Here are some examples showing common path mapping configurations that users frequently need when setting up Docker containers. They demonstrate how to translate between Unraid's host file system paths and the container's internal paths, helping you configure applications correctly.

- **Media server:**
  Host path: `/mnt/user/media`\
  Container path: `/unraid_media`

  In the app, set your media library location to `/unraid_media`.

- **Appdata storage:**
  Host path: `/mnt/user/appdata/myapp`\
  Container path: `/config`

  In the app, use `/config` for configuration storage.

- **Multiple %%user shares|user-share%%:**
  Host path: `/mnt/user/media` ‚Üí Container path: `/media`\
  Host path: `/mnt/user/data` ‚Üí Container path: `/data`

  Reference `/media` or `/data` in the application as needed.

:::important[Best pratique]

Utilisez toujours le [mode d'acc√®s](../manage-storage/shares.mdx) le plus restrictif (lecture seule ou lecture/√©criture) qui permet √† votre conteneur de fonctionner correctement.

:::

---

## Planifier le d√©marrage et l'arr√™t

Unraid does not natively support scheduled start or stop actions for **Docker containers**, but you can easily automate this process using the [**User Scripts plugin**](../customize-your-experience/plugins.mdx). This powerful tool allows you to run custom scripts on a schedule, enabling automatic control of your containers.

### Plugin User Scripts

The **User Scripts plugin** allows you to create, manage, and schedule custom shell scripts directly from the %%WebGUI|web-gui%%. You can use it for various automation tasks, such as starting or stopping containers, backing up data, or running maintenance routines.

- Installez le plugin depuis l'onglet **Apps** si vous ne l'avez pas encore fait.
- Acc√©dez-y via ***Param√®tres ‚Üí User Scripts*** pour cr√©er et g√©rer vos scripts.

Pour en savoir plus sur les plugins, consultez [Plugins](../customize-your-experience/plugins.mdx).

### Planification des actions des conteneurs

Pour automatiser le d√©marrage ou l'arr√™t de vos conteneurs selon un planning :

1. Installez le **plugin User Scripts** depuis l'onglet **Apps**.
2. Acc√©dez √† ***Param√®tres ‚Üí User Scripts***.
3. Create a new script for each unique schedule. You can include commands for multiple containers in a single script if they share the same schedule.
4. D√©finissez le planning √† l'aide du menu d√©roulant ou utilisez une expression `cron` personnalis√©e pour des options de chronom√©trage plus avanc√©es.
5. Cliquez sur **Appliquer** pour enregistrer et activer votre script.

:::tip

Cron expressions enable flexible scheduling beyond the built-in options. For example, `0 3 * * 1` runs your script at 3:00 AM every Monday.

:::

### Exemples de commandes

<Tabs>
  <TabItem value="d√©marrer" label="D√©marrer le conteneur" default>
    <DockerCommandStart />
  </TabItem>

  <TabItem value="arr√™ter" label="Arr√™ter le conteneur">
    <DockerCommandStop />
  </TabItem>

  <TabItem value="red√©marrer" label="Red√©marrer le conteneur">
    <DockerCommandRestart />
  </TabItem>

  <TabItem value="statut" label="V√©rifier le statut du conteneur">
    <DockerCommandStatus />
  </TabItem>

  <TabItem value="journaux" label="Afficher les journaux du conteneur">
    <DockerCommandLogs />
  </TabItem>
</Tabs>

:::tip

Vous pouvez trouver le nom du conteneur dans l'onglet Docker ou en visualisant la commande `docker run` sur l'√©cran de configuration du conteneur.

:::
