Si vous êtes à l'aise avec la ligne de commande, cette méthode vous donne plus de contrôle et peut être utile si l'option %%WebGUI|web-gui%% n'est pas disponible. Pour plus d'informations sur l'utilisation de l'interface de ligne de commande, voir [Interface en ligne de commande](../../../system-administration/advanced-tools/command-line-interface.mdx).

:::note[Before au début]

- Assurez-vous que le profil %%RAID|raid%% de votre pool permet le retrait d'appareils ; vous ne pouvez pas retirer un appareil d'une pool %%RAID 1|raid1%% à deux appareils sans la changer d'abord en profil unique.
- Vérifiez que les appareils restants auront suffisamment d'espace pour vos données.
  :::

To remove a disk using the command line:

1. **Open a terminal session**: Make sure the %%array|array%% is running and open your command line interface.

2. **Remove the device**: Type the command below, replacing `X` with the letter corresponding to the drive you want to remove (as shown in the Main tab):

   ```bash
   btrfs device remove /dev/sdX1 /mnt/cache
   ```

   - For encrypted devices, use: `/dev/mapper/sdX1`.
   - For NVMe devices, use: `nvmeXn1p1`.

3. **Wait for completion**: The device will be removed once you see the cursor return.

4. **Make Unraid "forget" the deleted member**:
   - Arrêtez le %%array|array%%.
   - Unassign all pool devices.
   - Start the %%array|array%% (Unraid will clear the pool configuration).
   - If any Docker/%%VM|vm%% services use this pool, disable them before starting the %%array|array%% to prevent Unraid from recreating images elsewhere.

5. **Reassign devices**: Stop the %%array|array%% again, reassign all remaining pool members except the removed device, and then start the %%array|array%%.

**To remove multiple devices**:

You can do so in one command:

```bash
btrfs device remove /dev/sdX1 /dev/sdY1 /mnt/cache
```

However, keep in mind that the removal will still occur one at a time.

:::note[Timing]
Similar to the %%WebGUI|web-gui%% method, removing devices and rebalancing may take several hours depending on data volume and device speed.
:::

:::important
If you have only one device left in the pool, you will need to convert the %%RAID|raid%% profile to **single** to ensure everything functions correctly. For further instructions, refer to the section on [Switching the Pool RAID Level to Single](#changing-pool-raid-levels).
:::
