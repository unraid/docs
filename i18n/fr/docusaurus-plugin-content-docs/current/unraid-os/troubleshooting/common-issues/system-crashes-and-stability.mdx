---
sidebar_position: 3
sidebar_label: Systèmes et stabilité des pannes
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Systèmes et stabilité des pannes

Les pannes du système et les problèmes de stabilité peuvent être difficiles à diagnostiquer et résoudre. Ils proviennent souvent de défaillances matérielles, d'erreurs de configuration ou de conflits au sein du logiciel. Cette section vous guidera à travers les causes courantes, les étapes de diagnostic, et les meilleures pratiques pour aider à maintenir la stabilité de votre serveur Unraid.

---

## Problèmes de mémoire vive (RAM)

Les problèmes de mémoire figurent parmi les causes les plus fréquentes de l'instabilité du système et de la corruption des données. La RAM peut s'user avec le temps, entraînant des erreurs imprévisibles souvent difficiles à diagnostiquer. Cette section explique comment identifier et résoudre les problèmes de stabilité liés à la mémoire.

Les symptômes courants des problèmes de RAM incluent :

- Pannes de système inexpliquées ou gels
- Corruption de données dans les fichiers ou %%array|ensemble%%
- Erreurs aléatoires des applications
- Instabilité du système sous charge
- Échecs de %%parity checks|vérifications de parité%%

### Test de la RAM

Les tests de mémoire sont essentiels pour diagnostiquer les problèmes de stabilité. Le menu de démarrage d'Unraid inclut Memtest86+ pour des tests complets de la RAM, fonctionnant à la fois sur les systèmes Legacy et %%UEFI|uefi%%.

Pour tester votre RAM :

1. Redémarrez votre serveur et sélectionnez **Memtest86+** dans le menu de démarrage.
2. Laissez le test tourner pendant au moins 2 à 4 heures pour une couverture approfondie.
3. Surveillez les messages d'erreur ou les tests échoués.

:::note[Other Outils de test de RAM]
- [**MemTest86+**](https://www.memtest.org/): Outil open source inclus avec Unraid
- [**MemTest86**](https://www.memtest86.com/): Outil commercial avec support pour un matériel moderne
- [**Test RAM Karhu**](https://www.karhusoftware.com/): Un outil payant mais très efficace basé sur Windows qui peut détecter des erreurs plus rapidement que les méthodes traditionnelles, avec des taux de détection de 95,67% en 30 minutes (idéal pour les systèmes DDR5)
- [**HCI MemTest**](https://hcidesign.com/memtest/): Testeur populaire, gratuit et basé sur Windows
- [**Prime95**](https://prime95.net/): Valide simultanément la stabilité de la RAM et du CPU
:::

:::important[If si vous trouvez des erreurs RAM]
Si Memtest86+ affiche des erreurs, essayez de réinstaller les modules RAM et de relancer le test. Testez chaque barrette de RAM individuellement pour identifier les modules défectueux. Consultez la documentation de votre carte mère pour les vitesses et configurations RAM prises en charge, et évitez de mélanger différentes marques ou vitesses de RAM pour minimiser les problèmes de compatibilité.
:::

### Overclocker la RAM

L'overclocking de la RAM peut affecter significativement la stabilité du système. De nombreux utilisateurs souhaitent faire fonctionner leur RAM à la vitesse maximale spécifiée par le fabricant, mais les combinaisons de carte mère et de CPU ont souvent des vitesses de RAM maximales fiables inférieures à ce pour quoi la RAM est certifiée.

:::caution[RAM risques et recommandations pour l'overclocking]
**Achat :** Dans la mesure du possible, achetez toujours de la RAM qui figure sur la QVL (Liste des Vendeurs Qualifiés) de votre carte mère, et non sur la QVL du fabricant de la RAM. Cela garantit une meilleure compatibilité et stabilité.

**Les profils Intel XMP et AMD AMP sont des overclocks.** Pour une meilleure stabilité, faites toujours fonctionner la RAM à des vitesses SPD, et non à des vitesses XMP/AMP.

**Risques de l'overclocking :**

- Instabilité du système et pannes aléatoires
- Corruption des données et erreurs de système de fichiers
- Durée de vie réduite du matériel
- Incompatibilité avec d'autres composants

**Dépannage :** Si Memtest86+ passe mais que vous rencontrez toujours des problèmes, désactivez XMP/AMP et réessayez. La différence de performance est généralement minimale, mais l'amélioration de la stabilité peut être significative.
:::

<h4>Meilleures pratiques</h4>

1. Vérifiez toujours les spécifications de votre carte mère et de votre CPU avant de tenter un overclocking.
2. **Pour une stabilité maximale :** Désactivez les profils XMP/AMP et réglez la RAM sur les vitesses par défaut SPD.
3. Commencez avec des paramètres prudents et augmentez progressivement.
4. Testez la stabilité avec Memtest86+ après chaque modification.
5. Si vous remarquez une instabilité, revenez immédiatement aux vitesses par défaut ou plus basses.
6. Considérer le compromis entre performance et stabilité pour les environnements serveur.

## Facteurs critiques de stabilité

La stabilité du système repose sur plus que la seule performance de la RAM ou du CPU. Plusieurs composants matériels et logiciels travaillent ensemble pour maintenir un fonctionnement fiable. Cette section couvre les domaines clés qui influencent la stabilité de votre serveur Unraid et fournit des étapes concrètes pour prévenir et résoudre les problèmes.

La stabilité du système dépend généralement de :

- La qualité et la fiabilité de l'alimentation électrique
- Une gestion thermique adéquate
- La santé des disques et les performances en I/O
- Compatibilité des plugins et des applications
- Versions actuelles du firmware et du BIOS
- Contrôle proactif et maintenance

### Fiabilité de l'alimentation électrique

<details>
  <summary><strong>Cliquer pour développer/réduire</strong></summary>

  Une alimentation électrique stable et suffisante est cruciale pour le fonctionnement ininterrompu du serveur. Les problèmes d'alimentation sont souvent négligés mais peuvent causer les problèmes de stabilité les plus frustrants.

  Les problèmes courants liés à l'alimentation incluent :

  - Pannes de système aléatoires ou gels
  - Corruption de données lors des écritures
  - Arrêts soudains sans avertissement
  - Pannes de composants matériels
  - Performance incohérente

  <h4>Prévention et maintenance</h4>

  L'entretien proactif de l'alimentation électrique prévient les problèmes de stabilité les plus courants. Des vérifications régulières et une sélection appropriée des composants peuvent éviter des temps d'arrêt coûteux et des pertes de données.

  1. Utilisez toujours une alimentation de haute qualité avec une capacité adéquate pour votre matériel.
  2. **Critique :** Assurez-vous que votre alimentation peut supporter un démarrage simultané de TOUS les périphériques de stockage attachés. Le courant nominal du rail 12V doit tenir compte du courant de démarrage de tous les disques à la fois, et non de manière échelonnée.
  3. Évitez les répartiteurs d'alimentation autant que possible. Ils peuvent provoquer des chutes de tension et de l'instabilité, surtout lors d'événements à haut courant comme le démarrage des disques.
  4. Envisagez des alimentations redondantes pour les systèmes d'entreprise et multi-baies.
  5. Assurez-vous que chaque unité d'alimentation est correctement insérée et connectée.
  6. Surveillez les indicateurs de santé de l'alimentation (comme les LEDs AC OK) si disponibles.
  7. Remplacez immédiatement les unités défaillantes pour éviter les temps d'arrêt.
  8. Vérifiez régulièrement que tous les câbles d'alimentation sont sécurisés.
  9. Vérifiez que les circuits ne sont pas surchargés.
</details>

### Gestion thermique et surchauffe

<details>
  <summary><strong>Cliquer pour développer/réduire</strong></summary>

  La surchauffe est l'une des principales causes de défaillance matérielle et de comportement erratique du serveur. Les problèmes thermiques peuvent amener les composants à réduire leur performance ou à tomber en panne complètement.

  Les signes de problèmes thermiques incluent :

  - Accélération ou diminution des performances du système
  - Pannes aléatoires sous forte charge
  - Bruit anormal des ventilateurs ou comportement inhabituel de refroidissement
  - Pannes de composants matériels
  - Comportement système incohérent

  <h4>Solutions de refroidissement et meilleures pratiques</h4>

  Un refroidissement approprié est essentiel pour maintenir la stabilité du système et prévenir le throttling thermique. Ces pratiques aident à s'assurer que votre serveur fonctionne dans des plages de température sûres.

  1. Assurez-vous que votre serveur est placé dans un endroit bien ventilé.
  2. Maintenez des températures ambiantes contrôlées (idéalement 18-24°C/64-75°F).
  3. Utilisez des solutions de refroidissement adéquates (ventilateurs de haute qualité, climatisation montée en baie).
  4. Surveillez les températures du système à l'aide de capteurs matériels.
  5. Nettoyez régulièrement la poussière et les débris des composants de refroidissement.
  6. Évitez de placer les serveurs dans des espaces confinés ou mal ventilés.
  7. Envisagez un refroidissement supplémentaire pour les systèmes haute performance.

  Surveiller les températures de manière proactive aide à identifier les problèmes de refroidissement avant qu'ils ne causent une instabilité du système. Utilisez les capteurs de température intégrés d'Unraid ou des outils de suivi matériel compatibles avec votre système.
</details>

### Santé des disques et erreurs I/O

<details>
  <summary><strong>Cliquer pour développer/réduire</strong></summary>

  Les erreurs de disque, qu'elles soient dues à des disques vieillissants ou à des défaillances soudaines, peuvent perturber la stabilité du système et compromettre les données. Les problèmes d'E/S se manifestent souvent par des problèmes de performance avant de causer des pannes complètes.

  Les symptômes des problèmes de disque incluent :

  - Charge serveur élevée ou performances lentes
  - Échecs de %%parity checks|vérifications de parité%%
  - Corruption des données ou erreurs de lecture/écriture
  - Activité ou bruit inhabituel du disque
  - Gel du système pendant les opérations sur disque

  <h4>Maintenance préventive</h4>

  Un entretien régulier aide à détecter les problèmes de disque avant qu'ils ne causent des pertes de données ou une instabilité du système. Ces mesures proactives peuvent considérablement prolonger la durée de vie des disques et maintenir les performances.

  1. Surveillez régulièrement les données %%SMART|smart%% du disque à l'aide des [outils de santé du disque](../../system-administration/monitor-performance/smart-reports-and-disk-health.mdx) intégrés d'Unraid.
  2. Run periodic [%%parity checks|parity-check%%s](../../using-unraid-to/manage-storage/array-configuration.mdx#parity--read-checks) to ensure data integrity.
  3. Surveillez les températures et les métriques de performance des disques.
  4. Veillez à bien ventiler et refroidir les disques.

  <h4>Lorsque des problèmes surviennent</h4>

  Une réponse rapide aux problèmes de disque peut prévenir les pertes de données et minimiser les temps d'arrêt. Suivez ces étapes de manière systématique pour identifier et résoudre les problèmes.

  1. Remplacez rapidement les disques défaillants pour éviter les pertes de données.
  2. Examinez l'état du câblage, de l'alimentation électrique et du contrôleur de disque.
  3. Vérifiez l'absence de connexions lâches ou de câbles endommagés.
  4. Envisagez d'exécuter des tests %%SMART|smart%% étendus pour les disques suspects.
  5. Surveillez les journaux système pour détecter les schémas d'erreurs I/O.
</details>

### Stabilité des applications et des plugins

<details>
  <summary><strong>Cliquer pour développer/réduire</strong></summary>

  La flexibilité d'Unraid provient de son support pour les plugins et les conteneurs Docker. Cependant, les plugins tiers peuvent introduire de l'instabilité, surtout s'ils sont obsolètes ou incompatibles avec votre version actuelle d'Unraid.

  Lors du dépannage...

  - Utilisez le [Mode sans échec](../../using-unraid-to/customize-your-experience/plugins.mdx#troubleshooting-with-safe-mode) pour désactiver temporairement les plugins et identifier la source des problèmes.
  - Privilégiez les conteneurs Docker aux plugins pour des fonctionnalités supplémentaires, car les conteneurs offrent une meilleure isolation du système d'exploitation de base et sont moins susceptibles de causer des problèmes à l'échelle du système.
  - Mettez à jour ou supprimez régulièrement les plugins inutilisés ou non pris en charge pour maintenir la stabilité.
</details>

### Mises à jour du firmware et du BIOS

<details>
  <summary><strong>Cliquer pour développer/réduire</strong></summary>

  Un firmware ou un BIOS obsolète peut entraîner une instabilité, des vulnérabilités de sécurité et des problèmes de compatibilité matérielle. Des mises à jour régulières sont essentielles pour maintenir la stabilité et la sécurité du système.

  - Planifiez des vérifications régulières des mises à jour de firmware et BIOS pour votre carte mère et pour les composants critiques.
  - Sauvegardez toujours votre configuration avant de procéder à une mise à jour, et si possible, testez les mises à jour dans un environnement contrôlé.
  - Documentez votre processus de mise à jour et examinez-le de temps en temps pour vous assurer de suivre les meilleures pratiques.

  Maintenir votre firmware système à jour aide à éviter des pannes inattendues et à débloquer de nouvelles fonctionnalités matérielles.

  :::tip[Recommandations]
  - Utilisez les outils du fabricant pour des mises à jour sans risque, tels que [ASUS Armoury Crate](https://www.asus.com/supportonly/armoury%20crate/helpdesk_download/), [Gigabyte @BIOS](https://www.gigabyte.com/Support/Consumer/Download), ou [MSI Center](https://www.msi.com/Landing/MSI-Center).
  - Vérifiez les paramètres du BIOS de votre carte mère pour les options de mise à jour automatique si disponibles.
  :::
</details>

### Surveillance proactive du système

<details>
  <summary><strong>Cliquer pour développer/réduire</strong></summary>

  Une surveillance cohérente est essentielle pour la détection précoce des problèmes.

  - Activez la [journlaisation persistante](../../troubleshooting/diagnostics/capture-diagnostics-and-logs.mdx) dans Unraid pour conserver les journaux lors des redémarrages.
  - Utilisez des outils de surveillance du système pour suivre les températures, les tensions et l'état des disques. Configurez des alertes pour les seuils critiques afin d'agir avant que des problèmes mineurs ne s'aggravent.
  - Réviser régulièrement les journaux système vous permet de repérer les motifs et de traiter les causes sous-jacentes avant qu'elles ne conduisent à des interruptions de service.
</details>
