---
sidebar_position: 2
sidebar_label: Mise à niveau d'Unraid
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import UpgradeModern from "./partials/upgrade-modern.mdx";
import UpgradeLegacy611612 from "./partials/upgrade-legacy-611-612.mdx";
import ManualDowngradeSimplest from "./partials/manual-downgrade-simplest.mdx";
import ManualDowngradeCommandLine from "./partials/manual-downgrade-command-line.mdx";

# Mise à niveau d'Unraid

La mise à niveau d'Unraid OS garantit que vous disposez des fonctionnalités, des mises à jour de sécurité et du support matériel les plus récents. Cette page décrit le processus de mise à niveau standard, ainsi que des conseils de dépannage et des options de mise à niveau manuelle.

:::note\[Prerequisites]

Avant de commencer la mise à niveau, assurez-vous de créer une sauvegarde complète de votre périphérique USB. Pour plus de détails, consultez [Sauvegarder votre périphérique](../maintain-and-update/changing-the-flash-device.mdx#backing-up-your-flash-device).

:::

:::tip[Best pratiques avant la mise à niveau]

1. **Faites une sauvegarde** de votre clé USB et de toutes données importantes.
2. **Lisez les notes de version** de la version que vous prévoyez d'installer.
3. **Mettez à jour tous les plugins** vers leurs dernières versions.
4. **Optionnellement, arrêtez le réseau** avant de procéder.
5. **Mettez à jour Unraid OS** en utilisant la page ***Outils → Mise à jour de l'OS***.
6. **Redémarrez** votre serveur pour finaliser la mise à jour.

:::

## Processus de mise à niveau standard

<Tabs>
  <TabItem value="modern-7x" label="Unraid 7.x et plus" default>
    <UpgradeModern />
  </TabItem>

  <TabItem value="legacy-611-612" label="Unraid 6.11 à 6.12">
    <UpgradeLegacy611612 />
  </TabItem>
</Tabs>

:::caution[ZFS avertissements de mise à niveau du pool]

Lors de la mise à niveau vers Unraid 7.x, vous pouvez voir des avertissements concernant les mises à jour des fonctionnalités du pool %%ZFS|zfs%% durant le démarrage ou dans le %%WebGUI|web-gui%%. Ces avertissements ne sont pas un signe de problème; ils indiquent simplement que votre pool %%ZFS|zfs%% utilise des fonctionnalités d'une ancienne version de ZFS.

Mettre à niveau votre pool n'est pas urgent, mais si vous décidez de le faire, gardez à l'esprit que cela peut ne pas fonctionner avec les versions précédentes d'Unraid. Cela signifie que vous ne pourrez peut-être pas revenir à une version antérieure d'Unraid après avoir effectué la mise à niveau.

Comme toujours, n'oubliez pas de sauvegarder vos données avant de mettre à niveau vos pools %%ZFS|zfs%%.

:::

---

## Dépannage des problèmes de mise à niveau

Si vous rencontrez des problèmes après la mise à niveau, consultez la section correspondante ci-dessous pour obtenir de l'aide.

<details>
  <summary><strong>Les conteneurs Docker ne fonctionnent pas correctement après une mise à niveau</strong> - Cliquez pour développer/réduire</summary>

  Si vous rencontrez des erreurs du type *"les couches du manifeste ne correspondent pas à la configuration de l'image,"* il peut être nécessaire de reconstruire votre fichier d'image Docker. Voici comment :
</details>

<details>
  <summary><strong>Les VMs affichent "impossible d'obtenir l'interface MTU" ou des erreurs réseau</strong> - Cliquez pour développer/réduire</summary>

  If you have %%OVMF|ovmf%%-based %%VMs|vm%% created in older Unraid versions, you might encounter an EFI shell. You can boot the %%VM|vm%% by entering the following commands:

  1. Tapez `fs0:`.
  2. Ensuite, tapez `cd efi/boot`.
  3. Enfin, tapez `bootx64.efi`.
  4. Naviguez vers l'onglet **Applications**, **Applications Précédentes**, cochez ce que vous souhaitez réinstaller, puis cliquez sur **"Installer xx Applications"**.
</details>

<details>
  <summary><strong>L'accès VNC aux VMs ne fonctionne pas ou est lent</strong> - Cliquez pour développer/réduire</summary>

  Pour résoudre ce problème, modifiez le %%VM|vm%% dans le %%WebGUI|web-gui%% et cliquez sur **Appliquer** sans apporter de modifications. Cette action mettra à jour le type de machine vers la version la plus récente supportée.

  1. Allez à l'onglet **VMs** et modifiez chaque %%VM|vm%% (assurez-vous d'activer **Vue avancée**).
  2. Réglez le pont réseau sur `br0` et cliquez sur **Appliquer**.
  3. Allez à ***Paramètres → Gestionnaire de VM*** (en **Vue avancée**) et réglez le pont par défaut sur `br0`.
</details>

<details>
  <summary><strong>La VM ne démarre pas (shell EFI apparaît)</strong> - Cliquez pour développer/réduire</summary>

  If you have %%OVMF|ovmf%%-based %%VMs|vm%% created in older Unraid versions, you might encounter an EFI shell. You can boot the %%VM|vm%% by entering the following commands:

  1. Modifiez la %%VM|vm%% de l'onglet **VMs** (sélectionnez **Vue avancée**).
  2. Réglez le **Pilote Vidéo %%VNC|vnc-session%%** sur **QXL** (recommandé). Essayez **Cirrus** ou **vmvga** si vous avez un succès limité avec QXL.
  3. Cliquez sur **Appliquer** pour enregistrer les modifications.
</details>

<details>
  <summary><strong>Les VMs affichent "impossible d'obtenir l'interface MTU" ou des erreurs réseau</strong> - Cliquez pour développer/réduire</summary>

  If you have %%OVMF|ovmf%%-based %%VMs|vm%% created in older Unraid versions, you might encounter an EFI shell. You can boot the %%VM|vm%% by entering the following commands:

  1. Tapez `fs0:`.
  2. Ensuite, tapez `cd efi/boot`.
  3. Enfin, tapez `bootx64.efi`.

  Si `fs0:` ne fonctionne pas, vous pouvez essayer `fs1:` à la place. Si vous continuez à avoir des problèmes, veuillez visiter les [forums Unraid](https://forums.unraid.net/) pour obtenir de l'aide.
</details>

<details>
  <summary><strong>L'accès VNC aux VMs ne fonctionne pas ou est lent</strong> - Cliquez pour développer/réduire</summary>

  Pour résoudre ce problème, modifiez le %%VM|vm%% dans le %%WebGUI|web-gui%% et cliquez sur **Appliquer** sans apporter de modifications. Cette action mettra à jour le type de machine vers la version la plus récente supportée.
</details>

<details>
  <summary><strong>La VM ne démarre pas (shell EFI apparaît)</strong> - Cliquez pour développer/réduire</summary>

  If you have %%OVMF|ovmf%%-based %%VMs|vm%% created in older Unraid versions, you might encounter an EFI shell. You can boot the %%VM|vm%% by entering the following commands:
</details>

---

## Downgrading Unraid

Before downgrading, be sure to read the release notes for the version you are downgrading from. Look for the section titled "Rolling back," as it contains any important steps you need to take.

If you have access to the WebGUI, you can go to **Tools → Downgrade OS.** This option allows you to downgrade to your previously installed version without downloading a zip file from the Version History page.

If you don't see the option to downgrade under **Tools → Downgrade OS**, use the manual method described below. This usually means that the files for the previous version are not on your flash drive.

### Rétrogradation manuelle

Manual downgrades are only needed if you can't access the %%WebGUI|web-gui%% or if the downgrade option isn't available. Before proceeding, it's important to back up your USB flash device. For more details, see [Backing up your flash device](../maintain-and-update/changing-the-flash-device.mdx#backing-up-your-flash-device).

<Tabs>
  <TabItem value="Méthode la plus simple" label="Méthode la plus simple">
    <ManualDowngradeSimplest />
  </TabItem>

  <TabItem value="Méthode en ligne de commande" label="Méthode en ligne de commande">
    <ManualDowngradeCommandLine />
  </TabItem>
</Tabs>
