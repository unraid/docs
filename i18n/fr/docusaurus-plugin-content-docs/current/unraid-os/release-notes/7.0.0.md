# Version 7.0.0 2025-01-09

Cette version de Unraid OS comprend des améliorations significatives dans tous les sous-systèmes, tout en essayant de maintenir autant que possible la rétrocompatibilité.

Remerciements spéciaux :

- @bonienl, @dlandon, @ich777, @JorgeB, @SimonF, et @Squid pour leur orientation, leur soutien et leur développement
  sur cette version
- @bonienl pour l'intégration de son plugin **Dynamix File Manager** dans le webGUI
- @Squid pour l'intégration de ses plugins **GUI Search** et **Unlimited Width Plugin** dans le webGUI
- @ludoux (**Plugin Proxy Editor**) et @Squid (**Plugin Applications Communautaires**) pour avoir entrepris
  le support du proxy HTTP, dont plusieurs idées ont été intégrées dans le webgui
- @ich777 pour la maintenance des plugins de pilotes tiers, et pour l'intégration [Tailscale Docker](#integration-tailscale)
- @SimonF pour les nouvelles fonctionnalités significatives dans le Gestionnaire de VM Unraid OS
- @EDACerton pour le développement du plugin Tailscale

Consultez les [contributeurs à Unraid sur GitHub](https://github.com/unraid/webgui/graphs/contributors?from=2023-09-08\&to=2025-01-08\&type=c) avec des remerciements à ces membres de la communauté qui ont contribué par des PR (ce sont des ids de GitHub) :

- almightyYantao
- baumerdev
- Commifreak
- desertwitch
- dkaser
- donbuehl
- FunkeCoder23
- Garbee
- jbtwo
- jski
- Leseratte10
- Mainfrezzer
- mtongnz
- othyn
- serisman
- suzukua
- thecode

Et des remerciements sincères à tous ceux qui ont demandé des fonctionnalités, signalé des bugs et testé les pré-versions !

## Mise à niveau

### Problèmes connus

#### Pools ZFS

Si vous utilisez des pools ZFS, veuillez noter ce qui suit :

- Vous verrez un avertissement concernant les fonctionnalités non prises en charge dans vos pools ZFS existants. Ceci est dû au fait que la
  version de ZFS dans 7.0 est mise à jour par rapport à 6.12 et contient de nouvelles fonctionnalités. Cet avertissement est inoffensif, ce qui
  signifie que votre pool fonctionnera normalement. Un bouton apparaîtra vous permettant de mettre à niveau un pool pour prendre en charge les nouvelles fonctionnalités ZFS ; cependant, Unraid OS n'utilise pas ces nouvelles fonctionnalités, et une fois que les pools sont mis à niveau, les versions précédentes de Unraid OS ne pourront pas monter le pool.
- De même, les nouveaux pools créés dans 7.0 ne seront pas montés dans 6.12 car ZFS ne prend pas en charge les rétrogradations. Il n'y a pas de solution
  pour résoudre ceci.
- Si vous décidez de rétrograder de 7.0 à 6.12, les pools hybrides déjà existants ne
  seront pas reconnus après le redémarrage vers 6.12. Pour contourner cela, cliquez d'abord sur Outils/Nouvelle Configuration dans 7.0 tout en préservant
  tous les emplacements, puis redémarrez vers 6.12 et vos pools hybrides devraient s'importer correctement.
- Les pièces de rechange ZFS ne sont pas prises en charge dans cette version. Si vous avez créé un pool hybride dans 6.12 qui inclut des pièces de rechange,
  veuillez retirer le vdev « spares » avant de mettre à jour vers la v7.0. Cela sera corrigé dans une future version.
- Actuellement, il est impossible d'importer des pools TrueNAS. Cela sera corrigé dans une prochaine version.
- Si vous utilisez **Docker data-root=directory** sur un volume ZFS, consultez [Ajouter le support pour le driver de stockage overlay2](#ajouter-le-support-pour-overlay2).
- Nous vérifions que les noms de VM n'incluent pas de caractères non valides pour ZFS. Les VM existantes ne sont pas modifiées
  mais lanceront une erreur et désactiveront la mise à jour si des caractères invalides sont trouvés.

#### Problèmes généraux de pool

Si vos pools existants échouent à s'importer avec *État du pool incorrect, extension invalide* ou *État du pool incorrect. Trop d'appareils incorrects ou manquants*, voir ce [post de forum](https://forums.unraid.net/topic/184435-unraid-os-version-700-available/#findComment-1508012).

#### Problèmes liés à l'arrêt du disque

Les disques peuvent ne pas se mettre en veille lorsqu'ils sont connectés à d'anciens contrôleurs de disques Marvell utilisant le pilote sata\_mv (c'est-à-dire Supermicro SASLP et SAS2LP) ou à d'anciens contrôleurs Intel (c'est-à-dire ICH7-ICH10). Cela peut être résolu par une future mise à jour du noyau.

#### Activité excessive du lecteur flash ralentissant le système

Si le système fonctionne lentement, vérifiez la page principale pour voir si elle affiche des lectures continues importantes depuis le lecteur flash pendant le fonctionnement normal. Si c'est le cas, le système peut éprouver une pression de la mémoire suffisante pour pousser l'OS hors de la RAM et le forcer à être relu depuis le lecteur flash. Depuis le terminal web, tapez :

```shell
touch /boot/config/fastusr
```

et puis redémarrez. Cela utilisera environ 500 Mo de RAM pour s'assurer que les fichiers de l'OS restent toujours en mémoire. Merci de nous dire si cela aide.

#### Les nouvelles modifications de Windows peuvent entraîner la perte d'accès aux partages publics.

En raison des récents changements de sécurité dans Windows 11 24H2, l'accès "invité" aux partages publics Unraid peut ne pas fonctionner. La solution la plus simple est de créer un utilisateur sur Unraid portant le même nom que le compte Windows que vous utilisez pour vous connecter. Si le mot de passe de l'utilisateur Unraid n'est pas identique à celui du compte Windows, Windows demandera les identifiants.

Si vous utilisez un compte Microsoft, il peut être préférable de créer un utilisateur dans Unraid avec un nom d'utilisateur simple, de définir un mot de passe, puis dans Windows, allez sur ***Panneau de configuration → Gestionnaire d'informations d'identification → Informations d'identification Windows → Ajouter une information d'identification Windows*** et ajoutez le nom du serveur Unraid correct et les informations d'authentification.

Vous pouvez également [réactiver le retour invité de Windows](https://techcommunity.microsoft.com/blog/filecab/accessing-a-third-party-nas-with-smb-in-windows-11-24h2-may-fail/4154300) (non recommandé).

#### Problèmes dus aux cartes réseau Realtek

Il y a eu plusieurs rapports de problèmes avec le plugin de pilote Realtek après une mise à niveau vers des noyaux récents. Vous pouvez envisager de le désinstaller préventivement avant la mise à niveau, ou de le supprimer par la suite si vous rencontrez des problèmes de réseau.

#### Une NIC virtuelle est assignée à eth0 sur certains systèmes

Sur certains systèmes avec IPMI KVM, une carte NIC virtuelle est attribuée à eth0 au lieu de la carte NIC attendue. Consultez ce [post de forum](https://forums.unraid.net/bug-reports/stable-releases/61214-no-network-after-updating-eth0-assigned-to-virtual-usb-nic-cdc-ethernet-device-with-169-ip-instead-of-mellanox-10gbe-nic-r3407/) pour voir les options.

#### Problèmes liés à l'utilisation des réseaux Docker personnalisés

Si certains réseaux Docker personnalisés ne sont pas disponibles pour vos conteneurs Docker, accédez à ***Paramètres → Docker*** et corrigez les définitions CIDR pour le masque de sous-réseau et le pool DHCP sur ces réseaux personnalisés. Les systèmes sous-jacents sont devenus plus stricts et les définitions CIDR invalides qui fonctionnaient dans les versions précédentes ne fonctionnent plus.

### Rétrogradation

Consultez les avertissements sous **Problèmes connus** ci-dessus.

Le Gestionnaire de fichiers Dynamix, la Recherche dans l'interface graphique et le plugin Unlimited Width Plugin sont désormais intégrés à Unraid. Si vous revenez à une version antérieure, vous devrez réinstaller ces plugins pour conserver leur fonctionnalité.

Si vous avez désactivé l'array unRAID, nous vous recommandons de l'activer à nouveau avant de revenir en arrière.

Si vous avez précédemment configuré des Proxies sortants via le plugin Proxy Editor ou un autre mécanisme, vous devrez réactiver ce mécanisme après retour en arrière.

Si vous revenez en arrière après avoir activé le [driver de stockage overlay2](#ajouter-le-support-pour-overlay2), vous devrez supprimer le répertoire Docker et laisser Docker retélécharger les couches d'image.

Si vous revenez en arrière après avoir installé [Tailscale dans un conteneur Docker](#integration-tailscale), vous devrez éditer le conteneur, effectuer une modification fictive, puis **Appliquer** pour reconstruire le conteneur sans l'intégration de Tailscale.

Après le retour en arrière, effectuez une modification fictive à chaque configuration de WireGuard pour obtenir les paramètres appropriés à cette version d'Unraid.

Si vous revenez en arrière à une version antérieure à 6.12.14, consultez également les [notes de version 6.12.14](6.12.14.md#rolling-back).

## Stockage

### Array unRAID optionnelle

Vous pouvez désormais définir le nombre de slots d'array Unraid à 'aucun'. Cela permettra à l'array de démarrer sans aucun appareil assigné à l'array Unraid lui-même.

Si vous exécutez un serveur entièrement SSD/NMVe, nous vous recommandons d'assigner tous les appareils à une ou plusieurs pools ZFS/BTRFS, car Trim/Discard n'est pas pris en charge avec les appareils de l'array unRAID.

Pour désassigner l'array unRAID d'un serveur existant, désassignez d'abord tous les emplacements d'array sur la page Principale, puis définissez les emplacements sur 'aucun'.

Pour les nouvelles installations, le nombre par défaut d'emplacements à réserver pour l'ensemble unRAID est désormais 'aucun'.

### Le stockage secondaire des partages peut être attribué à une pool

Les partages peuvent désormais être configurés avec des pools pour le stockage principal et secondaire, et le déménageur déplacera les fichiers entre ces pools.

### L'option de système de fichiers ReiserFS a été désactivée

Étant donné que ReiserFS est prévu pour être retiré du noyau Linux, l'option de formater un appareil avec ReiserFS a également été désactivée. Vous pouvez utiliser cette fonction de déplacement pour vider un disque d'array avant de le reformater avec un autre système de fichiers, voir ci-dessous. Nous ajouterons un bouton webGUI pour cela dans une prochaine version.

### Utilisation de 'mover' pour vider un disque d'array

Le Mover peut maintenant être utilisé pour vider un disque d'array. Avec l'array démarrée, exécutez cela dans un terminal web :

```bash
mover start -e diskN |& logger &  # où N est [1..28]
```

Mover examinera chaque directeur de niveau supérieur (partage) et déplacera ensuite les fichiers un à un vers d'autres disques de l'array, suivant les réglages config habituels (inclure/exclure, niveau de division, méthode d'allocation). Les cibles du déplacement sont restreintes uniquement à l'array Unraid.

Lorsque le processus de déménagement se termine, le syslog affichera une liste des fichiers qui n'ont pas pu être déplacés :

- peut-être que le fichier était en cours d'utilisation
- peut-être que le fichier est à la racine de /mnt/diskN
- peut-être que l'espace a manqué

### Gestion des partages prédéfinis

Le Gestionnaire de Docker Unraid OS est configuré par défaut pour utiliser ces partages prédéfinis :

- système - utilisé pour stocker les couches d'images Docker dans une image en boucle stockée dans system/docker.
- appdata - utilisé par les applications Docker pour stocker les données des applications.

Le Gestionnaire de VM Unraid OS est configuré par défaut pour utiliser ces partages prédéfinis :

- système - utilisé pour stocker l'image en boucle libvirt stockée dans system/libvirt
- domaines - utilisé pour stocker les images vdisk des VM
- isos - utilisé pour stocker des images de démarrage ISO

Lorsque Docker ou les VM sont activés, les partages prédéfinis requis sont créés si nécessaire selon ces règles :

- si un pool nommé 'cache' est présent, des partages prédéfinis sont créés avec 'cache' comme stockage Principal
  sans stockage Secondaire.
- si aucun pool nommé 'cache' n'est présent, les partages prédéfinis sont créés avec le premier pool présent alphabétiquement comme Principal sans stockage Secondaire.
- si aucun pool n'est présent, les partages prédéfinis sont créés sur l'array unRAID comme Principal sans
  stockage Secondaire.

### Implémentation ZFS

- Support des pools ZFS hybrides aussi appelés sous-pools (sauf 'spares')
- Support de la récupération d'échecs multiples d'un pool ZFS avec une protection suffisante
- Support du chiffrement LUKS sur les pools et disques ZFS
- Définir des profils par défaut raisonnables pour les nouveaux pools et sous-pools ZFS
- Prise en charge de la mise à niveau des pools ZFS lors de la visualisation du statut du pool. Remarque : après la mise à niveau, le volume pourrait ne pas être montable dans les versions précédentes d'Unraid

### Profils d'allocation pour btrfs, zfs et sous-pools zfs

Lorsque un pool/sous-pool btrfs ou zfs est créé, l'allocation de stockage par défaut est déterminée par le nombre d'emplacements (appareils) initialement assignés au pool :

- pour le pool principal (racine) zfs :
  - emplacements == 1 => unique
  - emplacements == 2 => miroir (1 groupe de 2 appareils)
  - emplacements >= 3 => raidz1 (1 groupe d'appareils 'slots')

- pour les sous-pools spéciaux, journaux et dédup zfs :
  - emplacements == 1 => unique
  - emplacements%2 == 0 => miroir (emplacements/2 groupes de 2 appareils)
  - emplacements%3 == 0 => miroir (emplacements/3 groupes de 3 appareils)
  - autrement => bande (1 groupe d'appareils 'slots')

- pour les sous-pools cache et spare zfs :
  - emplacements == 1 => unique
  - emplacements >= 2 => bande (1 groupe d'appareils 'slots')

- pour les pools btrfs :
  - emplacements == 1 => unique
  - emplacements >= 2 => raid1 (c'est-à-dire ce que btrfs appelle "raid1")

### Considérations concernant les pools

Lors de l'ajout d'appareils à (expansion) un pool à un seul emplacement, ces règles s'appliquent :

Pour btrfs : ajouter un ou plusieurs appareils à un pool à seul emplacement entraînera la conversion du pool en raid1 (c'est-à-dire ce que btrfs définit comme raid1). Ajouter tout nombre d'appareils à un pool btrfs existant à plusieurs emplacements augmente la capacité de stockage du pool et ne modifie pas le profil de stockage.

Pour zfs : ajouter un, deux ou trois appareils à un pool à un emplacement unique entraînera la conversion du pool en miroir 2 voies, 3 voies ou 4 voies. Ajouter un appareil unique à un miroir existant de 2 ou 3 voies convertit le pool en miroir de 3 ou 4 voies.

Modification du type de système de fichiers d'un pool :

Pour tous les pools à un seul emplacement, le type de système de fichiers peut être changé lorsque l'array est arrêté.

Pour les pools multi-emplacements btrfs/zfs, le type de système de fichiers ne peut pas être modifié. Pour réutiliser les appareils, vous devez cliquer sur le bouton Effacer le pool.

### Autres caractéristiques

- Ajoutez l'activation/désactivation des appareils d'un pool en parallèle
- Ajouter un bouton "Supprimer le Pool", qui désassignera tous les appareils d'un pool puis supprimera le pool. Les appareils eux-mêmes ne sont pas modifiés. Cela est utile lorsque vous retirez physiquement des appareils d'un serveur.
- Ajout de la possibilité de changer la phrase/mot de passe de file de clé pour les disques cryptés LUKS
- Introduction de la variable 'config/share.cfg' 'shareNOFILE' qui définit le nombre maximal de descripteurs de fichiers ouverts pour le processus shfs (voir les problèmes connus)

## Gestionnaire de VM

### Améliorations

Ajout du support pour les clones VM, les snapshots et evdev passthru.

L'éditeur VM dispose désormais d'un nouveau mode XML inline en lecture seule pour les utilisateurs avancés, clarifiant comment les
choix de l'interface graphique affectent le XML sous-jacent utilisé par la VM.

Grand merci à @SimonF pour ses améliorations continues des VM.

### Autres changements

- **Onglet VM**
  - Afficher toutes les cartes graphiques et adresses IP attribuées aux VM
  - version noVNC : 1.5
- **Paramètres du gestionnaire de VM**
  - Option de désactivation de l'autostart VM ajoutée
- **Ajouter/modifier le modèle VM**
  - Option "vue XML inline" ajoutée
  - Prise en charge des modèles VM créés par les utilisateurs
  - Ajout de la cible qemu ppc64
  - Ajout du support qemu:override
  - Ajout de la fonctionnalité de "passerelle de commande QEMU"
  - Soutien multifonction VM, y compris "PCI Autre"
  - Améliorations des modèles VM pour les VM Windows, y compris la prise en charge de hypervclock
  - Ajouter une option on/off "migratable" pour le CPU émulé
  - Ajout du support des décalages et des minuteries
  - Ajout de l'option sans keymap et assurer que le clavier par défaut de la GPU virtuelle l'utilise.
  - Ajouter une option sans gpu
  - Ajout du support SR-IOV pour le iGPU Intel
  - Ajout du remplacement de stockage pour spécifier où les images sont créées lors de l'ajout de VM
  - Ajouter le drapeau SSD pour les disques virtuels
  - Ajouter le support Décharger
  - Vérifier que le nom de VM n'inclut pas de caractères non valides pour ZFS.
- **Tableau de bord**
  - Ajouter les statistiques d'utilisation de VM au tableau de bord, activez via ***Paramètres → Gestionnaire de VM → Afficher l'utilisation de VM***

## Docker

### Prévention des bombes à fourche Docker

Pour empêcher les "bombes à fourche Docker" nous avons introduit un nouveau paramètre, ***Paramètres → Docker → Limite de PID Docker***, qui
spécifie le nombre maximal d'ID de processus qu'un conteneur peut avoir actif (avec un défaut de 2048).

Si vous avez un conteneur qui nécessite plus d'ID de processus, vous pouvez soit augmenter ce paramètre, soit
outrepasser pour un conteneur spécifique en ajoutant, par exemple, `--pids-limit 3000` au
paramètre *Paramètres supplémentaires* du modèle Docker.

### Ajouter un support pour le pilote de stockage overlay2

Si vous utilisez **Docker data-root=répertoire** sur un volume ZFS, nous vous recommandons de naviguer vers ***Paramètres → Docker*** et de passer le **pilote de stockage Docker** à **overlay2**, puis d'effacer le contenu du répertoire et de laisser Docker retélécharger les couches d'image. Le réglage hérité **native** provoque des problèmes de stabilité significatifs sur les volumes ZFS.

Si conserver la possibilité de rétrograder vers des versions antérieures est important, alors passez à **Docker data-root=xfs vDisk** à la place.

### Autres changements

- Voir [intégration Tailscale](#integration-tailscale)
- Permettre la spécification de registre personnalisé avec un port
- Utilisation de "démonter paresseux" du docker image pour éviter le blocage de l'arrêt de l'array
- Mis à jour pour corriger plusieurs problèmes de sécurité (CVE-2024-21626, CVE-2024-24557)
- Gestionnaire Docker :
  - Permettre aux utilisateurs de sélectionner les réseaux de conteneur dans le WebUI
  - Identifier/afficher correctement les conteneurs non gérés par dockerman
- rc.docker :
  - Ne stopper que les conteneurs gérés par Unraid
  - Respecter la politique de redémarrage des conteneurs tiers
- Définir le MTU du pont Wireguard Docker pour correspondre au MTU par défaut de Wireguard

## Réseau

### Intégration Tailscale

Unraid OS prend en charge [Tailscale](https://tailscale.com/) grâce à l'utilisation d'un plugin créé par le développeur de la communauté EDACerton. Lorsque ce plugin est installé, les certificats Tailscale sont pris en charge pour l'accès https au WebGUI, et les URL Tailnet seront affichées sur la page ***Paramètres → Accès de gestion***.

Et dans Unraid de manière native, vous pouvez installer Tailscale dans presque n'importe quel conteneur Docker,
vous donnant la possibilité de partager des conteneurs avec des personnes spécifiques, d'y accéder en utilisant des certificats HTTPS valides,
et de leur fournir des routes alternatives vers Internet via des nœuds de sortie.

Pour plus de détails, voir [la documentation](../system-administration/secure-your-server/tailscale.mdx)

### Prise en charge de l'encadrement du webGUI

Ajout du support « Content-Security-Policy frame-ancestors » pour permettre automatiquement au WebGUI d'être encadré par les domaines pour lesquels il
possède des certificats. Ce n'est pas exactement pris en charge, mais une personnalisation supplémentaire est possible en utilisant un script pour modifier
NGINX\_CUSTOMFA dans `/etc/defaults/nginx`

### Autres changements

- Mise à niveau vers OpenSSL 3
- Autoriser toutes les adresses IPv4/IPv6 comme écouteurs. Cela résout le problème lorsque les adresses IPv4 ou IPv6 changent dynamiquement.
- Samba:
  - Ajouter l'adresse d'écoute IPv6 uniquement lorsque NetBIOS est désactivé
  - Correction de l'incapacité de MacOS à écrire sur le partage 'flash' et rétablissement de la compatibilité Time Machine (changements fruit)
- Le gestionnaire VPN ajoute maintenant toutes les interfaces aux tunnels WireGuard, effectuez une modification factice sur le tunnel après
  une mise à jour ou un changement de paramètres réseau pour mettre à jour les configurations de tunnel WireGuard.

## webGUI

### Plugin File Manager Dynamix intégré

Cliquez sur l'icône du gestionnaire de fichiers et naviguez dans votre structure de répertoires avec la possibilité d'effectuer
les opérations courantes telles que copier, déplacer, supprimer et renommer des fichiers et des répertoires.

### Plugin de recherche GUI intégré

Cliquez sur l'icône de recherche dans la barre de menus et tapez le nom de
paramètre que vous recherchez.

### Gestionnaire de Proxy Sortant

Si vous avez précédemment utilisé le plugin Éditeur de Proxy ou configuré un proxy sortant pour l'AC, ces derniers seront automatiquement supprimés/importés. Vous pourrez ensuite les ajuster dans ***Paramètres → Gestion du proxy sortant***.

Pour plus de détails, voir le [manuel](../system-administration/secure-your-server/secure-your-outgoing-comms.mdx).

Remarque : cette fonctionnalité est complètement sans rapport avec les proxys inversés que vous pourriez utiliser.

### Agents de notification

Les agents de notification xml sont désormais stockés comme des fichiers xml individuels, ce qui facilite
l'ajout d'agents de notification via un plugin.

Voir ce [plugin exemple](https://github.com/Squidly271/Wxwork-sample) par @Squid

- correction : Les notifications d'agent ne fonctionnent pas s'il y a un problème avec les notifications par email

### Configuration NTP

Pour les nouvelles installations, un seul serveur NTP par défaut est défini sur 'time.google.com'.

Si votre serveur utilise nos anciens paramètres NTP par défaut de time1.google.com, time2.google.com etc., vous pourriez remarquer des messages liés au NTP déroutants dans votre syslog. Pour éviter cela, envisagez de passer à nos nouveaux paramètres par défaut : accédez à ***Paramètres → Date & Heure*** et configurez **Serveur NTP 1** à time.google.com, en laissant tous les autres vides.

Bien sûr, vous êtes libre d'utiliser les serveurs temporels que vous préférez, ceci est simplement pour vous informer que nous avons
ajusté nos paramètres par défaut.

### Partages NFS

Nous avons ajouté quelques nouveaux paramètres pour aider à résoudre les problèmes avec les partages NFS. Dans ***Paramètres → Paramètres Globaux des Partages***, vous pouvez ajuster le nombre de descripteurs de fichier fuse et dans ***Paramètres → NFS***, vous pouvez ajuster la version du protocole NFS et le nombre de threads qu'il utilise. Voir l'aide en ligne pour plus de détails.

- Prise en charge ajoutée pour NFS 4.1 et 4.2, et permettre les montages NFSv4 par défaut
- Ajoutez une boîte de texte pour configurer les règles NFS multi-lignes
- Correctif de bug : nfsd ne redémarre pas correctement

### Tableau de Bord

- Ajoutez la date et l'heure du serveur au Tableau de bord ; cliquez sur l'heure pour modifier les paramètres associés
- Revoir le carreau **Système** pour clarifier ce qui est montré, y compris les infobulles
- Montrer du contenu utile lorsque les tuiles du tableau de bord sont réduites
- Afficher l'utilisation de la RAM Docker sur le Tableau de bord
  - Ajouter l'utilisation de la RAM Docker au Tableau de bord
  - Renommez 'Services' en 'Système'
- Corriger la fuite de mémoire sur les pages du Tableau de bord, Gestionnaire de VM et Docker Manager

### Améliorations SMART

- Afficher KB/MB/GB/TB écrits dans les Attributs SMART pour les SSD
- Ajouter 'endurance restante du SSD' en Attribut SMART.

### Diagnostics

- Ajouter gpujson de gpu\_statistics aux diagnostics
- Anonymisation améliorée des journaux LXC
- Si le plugin FCP est installé, effectuer une analyse pendant les diagnostics
- Ajouter phplog pour identifier les erreurs PHP
- Anonymisation améliorée des adresses IPv6
- Suppression ps.txt car il exposait les mots de passe dans la liste des processus

### Autres changements

- Prise en charge de seuils de température d'avertissement/critique différents pour les disques HDD/SSD/NVMe. Les seuils NVMe sont définis automatiquement par le lecteur lui-même, voir ***Paramètres → Paramètres Disque*** pour définir les seuils pour les HDD et SSD. Tous peuvent encore être remplacés pour des lecteurs individuels.
- Ajout de la page ***Paramètres → Paramètres de la Console Locale*** avec des options pour la disposition du clavier, le temps d'écran noirci et l'historique Bash persistant
- Ajouter ***Paramètres → Mode d'Alimentation*** pour optimiser le système pour l'efficacité énergétique, équilibré ou la performance
- Survolez une entrée dans **Outils** et **Paramètres** pour ajouter un élément aux favoris et revenez rapidement à celui-ci sur la nouvelle page **Favoris** de niveau supérieur.
  Ou désactivez la fonctionnalité des Favoris dans \***Paramètres → Paramètres d'Affichage**.
- Écran d'arrêt/redémarrage amélioré montrant plus de détails du processus
- Simplifier les notifications en supprimant les sous-menus - Afficher, Historique et Accuser Réception s'appliquent désormais à tous les types de notifications
- Déplacer les paramètres de date et d'heure de **Paramètres d'Affichage** vers ***Paramètres → Paramètres de Date & Heure***
- ***Paramètres → Paramètres d'affichage*** : nouveau paramètre "largeur" pour profiter des grands écrans
- Afficher en option l'utilisation de l'énergie NVMe ; voir ***Paramètres → Paramètres des Disques***
- Améliorations des composants web – rétrogradations, mises à jour et enregistrement
- Empêcher le formatage des nouveaux disques en ReiserFS
- Utiliser des écritures atomiques pour les mises à jour des fichiers de configuration
- Modifications des paramètres de pool ZFS :
  - Créer des descriptions de sous-pools ZFS significatives
  - Modifier le texte du profil ZFS 'raid0' en 'stripe'
- Ajouter des options supplémentaires de passthrough d'appareils USB smartmontools au webgui (merci à l'utilisateur GitHub jski)
- Page des paramètres UPS (merci à @othyn) :
  - Ajout de la capacité de définir une surcharge manuelle de capacité UPS.
- UserEdit : en plus des Ed25519, FIDO/U2F Ed25519 et RSA, supporte les types de clés SSH DSA, ECDSA et FIDO/U2F ECDSA
- OpenTerminal: utiliser le shell défini pour l'utilisateur root dans le fichier /etc/passwd
- Toujours afficher l'option "supprimer le partage", mais la désactiver lorsque le partage n'est pas vide

## Divers

### Autres changements

- Remplacer le très ancien 'memtest' par Memtest86+ version 6.20
  - Il existe également des [Options de démarrage](https://github.com/memtest86plus/memtest86plus#boot-options) disponibles
- Supprimer le support pour les anciens certs unraid.net
- Supprimer la fonctionnalité "UpdateDNS" car elle utilise désormais des certificats SSL non legacy et non-wildcard 'unraid.net'
- Supprimez les informations de proxy et '&' du script go
- Correction du traitement du fichier passwd
- Quand le démon avahidaemon est en cours d'exécution, ajouter name.local au fichier hosts
- Retirer keys.lime-technology.com du fichier hosts
- rc.S: supprimer wsync du montage XFS pour éviter le gel du webGUI lors d'E/S intenses sur /boot
- rendre\_bootable\_linux : version 1.4
  - détecter si mtools est installé
- ntp.conf : réglez 'logconfig' pour ignorer LOG\_INFO
- Accélérez le processus : utilisez la commande de rechargement AVAHI au lieu de redémarrer
- Noyau Linux : forcer tous les boîtiers Seagate externes USB défectueux à se lier au stockage-USB au lieu du pilote UAS
- Améliorations du démarrage dans le script rc.S :
  - Réparez automatiquement la sauvegarde du secteur de démarrage
  - Démontez explicitement tous les systèmes de fichiers si vous ne pouvez pas continuer le démarrage
  - Détectez une mauvaise valeur root dans syslinux.cfg
  - le redémarrage ne doit pas invoquer l'arrêt
  - Nettoyer les groupes vides
- Samba smb.conf : définissez "nmbd bind explicit broadcast = no" si NetBIOS est activé
- Ajouter fastcgi\_path\_info à la configuration nginx par défaut
- Assurez-vous que les appels à pgrep ou killall sont limités au namespace courant
- (Avancé) Ajout de la possibilité d'appliquer des règles udev personnalisées depuis `/boot/config/udev/` au démarrage
- Correction de bug : Gestion correcte du fichier Trial.key vide lorsque le téléchargement échoue
- Correction de bug : Correction de l'avertissement PHP pour l'état de l'UPS
- Créer un fichier significatif /etc/os-release
- Corrections diverses de traductions
- webgui: Correction de bug : Fonctionnalité de journalisation de la console JavaScript rétablie
- En cliquant sur le numéro de version Unraid, cela charge les notes de version du site Unraid Docs

## Noyau Linux

- version 6.6.68
  - CONFIG\_MISC\_RTSX\_PCI : Lecteur de carte Realtek PCI-E
  - CONFIG\_MISC\_RTSX\_USB : Lecteur de carte Realtek USB
  - CONFIG\_DRM\_XE : Graphiques Intel Xe
  - CONFIG\_DRM\_XE\_DISPLAY : Activer le support d'affichage
  - CONFIG\_AUDIT : Prise en charge de l'audit
  - CONFIG\_USB\_SERIAL\_OPTION : Pilote USB pour modems GSM et CDMA
  - CONFIG\_USB\_SERIAL\_SIMPLE : Pilote USB Série Simple
  - CONFIG\_USB\_UAS : USB Attaché SCSI
  - CONFIG\_NFS\_V4\_1 : Support client NFS pour NFSv4.1
  - CONFIG\_NFS\_V4\_1\_MIGRATION : Support client NFSv4.1 pour la migration
  - CONFIG\_NFS\_V4\_2 : Support client NFS pour NFSv4.2
  - CONFIG\_NFS\_V4\_2\_READ\_PLUS : NFS : Activer le support pour l'opération READ\_PLUS de NFSv4.2
  - CONFIG\_NFSD\_V4\_2\_INTER\_SSC : NFSv4.2 copie inter-serveurs
  - CONFIG\_USB\_NET\_CDC\_EEM : Support CDC EEM
  - CONFIG\_USB\_NET\_CDC\_NCM : Support CDC NCM
  - CONFIG\_USB\_SERIAL\_XR : Pilote USB MaxLinear/Exar pour port série
  - CONFIG\_CAN : Support du sous-système de bus CAN
  - CONFIG\_CAN\_NETLINK : Pilotes de périphériques CAN avec support Netlink
  - CONFIG\_CAN\_GS\_USB : Interfaces compatibles Geschwister Schneider UG et candleLight
  - CONFIG\_SCSI\_LPFC : Support de la fibre optique Emulex LightPulse
  - CONFIG\_DRM\_VIRTIO\_GPU : Pilote GPU Virtio
  - CONFIG\_DRM\_VIRTIO\_GPU\_KMS : Prise en charge du mode-setting du pilote GPU Virtio
  - CONFIG\_LEDS\_TRIGGERS : Prise en charge du déclenchement de LED
  - CONFIG\_LEDS\_TRIGGER\_ONESHOT : Déclencheur One-shot pour LEDs
  - CONFIG\_LEDS\_TRIGGER\_NETDEV : Déclencheur Netdev pour LEDs
  - CONFIG\_QED : Pilote principal QLogic QED 25/40/100Gb
  - CONFIG\_QED\_SRIOV : Support SR-IOV QLogic QED 25/40/100Gb
  - CONFIG\_QEDE : NIC Ethernet QLogic QED 25/40/100Gb
  - CONFIG\_SCSI\_UFSHCD : Contrôleur de stockage Flash universel
  - CONFIG\_SCSI\_UFS\_BSG : Node de périphérique BSG de stockage Flash universel
  - CONFIG\_SCSI\_UFS\_HWMON : Notification de température UFS
  - CONFIG\_SCSI\_UFSHCD\_PCI : Support du contrôleur UFS basé sur bus PCI
  - CONFIG\_SCSI\_UFS\_DWC\_TC\_PCI : Support pci DesignWare utilisant une puce test G210
  - CONFIG\_SCSI\_UFSHCD\_PLATFORM : Support du contrôleur UFS basé sur bus plateforme
  - CONFIG\_SCSI\_UFS\_CDNS\_PLATFORM : Pilote de plateforme contrôleur UFS Cadence
  - CONFIG\_SCSI\_QLA\_FC : Support Channel QLogic QLA2XXX Fibre
  - CONFIG\_LIQUIDIO : Support de LiquidIO Cavium
  - CONFIG\_LIQUIDIO\_VF : Support VF de LiquidIO Cavium
  - CONFIG\_NTFS\_FS : Support du système de fichiers NTFS \[supprimé - ceci est l'ancien module VFS en lecture seule]
  - CONFIG\_NTFS3\_FS : Support du système de fichiers NTFS en lecture-écriture
  - CONFIG\_NTFS3\_LZX\_XPRESS : activer le support des compressions externes lzx/xpress
  - CONFIG\_NTFS3\_FS\_POSIX\_ACL : Listes de contrôle d'accès POSIX NTFS
  - CONFIG\_UHID : Support du pilote I/O en espace utilisateur pour le sous-système HID
- md/unraid : version 2.9.33
  - corriger la régression : les emplacements vides avant le premier emplacement occupé renvoient NO\_DEVICES
  - corrige la gestion de l'échec du périphérique lors de la reconstruction/synchronisation
- support XEN supprimé

## Distro de base

- aaa\_base : version 15.1
- aaa\_glibc-solibs : version 2.40
- aaa\_libraries : version 15.1
- acl : version 2.3.2
- acpid : version 2.0.34
- adwaita-icon-theme : version 47.0
- apcupsd : version 3.14.14
- appres : version 1.0.7
- at : version 3.2.5
- at-spi2-atk: version 2.38.0
- at-spi2-core : version 2.54.0
- atk : version 2.38.0
- attr : version 2.5.2
- avahi : version 0.8
- bash : version 5.2.037
- bash-completion : version 2.16.0
- beep : version 1.3
- bin : version 11.1
- bind : version 9.20.4
- bluez-firmware : version 1.2
- bridge-utils : version 1.7.1
- brotli : version 1.1.0
- btrfs-progs : version 6.12
- bzip2 : version 1.0.8
- ca-certificates : version 20241120
- cairo : version 1.18.2
- celt051 : version 0.5.1.3
- cifs-utils : version 7.1
- coreutils : version 9.5
- cpio : version 2.15
- cpufrequtils : version 008
- cracklib : version 2.10.3
- cryptsetup : version 2.7.5
- curl : version 8.11.1
- cyrus-sasl: version 2.1.28
- db48 : version 4.8.30
- dbus : version 1.16.0
- dbus-glib: version 0.112
- dcron : version 4.5
- dejavu-fonts-ttf: version 2.37
- devs : version 2.3.1
- dhcpcd : version 10.0.10
- diffutils : version 3.10
- dmidecode : version 3.6
- dnsmasq : version 2.90
- docker : version 27.0.3
- dosfstools : version 4.2
- e2fsprogs : version 1.47.1
- ebtables : version 2.0.11
- editres : version 1.0.9
- elfutils : version 0.192
- elogind : version 255.5
- elvis : version 2.2\_0
- encodings : version 1.1.0
- etc: version 15.1
- ethtool: version 5.19
- eudev : version 3.2.14
- file : version 5.46
- findutils : version 4.10.0
- flex : version 2.6.4
- floppy : version 5.5
- fluxbox : version 1.3.7
- fontconfig : version 2.15.0
- freeglut : version 3.6.0
- freetype : version 2.13.3
- fribidi : version 1.0.16
- fuse3 : version 3.16.2
- gawk : version 5.3.1
- gd: version 2.3.3
- gdbm : version 1.24
- gdk-pixbuf2 : version 2.42.12
- genpower : version 1.0.5
- git : version 2.47.1
- glew: version 2.2.0
- glib2 : version 2.82.4
- glibc : version 2.40
- glibc-zoneinfo : version 2024b
- glu : version 9.0.3
- gmp : version 6.3.0
- gnutls : version 3.8.8
- gptfdisk : version 1.0.10
- graphite2: version 1.3.14
- grep : version 3.11
- gtk+3 : version 3.24.43
- gzip : version 1.13
- harfbuzz : version 10.1.0
- hdparm: version 9.65
- hicolor-icon-theme : version 0.18
- hostname : version 3.25
- htop : version 3.3.0
- hwloc : version 2.2.0
- icu4c : version 76.1
- imlib2 : version 1.7.1
- inetd : version 1.79s
- infozip : version 6.0
- inih : version 58
- inotify-tools : version 4.23.9.0
- intel-microcode : version 20241112
- iperf3 : version 3.17.1
- iproute2 : version 6.12.0
- iptables : version 1.8.11
- iputils : version 20240905
- irqbalance : version 1.7.0
- jansson : version 2.14
- jemalloc: version 5.3.0
- jq : version 1.6
- json-c : version 0.18\_20240915
- json-glib : version 1.10.6
- kbd : version 2.7.1
- kernel-firmware : version 20241220\_9e1d9ae
- keyutils : version 1.6.3
- kmod : version 33
- krb5 : version 1.21.3
- lbzip2 : version 2.5
- less : version 668
- libICE : version 1.1.2
- libSM : version 1.2.5
- libX11 : version 1.8.10
- libXau : version 1.0.12
- libXaw : version 1.0.16
- libXcomposite : version 0.4.6
- libXcursor : version 1.2.3
- libXdamage : version 1.1.6
- libXdmcp : version 1.1.5
- libXevie: version 1.0.3
- libXext : version 1.3.6
- libXfixes : version 6.0.1
- libXfont2 : version 2.0.7
- libXfontcache: version 1.0.5
- libXft : version 2.3.8
- libXi : version 1.8.2
- libXinerama : version 1.1.5
- libXmu : version 1.2.1
- libXpm : version 3.5.17
- libXrandr : version 1.5.4
- libXrender : version 0.9.12
- libXres : version 1.2.2
- libXt : version 1.3.1
- libXtst : version 1.2.5
- libXxf86dga : version 1.1.6
- libXxf86misc: version 1.0.4
- libXxf86vm : version 1.1.6
- libaio: version 0.3.113
- libarchive : version 3.7.7
- libcap-ng : version 0.8.5
- libcgroup : version 0.41
- libdaemon : version 0.14
- libdeflate : version 1.23
- libdmx : version 1.1.5
- libdrm : version 2.4.124
- libedit : version 20240808\_3.1
- libepoxy: version 1.5.10
- libestr : version 0.1.9
- libevdev : version 1.13.3
- libevent : version 2.1.12
- libfastjson : version 0.99.9
- libffi : version 3.4.6
- libfontenc : version 1.1.8
- libgcrypt : version 1.11.0
- libglvnd : version 1.7.0
- libgpg-error : version 1.51
- libgudev : version 238
- libidn : version 1.42
- libjpeg-turbo : version 3.1.0
- liblogging : version 1.0.6
- libmnl: version 1.0.5
- libnetfilter\_conntrack : version 1.1.0
- libnfnetlink: version 1.0.2
- libnftnl : version 1.2.8
- libnl3 : version 3.11.0
- libnvme : version 1.11.1
- libpcap : version 1.10.5
- libpciaccess : version 0.18.1
- libpng : version 1.6.44
- libpsl : version 0.21.5
- libpthread-stubs : version 0.5
- libseccomp : version 2.5.5
- libssh: version 0.11.1
- libssh2 : version 1.11.1
- libtasn1: version 4.19.0
- libtiff : version 4.7.0
- libtirpc : version 1.3.6
- libtpms : version 0.9.0
- libunistring : version 1.3
- libunwind : version 1.8.1
- libusb : version 1.0.27
- libusb-compat : version 0.1.8
- libuv : version 1.49.2
- libvirt : version 10.7.0
- libvirt-php : version 0.5.8
- libwebp : version 1.5.0
- libwebsockets : version 4.3.2
- libx86: version 1.1
- libxcb : version 1.17.0
- libxcvt : version 0.1.3
- libxkbcommon : version 1.7.0
- libxkbfile : version 1.1.3
- libxml2 : version 2.13.5
- libxshmfence : version 1.3.3
- libxslt : version 1.1.42
- libzip : version 1.11.2
- listres : version 1.0.6
- lm\_sensors : version 3.6.0
- lmdb : version 0.9.33
- logrotate : version 3.22.0
- lshw: version B.02.19.2
- lsof : version 4.99.4
- lsscsi: version 0.32
- lvm2 : version 2.03.29
- lz4 : version 1.10.0
- lzip : version 1.24.1
- lzlib : version 1.14
- lzo: version 2.10
- mbuffer : version 20240107
- mc : version 4.8.31
- mcelog : version 202
- mesa : version 24.2.8
- miniupnpc: version 2.1
- mkfontscale : version 1.2.3
- mpfr : version 4.2.1
- mtdev : version 1.1.7
- nano : version 8.3
- ncompress: version 5.0
- ncurses : version 6.5
- net-tools : version 20181103\_0eebece
- nettle : version 3.10
- network-scripts : version 15.1
- nfs-utils : version 2.8.2
- nghttp2 : version 1.64.0
- nghttp3 : version 1.7.0
- nginx : version 1.27.2
- noto-fonts-ttf : version 2024.12.01
- nss-mdns: version 0.14.1
- ntfs-3g : version 2022.10.3
- ntp : version 4.2.8p18
- numactl: version 2.0.13
- nvme-cli : version 2.11
- oniguruma : version 6.9.9
- openssh : version 9.9p1
- openssl : version 3.4.0
- ovmf : version stable202411
- p11-kit : version 0.25.5
- pam : version 1.6.1
- pango : version 1.54.0
- patch: version 2.7.6
- pciutils : version 3.13.0
- pcre: version 8.45
- pcre2 : version 10.44
- perl : version 5.40.0
- php : version 8.3.8
- pixman : version 0.44.2
- pkgtools: version 15.1
- procps-ng : version 4.0.4
- pv: version 1.6.6
- qemu : version 9.1.0
- qrencode: version 4.1.1
- readline : version 8.2.013
- reiserfsprogs: version 3.6.27
- rpcbind: version 1.2.6
- rsync : version 3.3.0
- rsyslog: version 8.2102.0
- sakura : version 3.5.0
- samba : version 4.21.1
- sdparm: version 1.12
- sed : version 4.9
- sessreg : version 1.1.3
- setxkbmap : version 1.3.4
- sg3\_utils : version 1.48
- shadow : version 4.16.0
- shared-mime-info : version 2.4
- slim : version 1.3.6
- smartmontools : version 7.4
- spice: version 0.15.0
- spirv-llvm-translator : version 19.1.2
- sqlite : version 3.46.1
- ssmtp: version 2.64
- startup-notification: version 0.12
- sudo : version 1.9.16p2
- swtpm : version 0.7.3
- sysfsutils: version 2.1.1
- sysstat : version 12.7.6
- sysvinit : version 3.12
- sysvinit-scripts: version 15.1
- talloc : version 2.4.2
- tar : version 1.35
- tcp\_wrappers : version 7.6
- tdb : version 1.4.12
- telnet: version 0.17
- tevent : version 0.16.1
- traceroute : version 2.1.6
- transset : version 1.0.4
- tree : version 2.1.1
- usbredir: version 0.8.0
- usbutils : version 018
- userspace-rcu : version 0.15.0
- utempter : version 1.2.1
- util-linux : version 2.40.2
- vbetool: version 1.2.2
- virtiofsd : version 1.11.1
- vsftpd: version 3.0.5
- vte3 : version 0.50.2
- wayland : version 1.23.1
- wget : version 1.25.0
- which: version 2.21
- wireguard-tools: version 1.0.20210914
- wqy-zenhei-font-ttf : version 0.8.38\_1
- wsdd2 : version 1.8.7
- xauth : version 1.1.3
- xcb-util : version 0.4.1
- xcb-util-keysyms : version 0.4.1
- xclock : version 1.1.1
- xdpyinfo : version 1.3.4
- xdriinfo : version 1.0.7
- xev : version 1.2.6
- xf86-input-evdev : version 2.11.0
- xf86-input-keyboard : version 1.9.0
- xf86-input-mouse : version 1.9.3
- xf86-input-synaptics : version 1.9.2
- xf86-video-ast : version 1.1.5
- xf86-video-mga : version 2.1.0
- xf86-video-vesa : version 2.6.0
- xfsprogs : version 6.12.0
- xhost : version 1.0.9
- xinit : version 1.4.2
- xkbcomp : version 1.4.7
- xkbevd : version 1.1.6
- xkbutils : version 1.0.6
- xkeyboard-config : version 2.43
- xkill : version 1.0.6
- xload : version 1.2.0
- xlsatoms : version 1.1.4
- xlsclients : version 1.1.5
- xmessage : version 1.0.7
- xmodmap : version 1.0.11
- xorg-server : version 21.1.15
- xprop : version 1.2.8
- xrandr : version 1.5.3
- xrdb : version 1.2.2
- xrefresh : version 1.1.0
- xset : version 1.2.5
- xsetroot : version 1.1.3
- xsm : version 1.0.6
- xterm : version 396
- xtrans : version 1.5.2
- xwd : version 1.0.9
- xwininfo : version 1.1.6
- xwud : version 1.0.7
- xxHash : version 0.8.3
- xz : version 5.6.3
- yajl: version 2.1.0
- zfs : version 2.2.7\_6.6.68\_Unraid
- zlib : version 1.3.1
- zstd : version 1.5.6

## Correctifs

Avec le plugin Unraid Patch installé, visitez ***Outils → Unraid Patch*** pour obtenir les correctifs / corrections à chaud suivants :

- le mover ne déplaçait pas les partages avec des espaces dans le nom de l'array vers le pool
- Gestionnaire de fichiers : autoriser l'accès aux partages distants UD
- Liste des partages : l'info-bulle affichait `%20` au lieu d'un espace
- Gestionnaire de VM : corriger le problème avec le champ Discard vide sur vDisk
- Inclure les correctifs installés dans les diagnostics

Note : si vous avez le Plugin de Réglage du Mover installé, vous serez invité à redémarrer pour appliquer ces correctifs.
