## Version 6.11.0 2022-09-23

### Améliorations

- Avec cette version, il y a eu de nombreuses mises à jour du package de base, y compris plusieurs atténuations de CVE.

- La mise à jour du noyau Linux inclut une atténuation des vulnérabilités de données obsolètes du processeur MMIO.

- Le système de plugins a été refactorisé pour que 'installation du plugin' puisse se poursuivre en arrière-plan. Cela allège
  le problème où un utilisateur pourrait penser que l'installation a planté et ferme la fenêtre, alors qu'en réalité cela n'a pas planté.

- De nombreuses autres améliorations de WebGUI.

- Ajout du support pour spécifier des ports VNC personnalisés dans l'éditeur de formulaires du gestionnaire de VM. Le numéro de port personnalisé spécifié
  à l'aide de l'éditeur XML sera conservé lors du passage à l'éditeur basé sur des formulaires.

- La mise en veille des dispositifs non rotatifs place désormais ces dispositifs en mode veille si cela est pris en charge par le dispositif. De la même manière,
  la remise en route ou toute E/S vers le dispositif rétablira le fonctionnement normal.

- Affichage des capacités des dispositifs NVMe obtenues à partir de SMART info.

- Ajout des options de CONFIG kernel nécessaires pour prendre en charge Sr-iov avec les cartes mellanox connectx4+.

- Fusion du plugin Dynamix SSD Trim dans le WebGUI de Unraid.

- Support préliminaire pour cgroup2. Passez 'unraidcgroup2' sur la ligne d'appoint de syslinux pour activer.

- Inclus perl dans la distribution de base.

### Corrections de bugs

- Correction du problème dans le gestionnaire de VM où le journal VM ne peut pas s'ouvrir quand le nom de la VM contient un caractère '#'.

- Correction d'un problème où la pause/reprise de la vérification de la parité selon l'horaire était défaillante.

- Résolution du problème d'installation des clés d'enregistrement.

- Mis à jour 'samba' pour adresser les atténuations de sécurité. Devrait aussi se débarrasser du message du noyau se plaignant de "Tentative de définir un verrou LOCK\_MAND via flock(2)."

- Problème résolu lors du passage de la branche 'test' à 'next'.

- Cessez d'essayer de mettre en veille les dispositifs qui ne prennent pas en charge le mode veille.

- Correction du problème d'adhésion AD causé par une bibliothèque cyrus-sasl obsolète.

- Ne pas démarrer le démon mcelog si le CPU n'est pas pris en charge (la plupart des processeurs AMD).

- Correction de nginx ne reconnaissant pas le renouvellement du certificat SSL.

- wireguard : vérifier la connectivité de la passerelle (prochain saut) avant de démarrer le tunnel WG.

- Ignorer les chaînes "ERREUR:" mélangées dans la sortie de la commande "btrfs filesystem show".
  Cela résout le problème où libblkid pourrait étiqueter un disque de parité comme ayant un système de fichiers btrfs
  parce que l'endroit où il cherche le "numéro magique" se trouve correspondre à btrfs. Les commandes "btrfs fi" suivantes tenteront de lire les métadonnées btrfs à partir de ce dispositif, ce qui échouera
  car il n'y a en réalité pas de système de fichiers btrfs.

- Correction d'un bug dans le déménageur empêchant les fichiers d'être déplacés de la matrice unRAID vers une cache (mode Préférer) si le nom du partage contient un espace.

## Journal des modifications par rapport à Unraid OS 6.10.3

#### Gestion

- Ajoutez des contrôles sha256 des fichiers non compressés dans unRAIDServer.plg.
- bash : dans /etc/profile omettez "." (répertoire courant) du PATH.
- docker : ne pas appeler 'docker stop' s'il n'y a pas de conteneurs en cours d'exécution.
- emhttpd : amélioration du support de veille (spinning).
- déménageur : problème corrigé empêchant le déplacement des fichiers de la matrice vers le cache si le nom du partage contient un espace.
- rc.nginx : activer l'OCSP stapling sur les certificats qui incluent une URL de répondeur OCSP.
- rc.nginx : compressez les fichiers de police 'woff' et instruisez le navigateur pour la mise en cache.
- rc.wireguard : amélioration du dépannage pour le démarrage automatique de WireGuard.
- rc.S : prise en charge du chargement précoce des modules de pilotes de plugin.
- SMB : correction des réglages 'fruit' pour le dispositif de démarrage par clé USB.
- SMB : suppression de la prise en charge de NTLMv1 depuis supprimée du noyau Linux.
- SMB : (temporairement) déplacer les paramètres vfs\_fruit dans un fichier séparé /etc/samba/smb-fruit.conf
- SMB : (temporairement) se débarrasser des lignes d'avertissement Samba 'idmap\_hash est obsolète'
- démarrage : empêcher l'installation de versions rétrogradées de packages pouvant exister dans /boot/extra.
- upc : version v1.3.0.
- WebGUI : mise à jour du système de plugin.
  - Détacher l'opération frontale et dorsale.
  - Utiliser nchan comme canal de communication.
  - Permettre la fermeture de la fenêtre pendant que le backend continue.
  - Utiliser SWAL en tant que gestionnaire de fenêtres.
  - Ajout de la capacité de suppression multiple sur la page des plugins.
  - Ajout de la mise à jour de tous les plugins avec détails.
- WebGUI : docker : utiliser l'étiquette docker comme principale source pour WebUI.
  - Ceci rend l'étiquette docker 'net.unraid.docker.webui' la source principale lors de l'analyse de l'adresse de l'interface web. Si l'étiquette docker est manquante, la valeur du modèle sera utilisée à la place.
- WebGUI : Mise à jour de la page des crédits
- WebGUI : gestionnaire de VM : Corrige le problème où le journal VM ne peut pas s'ouvrir lorsque le nom VM contient un '#'
- WebGUI : page Accès à la gestion : ajouter des détails pour les certificats auto-signés.
- WebGUI : vérification de la parité : corriger l'erreur de régression.
- WebGUI : suppression de la création de session dans les scripts.
- WebGUI : mise à jour de la regex de clé ssh.
  - Ajout du support pour ed25519/sk-ed25519.
  - Retirer le support pour ecdsa (non sécurisé).
  - Utilisation d'une expression régulière appropriée pour vérifier les types de clés valides.
- WebGUI : diverses mises à jour de style
- WebGUI : accès gestion : le paramètre de port HTTP doit toujours être activé.
- WebGUI : Correction : préservation des paramètres de port vnc.
- WebGUI : corriger l'erreur de régression dans le système de plugin.
- WebGUI : Résolution du problème d'installation des clés d'enregistrement.
- WebGUI : Mettre en évidence la sélection de boîtier lorsque l'image personnalisée est sélectionnée.
- WebGUI : correction (upc) : contrôle de la régression de la version de l'API v1.4.2.
- WebGUI : mises à jour des pages de capacités du disque pour les disques NVME.
- WebGUI : tâche (upc) : v1.6.0.
- WebGUI : Système de plugin et mise à jour des conteneurs docker.
- WebGUI : Informations système - mise à jour de style.
- WebGUI : Plugins : garder les boutons d'en-tête à la même position.
- WebGUI : empêcher le débordement de la taille du conteneur pour les basses résolutions.
- WebGUI : gestionnaire de VM : Ajouter l'ordre de démarrage à l'interface graphique et fonction de branchement à chaud du CD.
- WebGUI : Gestionnaire docker : ajout de la possibilité de spécifier le shell avec l'étiquette du conteneur.
- WebGUI : correction : URL de l'agent de notification Discord.
- WebGUI : suppression de l'icône d'information dans le message de bannière quand il n'y a pas d'information disponible.
- WebGUI : Ajout d'un message de mise hors tension et utilisation de -n pour l'identité si le disque est SCSI.
- WebGUI : correction du test SAS.
- WebGUI : corrections des mises à jour multiples du plugin.
- WebGUI : Améliorations de l'affichage UPS :
  - Ajout d'une icône pour chaque catégorie.
  - Ajout de traduction dans la section UPS sur le tableau de bord.
  - Ajout de la valeur de tension/fréquence de sortie.
  - Ajout de la coloration en fonction des paramètres.
  - Normalisation des unités.
  - Rendre les mises à jour presque en temps réel.
  - Ajout du champ de modèle UPS.
- WebGUI : JQuery : version 3.6.1.
- WebGUI : JQueryUI : version 1.13.2.
- WebGUI : amélioration de "l'anéantissement du cache" sur les URLs de fichiers de police.
- WebGUI : correction : la couleur du texte dans la fenêtre contextuelle du docker est parfois incorrecte.
- WebGUI : Correction : afficher les erreurs de lecture pendant la vérification de lecture.
- WebGUI : Gestionnaire de VM : Ajouter la politique de démarrage USB ; ajouter le support USB manquant.
- WebGUI : Docker : correction de l'erreur JavaScript lorsqu'aucun conteneur n'existe.
- WebGUI : ajout de diagnostics tiers au système.
  - ajout de diagnostics pour les packages de plugins tiers.
  - ajout de diagnostics pour les dispositifs /dev/dri.
  - ajout de diagnostics pour les dispositifs /dev/dvb.
  - ajout de diagnostics pour les dispositifs nvidia.

#### Noyau Linux

- version 5.19.9 (CVE-2022-21123 (CVE-2022-21123 CVE-2022-21125 CVE-2022-21166)
- md/unraid : version 2.9.24.
- CONFIG\_IOMMU\_DEFAULT\_PASSTHROUGH : Mode direct
- CONFIG\_VIRTIO\_IOMMU : Pilote virtio IOMMU
- CONFIG\_X86\_AMD\_PSTATE: Pilote P-State pour processeur AMD
- CONFIG\_FIREWIRE : Pile de pilotes FireWire
- CONFIG\_FIREWIRE\_OHCI : Contrôleurs OHCI-1394
- CONFIG\_FIREWIRE\_SBP2 : Périphériques de stockage (protocole SBP-2)
- CONFIG\_FIREWIRE\_NET : Réseau IP sur 1394
- CONFIG\_INPUT\_UINPUT : Support des pilotes au niveau utilisateur
- CONFIG\_INPUT\_JOYDEV : Interface pour joysticks
- CONFIG\_INPUT\_JOYSTICK : Joysticks/Gamepads
- CONFIG\_JOYSTICK\_XPAD : Support de la manette X-Box
- CONFIG\_JOYSTICK\_XPAD\_FF : Support de vibration de la manette X-Box
- CONFIG\_JOYSTICK\_XPAD\_LEDS : Support LED pour le contrôleur Xbox360 'BigX' LED
- CONFIG\_MLX5\_TLS : Support TLS Connect-X de Mellanox Technologies
- CONFIG\_MLX5\_ESWITCH : Support SRIOV E-Switch MLX5 de Mellanox Technologies
- CONFIG\_MLX5\_CLS\_ACT : Support d'action du classificateur MLX5 TC
- CONFIG\_MLX5\_TC\_SAMPLE : Support d'échantillonnage MLX5 TC
- CONFIG\_MLXSW\_SPECTRUM : Support de la famille Spectrum de Mellanox Technologies
- CONFIG\_NET\_SWITCHDEV : Support des appareils de type switch (et similaires)
- CONFIG\_TLS : Support de la sécurité de la couche transport
- CONFIG\_TLS\_DEVICE : Déchargement matériel de la sécurité de la couche transport
- CONFIG\_TLS\_TOE : Contournement de pile TCP de la sécurité de la couche transport
- CONFIG\_VMD : Pilote de périphérique de gestion de volume Intel
- ajout de pilotes supplémentaires pour capteurs :
  - CONFIG\_AMD\_SFH\_HID : Concentrateur de fusion de capteurs AMD
  - CONFIG\_SENSORS\_AQUACOMPUTER\_D5NEXT : Pompe de refroidissement par eau Aquacomputer D5 Next
  - CONFIG\_SENSORS\_MAX6620 : Contrôleur de ventilateur Maxim MAX6620
  - CONFIG\_SENSORS\_NZXT\_SMART2 : Contrôleur de ventilateur et RGB NZXT/Dispositif intelligent v2
  - CONFIG\_SENSORS\_SBRMI : Capteur SB-RMI émulé
  - CONFIG\_SENSORS\_SHT4x : Capteurs d'humidité et de température Sensiron. SHT4x et compatibles.
  - CONFIG\_SENSORS\_SY7636A : Silergy SY7636A
  - CONFIG\_SENSORS\_INA238 : Texas Instruments INA238
  - CONFIG\_SENSORS\_TMP464 : Texas Instruments TMP464 et compatibles
  - CONFIG\_SENSORS\_ASUS\_WMI : ASUS WMI X370/X470/B450/X399
  - CONFIG\_SENSORS\_ASUS\_WMI\_EC : ASUS WMI B550/X570
  - CONFIG\_SENSORS\_ASUS\_EC : Capteurs EC ASUS
- patch : ajouter une référence au firmware manquant dans drivers/bluetooth/btrtl.c.
  - rtl8723d\_fw\.bin
  - rtl8761b\_fw\.bin
  - rtl8761bu\_fw\.bin
  - rtl8821c\_fw\.bin
  - rtl8822cs\_fw\.bin
  - rtl8822cu\_fw\.bin
- CONFIG\_BPF\_UNPRIV\_DEFAULT\_OFF : Désactiver BPF non privilégié par défaut
- correctif : astuce pour Team Group MP33 M.2 2280 1TB NVMe (ID en double globalement pour nsid)
- activer toutes les options du noyau IPv6 :
  - CONFIG_INET6_\*
  - CONFIG_IPV6_\*
- CONFIG\_RC\_CORE : Support du contrôleur à distance
- CONFIG\_SFC\_SIENA : Support Solarflare SFC9000
- CONFIG\_SFC\_SIENA\_MCDI\_LOGGING : Support de journalisation MCDI de la famille Solarflare SFC9000
- CONFIG\_SFC\_SIENA\_MCDI\_MON : Support HWMon de la famille Solarflare SFC9000
- CONFIG\_SFC\_SIENA\_SRIOV : Support SR-IOV de la famille Solarflare SFC9000
- CONFIG\_ZRAM : Support de périphérique de bloc RAM compressé
- CONFIG\_ZRAM\_DEF\_COMP\_LZ4 : Compresseur RAM par défaut (lz4)
- activer toutes les options du noyau EDAC
  - CONFIG\_EDAC : Rapport d'EDAC (Détection et Correction d'Erreurs)
  - CONFIG_EDAC_\*

#### Distro de base

- aaa\_base : version 15.1
- aaa\_glibc-solibs : version 2.36
- aaa\_libraries : version 15.1
- at : version 3.2.3
- bind: version 9.18.6
- btrfs-progs: version 5.19.1
- ca-certificates: version 20220622
- cifs-utils: version 7.0
- coreutils: version 9.1
- cracklib: version 2.9.8
- cryptsetup: version 2.5.0
- curl: version 7.85.0
- cyrus-sasl: version 2.1.28
- dbus: version 1.14.0
- dhcpcd : version 9.4.1
- dmidecode: version 3.4
- docker: version 20.10.17 (CVE-2022-29526 CVE-2022-30634 CVE-2022-30629 CVE-2022-30580 CVE-2022-29804 CVE-2022-29162 CVE-2022-31030)
- etc: version 15.1
- ethtool: version 5.19
- eudev : version 3.2.11
- file: version 5.43
- findutils: version 4.9.0
- firefox : version 105.0.r20220922151854-x86\_64 (AppImage)
- fuse3 : version 3.12.0
- gawk: version 5.2.0
- gdbm: version 1.23
- git: version 2.37.3
- glib2: version 2.72.3
- glibc: version 2.36
- glibc-zoneinfo: version 2022c
- gnutls: version 3.7.7
- gptfdisk : version 1.0.9
- grep: version 3.8
- gzip: version 1.12
- hdparm: version 9.65
- htop: version 3.2.1
- icu4c: version 71.1
- inotify-tools: version 3.22.6.0
- iperf3: version 3.11
- iproute2: version 5.19.0
- iptables: version 1.8.8
- jemalloc: version 5.3.0
- json-c : version 0.16\_20220414
- json-glib : version 1.6.6
- kmod: version 30
- krb5: version 1.20
- libaio: version 0.3.113
- libarchive : version 3.6.1
- libcap-ng: version 0.8.3
- libcgroup: version 3.0.0
- libdrm: version 2.4.113
- libepoxy: version 1.5.10
- libffi: version 3.4.2
- libgcrypt: version 1.10.1
- libgpg-error: version 1.45
- libidn: version 1.41
- libjpeg-turbo: version 2.1.4
- libmnl: version 1.0.5
- libnetfilter\_conntrack : version 1.0.9
- libnfnetlink: version 1.0.2
- libnftnl: version 1.2.3
- libnl3: version 3.7.0
- libpng: version 1.6.38
- libssh: version 0.10.4
- libtasn1: version 4.19.0
- libtirpc: version 1.3.3
- liburcu: version 0.13.1
- libusb: version 1.0.26
- libwebp: version 1.2.4
- libxml2: version 2.9.14
- libxslt: version 1.1.36
- libzip: version 1.9.2
- logrotate: version 3.20.1
- lsof: version 4.95.0
- lzip: version 1.23
- mc: version 4.8.28
- mcelog: version 189
- nano: version 6.4
- nfs-utils: version 2.6.2
- nghttp2: version 1.49.0
- nginx: version 1.22.0
- ntfs-3g: version 2022.5.17
- ntp: version 4.2.8p15
- oniguruma: version 6.9.8
- openssh: version 9.0p1
- openssl: version 1.1.1q (CVE-2022-1292 CVE-2022-2097 CVE-2022-2274)
- openssl-solibs: version 1.1.1q (CVE-2022-1292)
- p11-kit: version 0.24.1
- pciutils: version 3.8.0
- pcre2: version 10.40
- perl: version 5.36.0
- php: version 7.4.30 (CVE-2022-31625 CVE-2022-31626)
- pkgtools: version 15.1
- rpcbind: version 1.2.6
- rsync: version 3.2.6
- samba: version 4.17.0 (CVE-2022-2031 CVE-2022-32744 CVE-2022-32745 CVE-2022-32746 CVE-2022-32742)
- sqlite: version 3.39.3
- sudo: version 1.9.11p3
- sysfsutils: version 2.1.1
- sysstat: version 12.6.0
- sysvinit-scripts: version 15.1
- talloc: version 2.3.4
- tar: version 1.34
- tevent: version 0.13.0
- tree: version 2.0.2
- util-linux: version 2.38.1
- wayland: version 1.21.0
- wget: version 1.21.3
- xfsprogs: version 5.18.0
- xz: version 5.2.6
- zlib: version 1.2.12

["WireGuard" et le logo "WireGuard" sont des marques déposées de Jason A. Donenfeld.](https://www.wireguard.com/)

## Correctifs

Avec le plugin Unraid Patch installé, visitez _**Outils → Unraid Patch**_ pour obtenir les correctifs / corrections à chaud suivants :

- Un sous-ensemble de mises à jour de sécurité, voir [ce blog post](https://unraid.net/blog/cvd) pour les détails. Nous recommandons de mettre à niveau vers la dernière version stable pour des mises à jour de sécurité supplémentaires.
