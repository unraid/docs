# Version 6.12.11 2024-07-16

## Notes de mise à niveau

Cette version inclut des corrections de bogues intéressantes rétroportées de notre travail sur Unraid 7, ainsi qu'une correction de sécurité pour OpenSSH et des mises à jour du noyau Linux et d'OpenZFS.

### Problèmes connus

#### Plugins obsolètes

Les plugins obsolètes peuvent causer des problèmes, nous recommandons de les garder à jour.

#### Bombe fork Docker

Un conteneur Docker cassé ou malveillant peut utiliser tous les identifiants de processus disponibles sur le système, entraînant une instabilité. Nous testons un correctif dans Unraid 7 et le rétroporterons dans une future version (Remarque : ce correctif se trouve dans [6.12.12](6.12.12.md)). Si vous pensez être concerné par ce problème, une solution temporaire consiste à limiter le nombre de PIDs qu'un conteneur peut utiliser en ajoutant `--pids-limit 2048` dans les paramètres supplémentaires du modèle Docker.

#### Traces d'appel et plantages liés à macvlan

Si vous obtenez des traces d'appels liées à macvlan (ou à tout autre plantage inexpliqué), comme première étape, nous vous recommandons de naviguer vers _**Paramètres > Docker**_, de passer à la vue **avancée**, et de changer le **type de réseau personnalisé Docker** de **macvlan** à **ipvlan**. C'est la configuration par défaut qu'Unraid a expédiée depuis la version 6.11.5 et devrait fonctionner pour la plupart des systèmes.

Notez que certains utilisateurs ont signalé des problèmes avec le transfert de port depuis certains routeurs (Fritzbox) et une fonctionnalité réduite avec des outils de gestion de réseau avancés (Ubiquity) en mode ipvlan. Si cela vous affecte, consultez la solution alternative disponible depuis Unraid [6.12.4](6.12.4.md#fix-for-macvlan-call-traces).

#### Problèmes de réseau dus aux trames jumbo

Si vous rencontrez des problèmes réseau de quelque nature que ce soit, vérifiez que vous n'avez pas activé les jumbo frames. Allez à _**Paramètres > Paramètres réseau > eth0**_ et confirmez que le **MTU désiré** est 1500. Pour plus d'informations, consultez l'[avertissement sur les problèmes courants pour les jumbo frames](https://forums.unraid.net/topic/120220-fix-common-problems-more-information/page/2/#comment-1167702).

#### Problèmes dus aux cartes réseau Realtek

Le noyau mis à jour corrige le problème de blocage avec les jumbo frames et le pilote interne Realtek 8125. Cependant, nous recommandons toujours de suivre les conseils ci-dessus concernant les jumbo frames.

Si vous continuez à rencontrer des problèmes de stabilité réseau et que _**Outils > Dispositifs système**_ affiche que vous avez un contrôleur Ethernet Realtek, récupérez le numéro de pièce affiché et recherchez dans les Applications Communautaires pour voir s'il y a un plugin de pilote fourni par Realtek pour cet appareil. Pour plus d'informations, voir la [page de support pour les plugins de pilotes Realtek](https://forums.unraid.net/topic/141349-plugin-realtek-r8125-r8168-and-r81526-drivers/).

#### Autres problèmes ?

Nous recommandons vivement d'installer le plugin **Corriger les Problèmes Courants** car il vous avertira des problèmes de configuration courants.

Si vous rencontrez d'autres plantages ou des problèmes de stabilité, allez à _**Paramètres > Serveur Syslog**_ et activez **Miroir syslog vers flash**. Cela entraînera une usure supplémentaire de votre périphérique de démarrage USB, mais est utile à court terme pour collecter des journaux après un plantage.

Après le prochain redémarrage, naviguez vers _**Outils > Diagnostics**_ et téléchargez vos diagnostics anonymisés (à partir de la version 6.12.5, les diagnostics incluent automatiquement les journaux qui étaient en miroir sur le lecteur flash).

Enfin, commencez un nouveau sujet sous [Support Général](https://forums.unraid.net/forum/55-general-support/) et fournissez tous les détails du problème. Une fois le problème résolu, assurez-vous de désactiver **Miroir syslog vers flash**.

### Rétrogradation

Si vous rétrogradez avant la version 6.12.10, consultez également les [notes de version 6.12.10](6.12.10.md#rolling-back).

## Modifications par rapport à [6.12.10](6.12.10.md)

### Corrections de bugs et améliorations

- Correction de l'erreur 500 à la connexion
- Tableau de Bord
  - Correction de la gestion des tuiles affichant une boîte de dialogue vide
  - Nettoyez les cookies de visibilité laissés dans un état malformé
- VMs
  - Correction du changement de valeur de pont qui ne met pas à jour les machines virtuelles avec plus d'une carte réseau et la machine virtuelle échoue à démarrer
  - Correction de la suppression du GPU et de l'ajout du virtuel pouvant entraîner aucune sortie
- Rendre la coupe cohérente entre "couper maintenant" et tâche cron

### Noyau Linux

- version 6.1.99
- zfs : version 2.1.15

### Distro de base

- openssh : version 9.8p1 (CVE-2024-6387)

## Correctifs

Avec le plugin Unraid Patch installé, visitez _**Outils → Unraid Patch**_ pour obtenir les correctifs / corrections à chaud suivants :

- Un sous-ensemble de mises à jour de sécurité, voir [ce blog post](https://unraid.net/blog/cvd) pour les détails. Nous recommandons de mettre à niveau vers la dernière version stable pour des mises à jour de sécurité supplémentaires.
