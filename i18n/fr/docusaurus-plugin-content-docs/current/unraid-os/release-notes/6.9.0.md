## Version 6.9.0 2021-02-27

Résumé des nouvelles fonctionnalités

## Pools multiples

Cette fonctionnalité vous permet de définir jusqu'à 35 pools nommés, chacun pouvant contenir jusqu'à 30 appareils de stockage.

- Note : Un disque/pool de cache pré-6.9.0 est maintenant simplement un pool nommé "cache". Lorsqu'un serveur avec un disque/pool de cache défini est mis à niveau, une sauvegarde de `config/disk.cfg` sera enregistrée dans `config/disk.cfg.bak`, et les paramètres de l'attribution de l'appareil de cache seront déplacés dans un nouveau fichier, `config/pools/cache.cfg`. Si vous revenez plus tard à une version antérieure de l'Unraid OS, vous perdez vos attributions de cache et devez réattribuer manuellement les appareils au cache. Tant que vous correctez les appareils, les données doivent rester intactes.

Lorsque vous créez un partage utilisateur ou modifiez un partage utilisateur existant, vous pouvez spécifier quel pool doit être associé à ce partage.

Un point à noter : lorsqu'une liste de répertoires est obtenue pour un partage, les volumes de disques d'array Unraid et tous les pools contenant ce partage sont fusionnés dans cet ordre :

> pool assigné au partage
>
> disk1
>
> « : »
>
> disk28
>
> toutes les *autres* pools selon l'ordre
> [strverscmp()](https://man7.org/linux/man-pages/man3/strverscmp.3.html).

Un pool à un seul appareil peut être formaté en xfs, btrfs ou (déprécié) reiserfs. Un pool à plusieurs appareils ne peut être formaté qu'en btrfs. Une future version inclura la prise en charge de plusieurs pools "Unraid array", ainsi qu'un certain nombre d'autres types de pools.

- Note : Autre chose à prendre en compte : Supposons que vous ayez un pool btrfs à 2 appareils. Ce sera ce que btrfs appelle "raid1" et que la plupart des gens comprendraient comme "disques en miroir". Eh bien, c'est en grande partie vrai, car les mêmes données existent sur les deux disques, mais pas nécessairement au niveau du bloc. Supposons maintenant que vous créiez un autre pool, et ce que vous faites est de ne pas attribuer l'un des appareils de l'ancien pool btrfs à 2 appareils et de l'attribuer à ce pool. Maintenant, vous avez x2 pools btrfs à un seul appareil. Au démarrage de l'array, l'utilisateur pourrait logiquement supposer qu'il y a maintenant x2 pools avec exactement les mêmes données. Cependant, ce n'est pas le cas. Au lieu de cela, lorsqu'Unraid OS voit qu'un appareil btrfs a été supprimé d'un pool multi-appareils existant, au démarrage de l'array, il effectuera un `wipefs` sur cet appareil, de sorte qu'au montage, il ne sera pas inclus dans l'ancien pool.

### Options de rééquilibrage btrfs supplémentaires

Les pools multisupports sont toujours créés par défaut avec le profil *raid1* de %%BTRFSbtrfs%%. Si vous avez 3 périphériques ou plus dans un pool, vous pouvez maintenant rééquilibrer vers le profil *raid1c3* (x3 copies de données sur des périphériques distincts). Si vous avez 4 périphériques ou plus dans un pool, vous pouvez maintenant passer au *raid1c4* (x4 copies de données sur des périphériques distincts). Nous avons également modifié l'opération d'équilibrage du *raid6* pour définir les métadonnées en *raid1c3* (précédemment *raid1*).

Cependant, nous avons remarqué que l'application de l'un de ces filtres d'équilibrage à un volume complètement vide laisse certaines étendues de données avec l'ancien profil. La solution est simplement de relancer le même équilibre. Nous considérons cela comme un bug de btrfs et si aucune solution ne se présente, nous ajouterons la deuxième balance par défaut au code.

### Alignement de partition 1 MiB SSD

Nous avons ajouté une autre disposition de partition où le début de la partition 1 est aligné sur une limite de 1 MiB. Autrement dit, pour les appareils qui présentent des secteurs de 512 octets, la partition 1 commencera au secteur 2048 ; pour les appareils ayant des secteurs de 4096 octets, au secteur 256. Ce type de partition est maintenant utilisé lors du formatage de tout stockage non rotatif non formaté uniquement.

Il n'est pas clair quel avantage l'alignement sur 1 MiB offre. Pour certains appareils SSD, vous ne verrez aucune différence ; pour d'autres, peut-être une grande différence de performance. LimeTech ne recommande pas de repartitionner un appareil SSD existant à moins que vous n'ayez une raison impérieuse de le faire (ou que votre TOC ne vous laisse pas faire).

Pour repartitionner un SSD, il est nécessaire de d'abord effacer toute structure de partition existante sur l'appareil. Bien sûr, cela effacera toutes les données présentes sur l'appareil.

`blkdiscard /dev/xxx  # par exemple /dev/sdb ou /dev/nvme0n1 etc`

AVERTISSEMENT : assurez-vous de taper le bon identifiant de périphérique car **toutes les données seront perdues sur ce périphérique !**

Au prochain démarrage de l'array, le périphérique apparaîtra comme non formaté, et comme il n'y a maintenant plus de structure de partition, Unraid OS la créera.

- Remarque : Si vous souhaitez repartitionner votre disque/pool de cache SSD tout en conservant les données, veuillez envisager de publier sur le [Forum de la Communauté Unraid](https://forums.unraid.net/forum/55-general-support/) pour obtenir une assistance avec votre configuration particulière.

### Gestion SMART et Avertissements de Seuil de Stockage

Il y a un fichier de configuration nommé `config/smart-one.cfg` qui stocke des informations relatives à SMART, par exemple, le type de contrôleur à passer à `smartctl` dans le but d'obtenir des informations SMART. De plus, les seuils de volume et de criticité des espaces libres sont stockés dans ce fichier. À partir de cette version, ces paramètres de configuration sont gérés différemment.

Dans le cas de la configuration SMART, les réglages sont enregistrés par ID de l'appareil au lieu de par ID de slot. Cela nous permet de gérer SMART pour les appareils non affectés. Cela permet également à la configuration SMART de "suivre l'appareil" peu importe le slot auquel il est attribué. Cependant, l'implication est que vous devez manuellement reconfigurer les paramètres SMART pour tous les appareils qui diffèrent du défaut.

Les paramètres de seuil de volume et d'espace critique ont été extraits de ce fichier de configuration et sont maintenant enregistrés dans `config/disk.cfg` (pour le tableau Unraid) et dans les fichiers de configuration de pool pour chaque pool.

Après la mise à niveau, vous pouvez recevoir une notification telle que : `Avis [TOWER] - Disque 1 revenu à un niveau d'utilisation normal`. Comme expliqué ci-dessus, tous vos paramètres de configuration SMART ont été réinitialisés par défaut. Visitez `Paramètres -> Paramètres du disque` pour revoir les paramètres par défaut et les modifier pour des lecteurs individuels via `Principal -> Disque X -> Paramètres`.

## Meilleur Support de Module/Pilote Tiers

Rappelez-vous que nous distribuons des modules Linux et du firmware dans des fichiers squashfs séparés qui sont montés en lecture seule sur `/lib/modules` et `/lib/firmware`. Nous configurons maintenant un overlayfs sur chacun de ces points de montage, rendant possible l'installation de modules tiers à l'aide du système de plugins, à condition que ces modules soient construits contre la version actuelle du noyau. De plus, nous définissons un nouveau répertoire sur le périphérique USB flash de démarrage appelé `config/modprobe.d`, dont le contenu est copié dans `/etc/modprobe.d` au début de la séquence de démarrage avant le chargement du noyau Linux.

Cette technique est utilisée pour installer le pilote Nvidia (voir ci-dessous) et peut être utilisée par les Développeurs de la Communauté pour fournir un moyen plus facile d'ajouter des modules non inclus dans le noyau Unraid: pas besoin de construire des fichiers bzimage, bzmodules, bzfirmware et bzroot personnalisés !

### Passage de Paramètres à des Modules

L'utilisation de fichiers `conf` dans `config/modprobe.d` peut être utilisée pour spécifier des options et passer des arguments aux modules.

Actuellement, nous n'avons pas de support UI pour spécifier quelle interface réseau devrait être "principale" dans un bond ; le pilote de bonding sélectionne simplement le premier membre par défaut. Dans certaines configurations, il peut être utile de spécifier une interface préférée explicite, par exemple, si vous avez un bond avec une interface 1Gbit/s (eth0) et une interface 10Gbit/sec (eth1).

Puisque la configuration du bond implique le chargement du module noyau de bonding,
vous pouvez spécifier quelle interface doit être définie comme principale de cette manière :

Créez un fichier sur la clé USB : `config/modprobe.d/bonding.conf` qui contient cette ligne unique, puis redémarrez :

`options bonding primary=eth1`

Après le redémarrage, vous pouvez vérifier si cela a fonctionné en entrant cette commande :

`cat /proc/net/bonding/bond0`

où vous devriez voir l'interface sélectionnée apparaître comme "Primary Slave".

### Pilote Nvidia

Le but de créer des superpositions squashfs montées sur `/lib/modules` et
`/lib/firmware`, ainsi que de fournir un mécanisme permettant de définir des paramètres de module personnalisés, est de permettre l'intégration de pilotes tiers dans Unraid OS sans nécessiter de compilations personnalisées des fichiers bz\*. Un des pilotes tiers les plus demandés pour Unraid OS est le pilote GPU Linux de Nvidia. Ce pilote est requis pour la capacité de transcodage dans les conteneurs Docker. Fournir ce pilote comme plugin pour Unraid OS a nécessité beaucoup de travail pour configurer un environnement dev, compiler le pilote et les outils, puis décompacter les bzmodules, ajouter le pilote, créer de nouveaux bzmodules, et enfin les remplacer dans le répertoire racine de la clé USB. Ce travail a été réalisé par les membres de la communauté [@chbmb](https://forums.unraid.net/profile/6219-chbmb/), [@bass\_rock](https://forums.unraid.net/profile/78406-bass_rock/), et d'autres. En s'appuyant sur leur travail, avec le membre [@ich777](https://forums.unraid.net/profile/72388-ich777/), nous créons maintenant des packages de pilotes Nvidia séparés compilés pour chaque nouvelle version d'Unraid OS utilisant un nouveau noyau, mais non inclus directement dans la distribution bz\*.

Un fichier JSON décrivant la (ou les) version(s) de pilote prise(s) en charge avec chaque noyau peut être téléchargé ici :

[https://s3.amazonaws.com/dnld.lime-technology.com/drivers/releases.json](https://s3.amazonaws.com/dnld.lime-technology.com/drivers/releases.json)

Chaque paquet de pilotes comprend le pilote Nvidia Linux GPU ainsi qu'un ensemble d'outils de conteneur.

`nvidia-container-runtime`\
`nvidia-container-toolkit`\
`libnvidia-container`

Ces outils sont utiles pour faciliter le transcodage accéléré dans les conteneurs Docker. Un grand merci à
[@ich777](https://forums.unraid.net/profile/72388-ich777/) pour son aide et pour avoir fourni les outils.
[@ich777](https://forums.unraid.net/profile/72388-ich777/) a également fourni un [plugin pratique](https://raw.githubusercontent.com/ich777/unraid-nvidia-driver/master/nvidia-driver.plg) pour faciliter l'installation du pilote correct.

L'inclusion de modules tiers dans Unraid OS en utilisant le système de plugins est encore en cours de développement.

## Docker

Il est maintenant possible de sélectionner différentes icônes pour plusieurs conteneurs du même type.

Nous avons également apporté des modifications pour ajouter de la flexibilité dans l'attribution du stockage pour le moteur Docker.

- Sous un vdisk formaté en btrfs monté en boucle sur /var/lib/docker.
- Sous un vdisk formaté en xfs monté en boucle sur /var/lib/docker.
- Dans un répertoire spécifié qui est monté en en-tête sur /var/lib/docker.

Docker utilisera soit le pilote de stockage 'btrfs' dans le cas d'un vdisk/répertoire formaté en btrfs, ou le pilote de stockage 'overlay2' dans le cas d'un vdisk/répertoire formaté en xfs.

Implémenté comme suit : Premièrement, `rc.docker` détectera le type de système de fichiers monté à `/var/lib/docker`.

Ensuite, `mount_image` est modifié pour supporter un fichier monté en boucle formaté soit avec btrfs soit avec xfs.

De plus, nous avons ajouté la possibilité de monter en en-tête un répertoire au lieu d'utiliser une boucle.

## Virtualisation

Nous avons intégré les modifications apportées à la page Outils → Appareils Système par l'utilisateur [@Skitals](https://forums.unraid.net/profile/97624-skitals/), avec les améliorations de l'utilisateur [@ljm42](https://forums.unraid.net/profile/61877-ljm42/). Vous pouvez maintenant sélectionner les périphériques PCI à isoler de Linux au démarrage simplement en cochant des cases. Cela facilite la réservation de ces périphériques pour l'affectation à des VM. Cette technique est connue sous le nom de *stubbing* (car un pilote factice est attribué au périphérique au démarrage, empêchant le vrai pilote Linux d'être attribué).

On pourrait se demander, si nous pouvons *mettre en liste noire* les pilotes individuels, pourquoi devons-nous encore stubber ces appareils pour les attribuer à des VM ? La réponse est : vous pouvez. Mais, si vous avez plusieurs appareils du même type, où certains doivent être passés à une VM et d'autres doivent avoir le pilote hôte Linux installé, alors vous devez utiliser le stubbing pour que les appareils passent aux VM.

Note : Si vous avez installé le plugin VFIO-PCI Config, vous devriez le supprimer car cette fonctionnalité est désormais intégrée à Unraid OS 6.9.

## Support Multilingue

Une autre nouvelle fonctionnalité passionnante dans Unraid 6.9 est la possibilité de télécharger des packs linguistiques et d'utiliser Unraid OS dans un certain nombre de langues différentes.

Un énorme travail et effort ont été mis en œuvre par [@bonienl](https://forums.unraid.net/profile/2736-bonienl/) pour fournir un support multilingue dans l'outil de gestion Unraid OS, alias, WebGUI. Actuellement, *anglais, espagnol, français, allemand, néerlandais, arabe, chinois simplifié, portugais et polonais* sont disponibles, et plusieurs autres sont en cours de préparation.

Grâce à [@Squid](https://forums.unraid.net/profile/10290-squid/),
les packs linguistiques sont installés via le plugin Applications Communautaires -
recherchez une nouvelle catégorie intitulée Langue.

- Remarque : les applications communautaires doivent être à jour pour installer les langues. Pour plus de détails, [voir ici.](https://forums.unraid.net/topic/38582-plug-in-community-applications/page/124/?tab=comments#comment-866710)

Chaque pack de langue existe dans des dépôts Github de l'organisation publique Unraid.

*Pour plus d'informations sur le support multilingue, [veuillez consulter notre guide.](https://unraid.net/blog/unraid-6-9-multi-language-support)*

Nous avons également ajouté une [section multilingue du forum communautaire Unraid](https://forums.unraid.net/forum/75-multi-language-section/).

## Autre

### Intégration des pilotes GPU

Unraid OS comprend maintenant des pilotes d'arbres GPU intégrés.

`/etc/modprobe.d/ast.conf`\
`/etc/modprobe.d/i915.conf`\
`/etc/modprobe.d/amdgpu.conf`\
`/etc/modprobe.d/radeon.conf`

Chacun de ces fichiers a une seule ligne qui *met en liste noire* le pilote, l'empêchant de se charger par le noyau Linux.

Il est possible d'outrepasser les paramètres dans ces fichiers en créant un fichier `conf` personnalisé dans le répertoire `config/modprobe.d` sur votre périphérique USB de démarrage.

`touch /boot/config/modprobe.d/amdgpu.conf`

Cela ne doit être fait qu'une seule fois, il n'est pas nécessaire de l'ajouter à votre script go.

Dans la version 6.9.1, si votre script go contient une commande modprobe pour votre GPU et/ou une commande pour corriger les permissions sur `/dev/dri`, vous devriez les supprimer :

`modprobe amdgpu`\
`chmod -R 777 /dev/dri`

Dans la version 6.9.0, si le docker que vous utilisez n'arrive pas à accéder au GPU, ajoutez/gardez cette ligne dans votre script go :

`chmod -R 777 /dev/dri`

mais supprimez celle-ci :

`modprobe amdgpu`

### Noyau Linux

Nous utilisons un noyau [LTS](https://www.kernel.org/) (Long Term Supported) : version 5.10.x.

Nouvelles fonctionnalités activées dans le noyau :

- Module WireGuard
- Module iScsi Target
- Module USB/IP

Ces pilotes hors série sont inclus :

- Support du pilote Ethernet QLogic QLGE 10Gb (provenant de la mise en attente)
- RealTek r8125 : version 9.003.05 (inclus pour les nouveaux r8125)
- HighPoint rr272x\_1x : version v1.10.6-19\_12\_05 (à la demande de l'utilisateur)

Notez que lorsque nous mettons à jour le noyau Linux, si un pilote hors série ne se compile plus, il sera omis.

Ces pilotes sont **omis** :

- Highpoint RocketRaid r750 (ne compile pas)
- Highpoint RocketRaid rr3740a (ne compile pas)
- Tehuti Networks tn40xx (ne compile pas)

Si vous avez besoin de l'un de ces pilotes, veuillez créer un rapport de bogue et nous prendrons le temps de chercher des alternatives. Encore mieux, harcelez le fabricant du contrôleur pour qu'il mette *à jour* ses pilotes.

### Paquets de base

Tous mis à jour aux dernières versions. De plus, Linux
PAM a été intégré.

### Contrôle de rotation SAS

Nous devrions maintenant pouvoir correctement gérer la montée/descente des dispositifs SAS (enfin) et avec l'incroyable aide de
[@doron](https://forums.unraid.net/profile/8006-doron/) nous y sommes presque.

### Améliorations SSH

Il y a des changements dans `/etc/ssh/sshd_conf` pour améliorer la sécurité (merci à [@Mihai](https://forums.unraid.net/profile/89549-mihai/) et [@ljm42](https://forums.unraid.net/profile/61877-ljm42/) pour les suggestions) :

- Seul l'utilisateur root est autorisé à se connecter via ssh (rappelez-vous : pas d'utilisateurs traditionnels dans Unraid OS - juste 'root')
- un mot de passe non null est désormais requis. Pour définir un mot de passe, allez dans l'onglet Utilisateurs (ou Paramètres -> Utilisateurs, selon votre configuration), puis choisissez l'utilisateur "root", tapez un mot de passe complexe deux fois et appuyez sur CHANGE (pas RESET)
- le tunneling non-root est désactivé

De plus, lors de la mise à jour, nous veillons à ce que le répertoire `config/ssh/root` existe sur le périphérique USB de démarrage.

Donc, si vous aviez auparavant ajouté des commandes à votre script `go` pour copier `authorized_keys` et d'autres fichiers vers `/root/.ssh`, vous devez supprimer ces commandes et simplement mettre les fichiers dans `config/ssh/root`, puis redémarrer.

Remarque : si vous examinez le script de démarrage sshd `/etc/rc.d/rc.sshd`, au démarrage tous les fichiers du répertoire `config/ssh` sont copiés dans `/etc/ssh`.

### "erreurs GSO inattendues"

Si votre journal système est inondé d'erreurs telles que :

`Feb 20 09:09:21 Tower kernel: tun: unexpected GSO type: 0x0, gso_size 31, hdr_len 66`

Vous devez éditer chaque VM et changer le type de modèle pour le pont Ethernet de `virtio` à `virtio-net`.

```xml
<interface type='bridge'>
  <mac address='xx:xx:xx:xx:xx:xx'/>
  <source bridge='br0'/>
  <model type='virtio-net'/>
  <address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/>
</interface>
```

### "noVNC a rencontré une erreur"

Si vous recevez un message `noVNC a rencontré une erreur` après la mise à jour, veuillez vider le cache de votre navigateur.

### Le support AFP a été supprimé

Même Apple s'[�ecaigne](https://www.macworld.com/article/3600899/using-afp-to-share-a-mac-drive-its-time-to-change.html) de ce protocole.

Pour une meilleure interopérabilité avec macOS, et pour exporter un partage à des fins de Time Machine, veuillez vous assurer que "Paramètres/Paramètres SMB/Interopérabilité macOS améliorée" est défini sur "Oui".

## Journal des modifications

#### Distro de base

- aaa\_elflibs : version 15.0 build 27
- acl : version 2.2.53
- acpid : version 2.0.32
- apcupsd : version 3.14.14
- at-spi2-core : version 2.36.1
- at : version 3.2.1
- attr : version 2.4.48
- avahi : version 0.8
- bash : version 5.0.018
- beep : version 1.3
- bin : version 11.1
- bluez-firmware : version 1.2
- bridge-utils : version 1.7
- brotli : version 1.0.9 build 2
- btrfs-progs : version 5.10
- bzip2 : version 1.0.8
- ca-certificates : version 20201219
- celt051 : version 0.5.1.3
- cifs-utils : version 6.11
- coreutils : version 8.32
- cpio : version 2.13
- cpufrequtils : version 008
- cryptsetup : version 2.3.4
- curl : version 7.74.0 (CVE-2020-8231 CVE-2020-8286 CVE-2020-8285 CVE-2020-8284)
- cyrus-sasl : version 2.1.27
- db48 : version 4.8.30
- dbus : version 1.12.20
- dcron : version 4.5
- devs : version 2.3.1 build 25
- dhcpcd : version 8.1.9
- diffutils : version 3.7
- dmidecode : version 3.3
- dnsmasq : version 2.84 (CVE-2020-25681 CVE-2020-25682 CVE-2020-25683 CVE-2020-25684 CVE-2020-25685 CVE-2020-25686 CVE-2020-25687)
- docker : version 19.03.14
- dosfstools : version 4.1
- e2fsprogs : version 1.45.6
- ebtables : version 2.0.11
- eject : version 2.1.5
- elvis : version 2.2\_0
- etc : version 15.0
- ethtool : version 5.9
- eudev : version 3.2.5
- file : version 5.39
- findutils : version 4.7.0
- flex : version 2.6.4
- floppy : version 5.5
- fontconfig: version 2.13.92
- freetype : version 2.10.4
- fribidi : version 1.0.10
- fuse3 : version 3.10.0
- gawk : version 4.2.1
- gd : version 2.2.5
- gdbm : version 1.18.1
- genpower : version 1.0.5
- getty-ps : version 2.1.0b
- git : version 2.29.1
- glib2 : version 2.66.2
- glibc-solibs : version 2.30 build 2
- glibc-zoneinfo : version 2020d
- glibc : version 2.30 build 2
- gmp : version 6.2.0
- gnutls : version 3.6.15
- gptfdisk : version 1.0.5
- grep : version 3.4
- gtk+3 : version 3.24.23
- gzip : version 1.10
- harfbuzz : version 2.7.2
- haveged : version 1.9.13
- hdparm : version 9.60
- hostname : version 3.23
- htop : version 3.0.2
- icu4c : version 68.1
- inetd : version 1.79s
- infozip : version 6.0
- inotify-tools : version 3.20.2.2
- intel-microcode : version 20210216
- iproute2 : version 5.9.0
- iptables : version 1.8.5
- iputils : version 20200821
- irqbalance : version 1.6.0
- jansson : version 2.13.1
- jasper : version 2.0.22
- jemalloc : version 5.2.1
- jq : version 1.6
- firmware noyau : version 20210211\_f7915a0
- keyutils : version 1.6.1
- kmod : version 27
- krb5 : version 1.18.2
- lbzip2 : version 2.5
- lcms2 : version 2.11
- less : version 563
- libX11 : version 1.6.12
- libaio : version 0.3.112
- libarchive : version 3.4.3
- libcap-ng : version 0.8 build 2
- libcgroup : version 0.41
- libdaemon : version 0.14
- libdrm : version 2.4.102
- libedit : version 20191231\_3.1
- libestr : version 0.1.11
- libevdev : version 1.10.0
- libevent : version 2.1.12
- libfastjson : version 0.99.8
- libffi : version 3.3
- libgcrypt : version 1.8.7
- libglvnd : version 1.3.2
- libgpg-error : version 1.39
- libgudev : version 234
- libidn : version 1.36
- libjpeg-turbo : version 2.0.5
- liblogging : version 1.0.6
- libmnl : version 1.0.4
- libnetfilter\_conntrack : version 1.0.8
- libnfnetlink : version 1.0.1
- libnftnl : version 1.1.8
- libnl3 : version 3.5.0
- libpcap : version 1.9.1
- libpciaccess : version 0.16
- libpng : version 1.6.37
- libpsl : version 0.21.1 build 2
- librsvg : version 2.50.1
- libseccomp : version 2.4.3
- libssh2 : version 1.9.0
- libssh : version 0.9.5
- libtasn1 : version 4.16.0
- libtirpc : version 1.2.6
- libunistring : version 0.9.10
- libusb-compat : version 0.1.5
- libusb : version 1.0.23
- libuv : version 1.34.0
- libvirt-php : version 0.5.5
- libvirt : version 6.6.0 (CVE-2020-14339)
- libwebp : version 1.1.0 build 3
- libwebsockets : version 3.2.2
- libx86: version 1.1
- libxkbcommon : version 1.0.1
- libxml2 : version 2.9.10 build 3
- libxslt : version 1.1.34
- libzip : version 1.7.3
- lm\_sensors : version 3.6.0
- lmdb : version 0.9.27
- logrotate : version 3.17.0
- lshw : version B.02.17
- lsof : version 4.93.2
- lsscsi : version 0.31
- lvm2 : version 2.03.10
- lz4 : version 1.9.1
- lzip : version 1.21
- lzo: version 2.10
- mc : version 4.8.25
- miniupnpc: version 2.1
- mpfr: version 4.1.0
- nano : version 5.3
- ncompress : version 4.2.4.6
- ncurses : version 6.2\_20201024
- net-tools : version 20181103\_0eebece
- nettle : version 3.6
- network-scripts : version 15.0 build 9
- nfs-utils : version 2.1.1
- nghttp2 : version 1.41.0
- nginx : version 1.19.5 (CVE-2019-9511, CVE-2019-9513, CVE-2019-9516)
- nodejs : version 13.12.0
- nss-mdns: version 0.14.1
- ntfs-3g : version 2017.3.23
- ntp : version 4.2.8p15 build 3
- numactl : version 2.0.11
- oniguruma : version 6.9.1
- openldap-client : version 2.4.49
- openssh : version 8.4p1 build 2
- openssl-solibs : version 1.1.1i
- openssl : version 1.1.1i
- p11-kit : version 0.23.22 (CVE-2020-29361 CVE-2020-29361 CVE-2020-29361)
- pam : version 1.5.1
- pango : version 1.46.2
- patch: version 2.7.6
- pciutils: version 3.7.0
- pcre2 : version 10.35
- pcre : version 8.44
- php : version 7.4.15 (CVE-2019-11048 CVE-2020-7068 CVE-2020-7070 CVE-2020-7069)
- pixman: version 0.40.0
- pkgtools : version 15.0 build 33
- pm-utils : version 1.4.1
- procps-ng : version 3.3.16
- pv: version 1.6.6
- qemu : version 5.1.0 (CVE-2020-10717, CVE-2020-10761)
- qrencode : version 4.0.2
- reiserfsprogs: version 3.6.27
- rpcbind : version 1.2.5 build 2
- rsync: version 3.2.3
- rsyslog : version 8.2002.0
- samba : version 4.12.11 (CVE-2020-10700, CVE-2020-10704 CVE-2020-10730, CVE-2020-10745, CVE-2020-10760, CVE-2020-14303 CVE-2020-1472 CVE-2020-14318 CVE-2020-14318 CVE-2020-14318)
- sdparm : version 1.11
- sed: version 4.8
- sg3\_utils : version 1.45
- shadow: version 4.8.1
- shared-mime-info : version 2.0
- smartmontools : version 7.1
- spice : version 0.14.1
- sqlite : version 3.33.0
- ssmtp: version 2.64
- sudo : version: 1.9.3p2 (CVE-2021-23239 CVE-2021-23240)
- sysfsutils: version 2.1.0
- sysvinit-scripts : version 2.1 build 35
- sysvinit : version 2.97
- talloc : version 2.3.1 build 4
- tar : version 1.32
- tcp\_wrappers : version 7.6 build 3
- tdb : version 1.4.3 build 4
- telnet: version 0.17
- tevent : version 0.10.2 build 4
- traceroute: version 2.1.0
- tree: version 1.8.0
- ttyd : version 20200624
- usbredir : version 0.7.1
- usbutils : version 013
- utempter: version 1.2.0
- util-linux : version 2.36 build 2
- vbetool: version 1.2.2
- vsftpd : version 3.0.3 build 7
- wget : version 1.20.3
- which: version 2.21
- wireguard-tools : version 1.0.20210223
- wsdd : version 20180618
- xev : version 1.2.4
- xf86-video-vesa : version 2.5.0
- xfsprogs : version 5.9.0
- xinit : version 1.4.1
- xkeyboard-config : version 2.31
- xorg-server : version 1.20.9 build 3
- xterm : version 361
- xxHash : version 0.8.0
- xz : version 5.2.5
- yajl: version 2.1.0
- zlib : version 1.2.11
- zstd : version 1.4.5

#### Noyau Linux

- version 5.10.19
- CONFIG\_WIREGUARD : Tunnel de réseau sécurisé WireGuard
- CONFIG\_IP\_SET : Prise en charge des ensembles d'IP
- CONFIG\_SENSORS\_DRIVETEMP : Disques durs avec capteurs de température
- md/Unraid : version 2.9.17
  - support supprimé pour spinup group spinup/spdindown (fonctionnalité déplacée vers emhttpd)
  - ajout de l’offset de démarrage de synchronisation configurable
- ajout de la prise en charge du noyau iSCSI :\n - CONFIG\_ISCSI\_TARGET : Pile du mode cible iSCSI de Linux-iSCSI.org
  - CONFIG\_ISCSI\_TARGET\_CXGB4 : Pilote de déchargement de cible iSCSI Chelsio
  - CONFIG\_LOOPBACK\_TARGET : Cible virtuelle TCM SAS et module de boucle tissu Linux/SCSI LDD
  - CONFIG\_NVME\_TARGET : Prise en charge de la cible NVMe
  - CONFIG\_NVME\_TARGET\_LOOP : Prise en charge du périphérique de bouclage NVMe
  - CONFIG\_NVME\_TARGET\_PASSTHRU : Prise en charge du Passthrough NVMe Target
  - CONFIG\_TARGET\_CORE : Mod de cible générique (TCM) et infrastructure ConfigFS
  - CONFIG\_TCM\_FILEIO : Plugin de sous-système TCM/FILEIO pour Linux/VFS
  - CONFIG\_TCM\_IBLOCK : Plugin de sous-système TCM/IBLOCK pour Linux/BLOCK
  - CONFIG\_TCM\_PSCSI : Plugin de sous-système TCM/pSCSI pour Linux/SCSI
  - CONFIG\_TCM\_USER2 : Plugin de sous-système TCM/USER pour Linux
- ajout de la prise en charge du noyau USB/IP :\n - CONFIG\_USBIP\_CORE : Prise en charge USB/IP\n - CONFIG\_USBIP\_VHCI\_HCD : VHCI hcd
- mpt3sas : ajout de /etc/modprobe.d/mpt3sas-workaround.conf pour définir\n "max\_queue\_depth=10000"
- oot: Realtek r8152: version 2.13.0
- oot: Tehuti tn40xx: version 0.3.6.17.3
- activation de pilotes natifs hwmon supplémentaires
- activation de pilotes hyperv supplémentaires

#### Gestion

- support AFP supprimé
- Support multilingue ajouté
- Support de plusieurs pools ajouté
- at: supprimer les messages d'ouverture/fermeture de session dans syslog
- éviter d'envoyer spinup/spindown aux périphériques non-rotatifs
- btrfs: inclure l'option de montage 'discard=async'
- correction de bug: renommer /etc/krb.conf en /etc/krb5.conf
- nettoyage passwd, shadow
- dhcpcd: ipv6: utiliser slaac hwaddr au lieu de slaac privé
- docker: corriger la logique d'affectation du driver de stockage
- docker: supporte à la fois les systèmes de fichiers btrfs et xfs
- emhtppd: supprimer le périphérique chiffré wipefs du pool multi-périphériques
- emhtptd: suivre l'arrêt propre/non propre en utilisant le fichier 'config/forcesync'
- emhttpd: ajout de la fonction wipefs (bouton 'Effacer' dans le WebGUI)
- emhttpd: éviter de supprimer inutilement le fichier mover.cron
- emhttpd: éviter d'utiliser le remount pour définir des options de montage supplémentaires
- emhttpd: correction de bug : pas de Smartdata pour le type de contrôleur non standard
- emhttpd: correction de bug : les températures initiales des périphériques ne s'affichent pas
- emhttpd: corriger la logique 'Effacer' pour les périphériques Unraid
- emhttpd: activer SMART sur les périphériques au démarrage
- emhttpd: corriger le réglage 'auto' où les pools activés pour le partage utilisateur ne doivent pas être exportés
- emhttpd: corriger le type de contrôleur "SMART" de disque non respecté lors de la lecture des températures
- emhttpd: corriger 'smartctl -n standby' externe causant le spinup du périphérique
- emhttpd : supprimer l'événement poll\_attributes
- emhttpd: implémenter le spinup/spindown de groupe; ajouter des appels spinup/spindown
- emhttpd : autoriser l'effacement des dispositifs de remplacement 'DISK\_DSBL\_NEW'
- emhttpd : restaurer l'appel de l'événement 'poll\_attributes'
- emhttpd: les périphériques non assignés s'arrêtent selon le défaut global
- emhttpd: encore une autre méthode de calcul 'free/used' btrfs
- corriger le crash d'emhttpd résultant de l'exportation de partages de disques NFS
- corriger les partitions de périphériques non-rotatifs qui n'étaient pas réellement alignées sur 1MiB
- se débarrasser du support de plugin 'system' (jamais utilisé)
- intégrer PAM
- intégrer les changements de script ljm42 vfio-pci
- loopbacks: permettre xfs ou btrfs basé sur le nom de fichier
- modprobe: lister en noir les pilotes GPU par défaut, config/modprobe.d/\*
  peut annuler au démarrage
- monter tous les volumes btrfs avec l'option 'space\_cache=v2'
- monter les loopbacks avec l'option 'noatime'; activer 'direct-io'
- mount\_image : supporte le montage bind
- les partitions de périphériques non-rotatifs sont alignées par défaut sur une limite de 1MiB
- plugin: supporter la validation de fichiers sha256
- rsyslog: corriger le "Mirror syslog to flash" cassé
- samba: désactiver aio par défaut
- shfs : déplacement : préserver ioctl\_iflags lors du déplacement entre les mêmes types de systèmes de fichiers
- shfs: déplacer: supporter les fichiers épars
- smart-one.cfg garde les informations SMART par ID au lieu de par emplacement; la configuration des avertissements critiques a été déplacée vers le fichier cfg disque/pool
- smb : problème de jointeure Ad corrigé
- smb: supprimer le paramétrage des options 'aio' dans smb.conf, utiliser les valeurs par défaut de samba
- ssh: ajouter un lien symbolique /root/.ssh au répertoire /boot/config/ssh/root
- ssh: autoriser uniquement l'utilisateur root, exiger des mots de passe, désactiver le tunneling non-root
- ssh: exiger des mots de passe, désactiver le tunneling non-root
- démarrage: configurer un overlayfs pour /lib/modules et /lib/firmware
- syslog: configurer pour écouter aussi sur le port udp localhost 514
- terminal Web: inhiber la fenêtre pop-up d'avertissement lors de la fermeture de la fenêtre
- support wireguard : rc.wireguard : ajouter des règles iptables
- WebGUI: Correction des avertissements dockerupdate.php
- WebGUI: Mettre à jour le statut
- WebGUI: Ajouter l'option de carte de clavier 'Portugais (pt)' pour libvirt
- WebGUI: Ajouter un délai d'attente personnalisable lors de l'arrêt des conteneurs
- WebGUI: Ajouter une visionneuse de journaux pour vfio-pci
- WebGUI: Ajouter un agent de notification pour Discord
- WebGUI: Ajouter des informations sur les pools au diagnostic
- WebGUI: Ajouter des options d'équilibrage de pool raid1c3 et raid1c4 btrfs.
- WebGUI: Ajouter une boîte de dialogue de mise à jour au menu contextuel Docker
- WebGUI: Ajouter une option de redémarrage en "mode sécurisé" ponctuel
- WebGUI: Ajouter des informations btrfs pour tous les pools dans les diagnostics
- WebGUI: Nouveau paramètre d'affichage: afficher les identifiants de périphérique normalisés ou bruts
- WebGUI: Ajout du paramètre "Activer l'affectation du partage utilisateur" au pool de cache
- WebGUI: Prendre en charge les registres Docker privés avec authentification basique ou sans authentification, et améliorations pour l'authentification basée sur jetons
- WebGUI: Autoriser différents types d'images à télécharger avec un maximum de 512K
- WebGUI: Permettre aux conteneurs en double d'avoir des icônes différentes
- WebGUI : Autoriser le markdown dans les descriptions de containers
- WebGUI: Changer l'icône pour Info de la carte mère de l'engrenage (paramètres) à info
- WebGUI: Changé: Cohérence entre le tableau de bord et Docker sur l'accès aux journaux
- WebGUI: Tableau de bord: corriger les statistiques de l'interface manquante
- WebGUI: Tableau de bord: ajustement de style pour l'icône du serveur
- WebGUI: Détecter une session invalide et déconnecter l'onglet actuel
- WebGUI: Diagnostics : Supprimer les hachages SHA256
- WebGUI: Interdire "?" dans les noms de partage
- WebGUI : Paramètres d'affichage : les couleurs doivent être des chiffres hexadécimaux de 3 ou 6 caractères
- WebGUI: Ne pas afficher les profils CA dans la liste Ajouter un conteneur
- WebGUI: Docker : autoriser le vdisk BTRFS ou XFS, ou l'emplacement de dossier
- WebGUI: Docker : gestion plus intuitive des images
- WebGUI: Corriger l'apparition de '
- WebGUI: Corriger l'option de langue Azure / Gray Switch étant coupée
- WebGUI: Corriger les avertissements de bannières qui ne se ferment pas sans rechargement de page
- WebGUI: Corriger les VM démarrées qui n'apparaissent pas dans le tableau de bord
- WebGUI: Corriger le crash lors de la lecture de très gros fichiers journaux (limitation de la sortie à 1000 lignes).
- WebGUI : Corriger la suppression de toutes les notifications
- WebGUI: Corriger l'impossibilité de changer l'horaire de vérification de la parité s'il n'y a pas de pool de cache présent
- WebGUI: Corriger les notifications qui réapparaissent continuellement
- WebGUI: Corriger l'impossibilité d'utiliser les icônes en haut à droite si des notifications sont présentes
- WebGUI: Corriger la mauvaise référence d'URL de docker run
- WebGUI: Corriger: Tableau de bord / Défilement Docker sur iPad
- WebGUI: Corriger: correctement définir le cookie samesite (corriger le problème de connexion avec Safari)
- WebGUI: Pour profil de données de pool raid6 btrfs utilisez le profil de métadonnées raid1c3.
- WebGUI: Réorganisation des boutons d'icônes
- WebGUI: Page principale: masquer le bouton Déplacer lorsque les partages utilisateur ne sont pas activés
- WebGUI: Multilingue: Corriger l'erreur de régression : indicateur manquant pour les champs requis
- WebGUI: Multilangue : Correction impossible de supprimer / modifier les utilisateurs
- WebGUI: Paramètres réseau: montrer le premier serveur DNSv6
- WebGUI: Réseau: autoriser la valeur métrique de zéro pour ne pas définir de passerelle par défaut
- WebGUI: Réseau: corriger les extensions de confidentialité non définies
- WebGUI: Nouvelles permissions: Prise en charge des pools multi-cache
- WebGUI: Notifications : Corriger l'écart sur blanc / noir
- WebGUI: Permettre la configuration du système de fichiers lorsque la matrice est démarrée pour les volumes non démontables.
- WebGUI: Empêcher "Ajouter" de revenir à l'anglais lors de l'ajout d'un nouvel utilisateur avec un nom d'utilisateur invalide
- WebGUI: Empêcher les nics regroupés d'être liés à vfio-pci aussi
- WebGUI: Retirer WG du Tableau de bord s'il n'y a pas de tunnels définis
- WebGUI: Afficher un message lorsqu'il y a trop de fichiers pour la navigation
- WebGUI: Prendre en charge les liens dans les notifications
- WebGUI: Supprimer le lien Autofan sur le Tableau de bord si le plugin n'est pas installé
- WebGUI: Supprimer WG du Tableau de bord si aucun tunnel n'est défini
- WebGUI: Basculer les Diagnostics sur socket Web
- WebGUI: SysDevs - avertir si vous quittez la page sans sauvegarder
- WebGUI: Révision de SysDevs avec liaison vfio-pci.cfg
- WebGUI: Fenêtre de sélection de cas à onglets
- WebGUI : plugins de tâches : capacité de définir Display\_Name
- WebGUI: Mise à jour de Feedback.php
- WebGUI: Mettre à jour jGrowl à la version 1.4.7
- WebGUI: Mettre à jour noVNC à la version 1.2.0
- WebGUI: Icônes de cas mises à jour
- WebGUI: Utiliser la boîte de dialogue d'image de mise à jour pour l'entrée de mise à jour dans le menu contextuel Docker
- WebGUI: VM Manager: ajouter 'virtio-win-0.1.189-1' à la liste des VirtIO-ISOs
- WebGUI: VM manager: Corriger: Passer des graphiques VM VNC au GPU passthrough
- WebGUI: VM manager: ajouter virtio-win-0.1.190-1
- WebGUI: Gestionnaire de VM: nouveau paramètre "Modèle de réseau"
- WebGUI: VMs: Corrigé : L'ajout de NICs ou de montures VirtFS à une VM est limité
- WebGUI: VMs: Corrigé : dans de rares cas, le vdisk passe par défaut à Automatique alors qu'il devrait être Manuel
- WebGUI: VMs: changer le modèle de réseau par défaut sur virtio-net
- WebGUI : VM : gestion plus intuitive de la sélection d'image
- WebGUI: éviter une erreur de syntaxe php si le fichier source autov() n'existe pas
- WebGUI: meilleure gestion de plusieurs nics avec vfio-pci
- WebGUI: corriger le mauvais icône de cas affiché sur le formulaire de connexion
- WebGUI: ne pas essayer d'afficher les informations SMART qui causent un spin-up pour les appareils qui sont en veille
- WebGUI: dockerMan: Autoriser lire plus dans la vue avancée
- WebGUI: dockerMan: N'autoriser que les noms compatibles avec docker
- WebGUI: dockerMan: Démarrage sélectif à l'installation
- WebGUI: corriger: jGrowl couvrant les boutons
- WebGUI: corriger: invite de connexion lors du changement entre serveurs
- WebGUI : autres améliorations diverses
- WebGUI: les pools non activés pour les partages utilisateurs ne doivent pas être sélectionnables pour le cache
- WebGUI : assainir l'entrée sur tail\_log
- WebGUI : définir l'icône de boîtier par défaut 'mid-tower'
- WebGUI : support pour l'allumage/extinction et le suivi de température des dispositifs non assignés
- WebGUI : désactiver l'autocomplétion du nom d'utilisateur dans le formulaire de connexion
- WebGUI : gestionnaire de vm : préserver les paramètres de port VNC
- WebGUI : vnc : ajouter une rupture de cache du navigateur

["WireGuard" et le logo "WireGuard" sont des marques déposées de Jason A. Donenfeld.](https://www.wireguard.com/)
